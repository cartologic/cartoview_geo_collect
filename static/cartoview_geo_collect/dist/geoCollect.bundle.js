!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("geoCollect",[],e):"object"==typeof exports?exports.geoCollect=e():t.geoCollect=e()}(this,function(){return webpackJsonp_name_([0],{"+b92":function(t,e,i){"use strict";var n={};n.linearRing=function(t,e,i,n){for(var r=0,a=t[i-n],o=t[i-n+1];i>e;e+=n){var s=t[e],l=t[e+1];r+=o*s-a*l,a=s,o=l}return r/2},n.linearRings=function(t,e,i,r){var a,o,s=0;for(a=0,o=i.length;o>a;++a){var l=i[a];s+=n.linearRing(t,e,l,r),e=l}return s},n.linearRingss=function(t,e,i,r){var a,o,s=0;for(a=0,o=i.length;o>a;++a){var l=i[a];s+=n.linearRings(t,e,l,r),e=l[l.length-1]}return s},e.a=n},"+w9S":function(t,e,i){"use strict";function n(t){return void 0!==t.ref}function r(t){return void 0!==t.key}var a=i("BEQ0"),o=i("FL23"),s=(i("YyeZ"),i("rJur"),Object.prototype.hasOwnProperty),l=i("Kmv0"),u={key:!0,ref:!0,__self:!0,__source:!0},h=function(t,e,i,n,r,a,o){return{$$typeof:l,type:t,key:e,ref:i,props:o,_owner:a}};h.createElement=function(t,e,i){var a,l={},c=null,f=null;if(null!=e){n(e)&&(f=e.ref),r(e)&&(c=""+e.key),void 0===e.__self||e.__self,void 0===e.__source||e.__source;for(a in e)s.call(e,a)&&!u.hasOwnProperty(a)&&(l[a]=e[a])}var d=arguments.length-2;if(1===d)l.children=i;else if(d>1){for(var p=Array(d),g=0;d>g;g++)p[g]=arguments[g+2];l.children=p}if(t&&t.defaultProps){var m=t.defaultProps;for(a in m)void 0===l[a]&&(l[a]=m[a])}return h(t,c,f,0,0,o.current,l)},h.createFactory=function(t){var e=h.createElement.bind(null,t);return e.type=t,e},h.cloneAndReplaceKey=function(t,e){return h(t.type,e,t.ref,0,0,t._owner,t.props)},h.cloneElement=function(t,e,i){var l,c=a({},t.props),f=t.key,d=t.ref,p=t._owner;if(null!=e){n(e)&&(d=e.ref,p=o.current),r(e)&&(f=""+e.key);var g;t.type&&t.type.defaultProps&&(g=t.type.defaultProps);for(l in e)s.call(e,l)&&!u.hasOwnProperty(l)&&(c[l]=void 0===e[l]&&void 0!==g?g[l]:e[l])}var m=arguments.length-2;if(1===m)c.children=i;else if(m>1){for(var _=Array(m),y=0;m>y;y++)_[y]=arguments[y+2];c.children=_}return h(t.type,f,d,0,0,p,c)},h.isValidElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===l},t.exports=h},"/3K7":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("omE/"),a=i("iHAK"),o=i("sR3l"),s=i("J25b"),l=function(t,e){if(o.a.call(this),this.unique_=!!(e||{}).unique,this.array_=t||[],this.unique_)for(var i=0,n=this.array_.length;n>i;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()};n.a.inherits(l,o.a),l.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},l.prototype.extend=function(t){var e,i;for(e=0,i=t.length;i>e;++e)this.push(t[e]);return this},l.prototype.forEach=function(t,e){for(var i=e?t.bind(e):t,n=this.array_,r=0,a=n.length;a>r;++r)i(n[r],r,n)},l.prototype.getArray=function(){return this.array_},l.prototype.item=function(t){return this.array_[t]},l.prototype.getLength=function(){return this.get(l.Property_.LENGTH)},l.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new l.Event(a.a.ADD,e))},l.prototype.pop=function(){return this.removeAt(this.getLength()-1)},l.prototype.push=function(t){return this.unique_&&this.assertUnique_(t),this.insertAt(this.getLength(),t),this.getLength()},l.prototype.remove=function(t){var e,i,n=this.array_;for(e=0,i=n.length;i>e;++e)if(n[e]===t)return this.removeAt(e)},l.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new l.Event(a.a.REMOVE,e)),e},l.prototype.setAt=function(t,e){var i=this.getLength();if(i>t){this.unique_&&this.assertUnique_(e,t);var n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new l.Event(a.a.REMOVE,n)),this.dispatchEvent(new l.Event(a.a.ADD,e))}else{var r;for(r=i;t>r;++r)this.insertAt(r,void 0);this.insertAt(t,e)}},l.prototype.updateLength_=function(){this.set(l.Property_.LENGTH,this.array_.length)},l.prototype.assertUnique_=function(t,e){for(var i=0,n=this.array_.length;n>i;++i)if(this.array_[i]===t&&i!==e)throw new r.a(58)},l.Property_={LENGTH:"length"},l.Event=function(t,e){s.a.call(this,t),this.element=e},n.a.inherits(l.Event,s.a),e.default=l},"/3dj":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("1Cty"),a=function(t){var e,i=t||{};e=void 0!==i.attributions?i.attributions:[a.ATTRIBUTION];var n=void 0!==i.crossOrigin?i.crossOrigin:"anonymous",o=void 0!==i.url?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";r.default.call(this,{attributions:e,cacheSize:i.cacheSize,crossOrigin:n,opaque:void 0===i.opaque||i.opaque,maxZoom:void 0!==i.maxZoom?i.maxZoom:19,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,url:o,wrapX:i.wrapX})};n.a.inherits(a,r.default),a.ATTRIBUTION='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.',e.default=a},"/LWt":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("OEyb"),r=i("3BBv"),a=i("WTDv"),o={};o.boundingExtent=function(t){for(var e=o.createEmpty(),i=0,n=t.length;n>i;++i)o.extendCoordinate(e,t[i]);return e},o.boundingExtentXYs_=function(t,e,i){var n=Math.min.apply(null,t),r=Math.min.apply(null,e),a=Math.max.apply(null,t),s=Math.max.apply(null,e);return o.createOrUpdate(n,r,a,s,i)},o.buffer=function(t,e,i){return i?(i[0]=t[0]-e,i[1]=t[1]-e,i[2]=t[2]+e,i[3]=t[3]+e,i):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]},o.clone=function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()},o.closestSquaredDistanceXY=function(t,e,i){var n,r;return n=t[0]>e?t[0]-e:e>t[2]?e-t[2]:0,r=t[1]>i?t[1]-i:i>t[3]?i-t[3]:0,n*n+r*r},o.containsCoordinate=function(t,e){return o.containsXY(t,e[0],e[1])},o.containsExtent=function(t,e){return!(t[0]>e[0]||e[2]>t[2]||t[1]>e[1]||e[3]>t[3])},o.containsXY=function(t,e,i){return!(t[0]>e||e>t[2]||t[1]>i||i>t[3])},o.coordinateRelationship=function(t,e){var i=t[0],n=t[1],r=t[2],o=t[3],s=e[0],l=e[1],u=a.a.UNKNOWN;return i>s?u|=a.a.LEFT:s>r&&(u|=a.a.RIGHT),n>l?u|=a.a.BELOW:l>o&&(u|=a.a.ABOVE),u===a.a.UNKNOWN&&(u=a.a.INTERSECTING),u},o.createEmpty=function(){return[1/0,1/0,-1/0,-1/0]},o.createOrUpdate=function(t,e,i,n,r){return r?(r[0]=t,r[1]=e,r[2]=i,r[3]=n,r):[t,e,i,n]},o.createOrUpdateEmpty=function(t){return o.createOrUpdate(1/0,1/0,-1/0,-1/0,t)},o.createOrUpdateFromCoordinate=function(t,e){var i=t[0],n=t[1];return o.createOrUpdate(i,n,i,n,e)},o.createOrUpdateFromCoordinates=function(t,e){var i=o.createOrUpdateEmpty(e);return o.extendCoordinates(i,t)},o.createOrUpdateFromFlatCoordinates=function(t,e,i,n,r){var a=o.createOrUpdateEmpty(r);return o.extendFlatCoordinates(a,t,e,i,n)},o.createOrUpdateFromRings=function(t,e){var i=o.createOrUpdateEmpty(e);return o.extendRings(i,t)},o.equals=function(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]},o.extend=function(t,e){return t[0]>e[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),t[1]>e[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t},o.extendCoordinate=function(t,e){t[0]>e[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),t[1]>e[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])},o.extendCoordinates=function(t,e){var i,n;for(i=0,n=e.length;n>i;++i)o.extendCoordinate(t,e[i]);return t},o.extendFlatCoordinates=function(t,e,i,n,r){for(;n>i;i+=r)o.extendXY(t,e[i],e[i+1]);return t},o.extendRings=function(t,e){var i,n;for(i=0,n=e.length;n>i;++i)o.extendCoordinates(t,e[i]);return t},o.extendXY=function(t,e,i){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],i),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],i)},o.forEachCorner=function(t,e,i){var n;return(n=e.call(i,o.getBottomLeft(t)))?n:(n=e.call(i,o.getBottomRight(t)))?n:(n=e.call(i,o.getTopRight(t)))?n:(n=e.call(i,o.getTopLeft(t)))||!1},o.getArea=function(t){var e=0;return o.isEmpty(t)||(e=o.getWidth(t)*o.getHeight(t)),e},o.getBottomLeft=function(t){return[t[0],t[1]]},o.getBottomRight=function(t){return[t[2],t[1]]},o.getCenter=function(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]},o.getCorner=function(t,e){var i;return e===r.a.BOTTOM_LEFT?i=o.getBottomLeft(t):e===r.a.BOTTOM_RIGHT?i=o.getBottomRight(t):e===r.a.TOP_LEFT?i=o.getTopLeft(t):e===r.a.TOP_RIGHT?i=o.getTopRight(t):n.a.assert(!1,13),i},o.getEnlargedArea=function(t,e){var i=Math.min(t[0],e[0]),n=Math.min(t[1],e[1]);return(Math.max(t[2],e[2])-i)*(Math.max(t[3],e[3])-n)},o.getForViewAndSize=function(t,e,i,n,r){var a=e*n[0]/2,s=e*n[1]/2,l=Math.cos(i),u=Math.sin(i),h=a*l,c=a*u,f=s*l,d=s*u,p=t[0],g=t[1],m=p-h+d,_=p-h-d,y=p+h-d,v=p+h+d,E=g-c-f,b=g-c+f,x=g+c+f,C=g+c-f;return o.createOrUpdate(Math.min(m,_,y,v),Math.min(E,b,x,C),Math.max(m,_,y,v),Math.max(E,b,x,C),r)},o.getHeight=function(t){return t[3]-t[1]},o.getIntersectionArea=function(t,e){var i=o.getIntersection(t,e);return o.getArea(i)},o.getIntersection=function(t,e,i){var n=i||o.createEmpty();return o.intersects(t,e)&&(n[0]=t[0]>e[0]?t[0]:e[0],n[1]=t[1]>e[1]?t[1]:e[1],n[2]=e[2]>t[2]?t[2]:e[2],n[3]=e[3]>t[3]?t[3]:e[3]),n},o.getMargin=function(t){return o.getWidth(t)+o.getHeight(t)},o.getSize=function(t){return[t[2]-t[0],t[3]-t[1]]},o.getTopLeft=function(t){return[t[0],t[3]]},o.getTopRight=function(t){return[t[2],t[3]]},o.getWidth=function(t){return t[2]-t[0]},o.intersects=function(t,e){return!(t[0]>e[2]||e[0]>t[2]||t[1]>e[3]||e[1]>t[3])},o.isEmpty=function(t){return t[0]>t[2]||t[1]>t[3]},o.returnOrUpdate=function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t},o.scaleFromCenter=function(t,e){var i=(t[2]-t[0])/2*(e-1),n=(t[3]-t[1])/2*(e-1);t[0]-=i,t[2]+=i,t[1]-=n,t[3]+=n},o.intersectsSegment=function(t,e,i){var n=!1,r=o.coordinateRelationship(t,e),s=o.coordinateRelationship(t,i);if(r===a.a.INTERSECTING||s===a.a.INTERSECTING)n=!0;else{var l,u,h=t[0],c=t[1],f=t[2],d=t[3],p=e[0],g=e[1],m=i[0],_=i[1],y=(_-g)/(m-p);s&a.a.ABOVE&&!(r&a.a.ABOVE)&&(l=m-(_-d)/y,n=l>=h&&f>=l),n||!(s&a.a.RIGHT)||r&a.a.RIGHT||(u=_-(m-f)*y,n=u>=c&&d>=u),n||!(s&a.a.BELOW)||r&a.a.BELOW||(l=m-(_-c)/y,n=l>=h&&f>=l),n||!(s&a.a.LEFT)||r&a.a.LEFT||(u=_-(m-h)*y,n=u>=c&&d>=u)}return n},o.applyTransform=function(t,e,i){var n=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(n,n,2),o.boundingExtentXYs_([n[0],n[2],n[4],n[6]],[n[1],n[3],n[5],n[7]],i)},e.default=o},"/eQR":function(t,e,i){"use strict";e.a={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}},"/lfX":function(t,e,i){"use strict";function n(t){return r(t.replace(a,"ms-"))}var r=i("D+Oo"),a=/^-ms-/;t.exports=n},"/oxx":function(t,e,i){"use strict";function n(t){return null===t||void 0===t||!1===t||"object"===(void 0===t?"undefined":s(t))&&0===Object.keys(t).length}function r(t){if(n(t))return null;if("object"!==(void 0===t?"undefined":s(t)))return t;for(var e={},i=Object.keys(t),r=!1,a=0;i.length>a;a++){var l=t[i[a]],u=o(l);null!==u&&u===l||(r=!0),null!==u&&(e[i[a]]=u)}return 0===Object.keys(e).length?null:r?e:t}function a(t){var e=!1,i=[];return t.forEach(function(t){var n=o(t);null!==n&&n===t||(e=!0),null!==n&&i.push(n)}),0==i.length?null:e?i:t}function o(t){return Array.isArray(t)?a(t):r(t)}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=o},"/r5S":function(t,e,i){"use strict";function n(t,e){if("cursor"===t&&a.hasOwnProperty(e))return r.map(function(t){return t+e})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r=["-webkit-","-moz-",""],a={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};t.exports=e.default},"/zVC":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("ECY+"),a=i("OEyb"),o=i("B87n"),s=i("aC3Q"),l=i("/eQR"),u=i("tFCN"),h=function(t){var e=t||{},i=u.a.assign({},e);delete i.preload,delete i.useInterimTilesOnError,s.default.call(this,i),this.setPreload(e.preload?e.preload:0),this.setUseInterimTilesOnError(!e.useInterimTilesOnError||e.useInterimTilesOnError);var n=e.renderMode;a.a.assert(void 0==n||n==l.a.IMAGE||n==l.a.HYBRID||n==l.a.VECTOR,28),e.declutter&&n==l.a.IMAGE&&(n=l.a.HYBRID),this.renderMode_=n||l.a.HYBRID,this.type=r.a.VECTOR_TILE};n.a.inherits(h,s.default),h.prototype.getPreload=function(){return this.get(o.a.PRELOAD)},h.prototype.getRenderMode=function(){return this.renderMode_},h.prototype.getUseInterimTilesOnError=function(){return this.get(o.a.USE_INTERIM_TILES_ON_ERROR)},h.prototype.setPreload=function(t){this.set(o.a.PRELOAD,t)},h.prototype.setUseInterimTilesOnError=function(t){this.set(o.a.USE_INTERIM_TILES_ON_ERROR,t)},e.default=h},"0qHO":function(t,e,i){"use strict";function n(t,e){if(a.hasOwnProperty(t)&&o.hasOwnProperty(e))return r.map(function(t){return t+e})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r=["-webkit-","-moz-",""],a={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},o={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};t.exports=e.default},"1Cty":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("NUc0"),a=i("7yEG"),o=function(t){var e=t||{},i=void 0!==e.projection?e.projection:"EPSG:3857",n=void 0!==e.tileGrid?e.tileGrid:a.a.createXYZ({extent:a.a.extentFromProjection(i),maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});r.a.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,logo:e.logo,opaque:e.opaque,projection:i,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition})};n.a.inherits(o,r.a),e.default=o},"1olO":function(t,e,i){"use strict";function n(t){if(!t)return t;var e={};return a.Children.map(t,function(t){return t}).forEach(function(t){e[t.key]=t}),e}function r(t,e){function i(i){return e.hasOwnProperty(i)?e[i]:t[i]}t=t||{},e=e||{};var n={},r=[];for(var a in t)e.hasOwnProperty(a)?r.length&&(n[a]=r,r=[]):r.push(a);var o=void 0,s={};for(var l in e){if(n.hasOwnProperty(l))for(o=0;n[l].length>o;o++){var u=n[l][o];s[n[l][o]]=i(u)}s[l]=i(l)}for(o=0;r.length>o;o++)s[r[o]]=i(r[o]);return s}e.__esModule=!0,e.getChildMapping=n,e.mergeChildMappings=r;var a=i("GiK3")},"2FaZ":function(t,e,i){"use strict";var n=i("zF6X"),r={};r.DOCUMENT=document.implementation.createDocument("","",null),r.createElementNS=function(t,e){return r.DOCUMENT.createElementNS(t,e)},r.getAllTextContent=function(t,e){return r.getAllTextContent_(t,e,[]).join("")},r.getAllTextContent_=function(t,e,i){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)i.push(e?(t.nodeValue+"").replace(/(\r\n|\r|\n)/g,""):t.nodeValue);else{var n;for(n=t.firstChild;n;n=n.nextSibling)r.getAllTextContent_(n,e,i)}return i},r.isDocument=function(t){return t instanceof Document},r.isNode=function(t){return t instanceof Node},r.getAttributeNS=function(t,e,i){return t.getAttributeNS(e,i)||""},r.setAttributeNS=function(t,e,i,n){t.setAttributeNS(e,i,n)},r.parse=function(t){return(new DOMParser).parseFromString(t,"application/xml")},r.makeArrayExtender=function(t,e){return function(i,r){var a=t.call(e,i,r);void 0!==a&&n.a.extend(r[r.length-1],a)}},r.makeArrayPusher=function(t,e){return function(i,n){var r=t.call(void 0!==e?e:this,i,n);void 0!==r&&n[n.length-1].push(r)}},r.makeReplacer=function(t,e){return function(i,n){var r=t.call(void 0!==e?e:this,i,n);void 0!==r&&(n[n.length-1]=r)}},r.makeObjectPropertyPusher=function(t,e,i){return function(n,r){var a=t.call(void 0!==i?i:this,n,r);if(void 0!==a){var o,s=r[r.length-1],l=void 0!==e?e:n.localName;o=l in s?s[l]:s[l]=[],o.push(a)}}},r.makeObjectPropertySetter=function(t,e,i){return function(n,r){var a=t.call(void 0!==i?i:this,n,r);void 0!==a&&(r[r.length-1][void 0!==e?e:n.localName]=a)}},r.makeChildAppender=function(t,e){return function(i,n,r){t.call(void 0!==e?e:this,i,n,r),r[r.length-1].node.appendChild(i)}},r.makeArraySerializer=function(t,e){var i,n;return function(e,a,o){if(void 0===i){i={};var s={};s[e.localName]=t,i[e.namespaceURI]=s,n=r.makeSimpleNodeFactory(e.localName)}r.serialize(i,n,a,o)}},r.makeSimpleNodeFactory=function(t,e){var i=t;return function(t,n,a){var o=n[n.length-1],s=o.node,l=i;void 0===l&&(l=a);var u=e;return void 0===e&&(u=s.namespaceURI),r.createElementNS(u,l)}},r.OBJECT_PROPERTY_NODE_FACTORY=r.makeSimpleNodeFactory(),r.makeSequence=function(t,e){for(var i=e.length,n=Array(i),r=0;i>r;++r)n[r]=t[e[r]];return n},r.makeStructureNS=function(t,e,i){var n,r,a=void 0!==i?i:{};for(n=0,r=t.length;r>n;++n)a[t[n]]=e;return a},r.parseNode=function(t,e,i,n){var r;for(r=e.firstElementChild;r;r=r.nextElementSibling){var a=t[r.namespaceURI];if(void 0!==a){var o=a[r.localName];void 0!==o&&o.call(n,r,i)}}},r.pushParseAndPop=function(t,e,i,n,a){return n.push(t),r.parseNode(e,i,n,a),n.pop()},r.serialize=function(t,e,i,n,r,a){for(var o,s,l=(void 0!==r?r:i).length,u=0;l>u;++u)void 0!==(o=i[u])&&void 0!==(s=e.call(a,o,n,void 0!==r?r[u]:void 0))&&t[s.namespaceURI][s.localName].call(a,s,o,n)},r.pushSerializeAndPop=function(t,e,i,n,a,o,s){return a.push(t),r.serialize(e,i,n,a,o,s),a.pop()},e.a=r},"2S6f":function(t,e,i){"use strict";var n={};n.easeIn=function(t){return Math.pow(t,3)},n.easeOut=function(t){return 1-n.easeIn(1-t)},n.inAndOut=function(t){return 3*t*t-2*t*t*t},n.linear=function(t){return t},n.upAndDown=function(t){return.5>t?n.inAndOut(2*t):1-n.inAndOut(2*(t-.5))},e.a=n},"2YNO":function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i("GiK3"),l=n(s),u=i("KSGD"),h=n(u),c=function(t){function e(i){return r(this,e),a(this,t.call(this,i))}return o(e,t),e.prototype.render=function(){var t=this.props,e=t.value,i=t.file,n=t.toggleComponent,r=t.saveAll;return l.default.createElement("div",{className:"col-md-12 "+t.extraClasses},l.default.createElement("h2",null,"Details"),l.default.createElement("hr",null),l.default.createElement("h4",null,"Form Data"),l.default.createElement("small",null,"Are you Sure You Want to Save The Following Values:"," "),l.default.createElement("br",null),l.default.createElement("br",null),l.default.createElement("table",{className:"table table-striped"},l.default.createElement("thead",null,l.default.createElement("tr",null,l.default.createElement("th",null,"Field"),l.default.createElement("th",null,"Value"))),l.default.createElement("tbody",null,Object.keys(e).map(function(t,i){return l.default.createElement("tr",{key:i},l.default.createElement("td",null,t),l.default.createElement("td",null,e[t]))}))),l.default.createElement("h4",null,"Attachment "),i&&l.default.createElement("div",{className:"row",style:{marginTop:"5%"}},l.default.createElement("div",{className:"col-xs-12 col-sm-12 col-md-6 col-md-offset-3"},l.default.createElement("img",{className:"img-responsive",src:i.base64}))),l.default.createElement("br",null),l.default.createElement("br",null),l.default.createElement("br",null),l.default.createElement("br",null),l.default.createElement("div",{className:"row"},l.default.createElement("div",{className:"col-xs-12 col-sm-6 col-md-6col-lg-6 text-center"},l.default.createElement("button",{onClick:function(){return n("locationForm")},className:"btn btn-block  btn-primary"},"Previous")),l.default.createElement("div",{className:"col-xs-12 col-sm-6 col-md-6 col-lg-6  text-center"},l.default.createElement("button",{onClick:function(){return r()},className:i?"btn btn-block btn-primary":"btn btn-block btn-primary disabled"},"Save"))))},e}(s.Component);e.default=c,c.propTypes={value:h.default.object.isRequired,file:h.default.object,toggleComponent:h.default.func.isRequired,saveAll:h.default.func.isRequired,extraClasses:h.default.string}},"2fQu":function(t,e,i){"use strict";var n=i("CXX0"),r=i("6t+W"),a=i("dDPv"),o=i("ZVo0"),s=function(){a.a.call(this),this.revision_=0};n.a.inherits(s,a.a),s.unByKey=function(t){if(Array.isArray(t))for(var e=0,i=t.length;i>e;++e)r.a.unlistenByKey(t[e]);else r.a.unlistenByKey(t)},s.prototype.changed=function(){++this.revision_,this.dispatchEvent(o.a.CHANGE)},s.prototype.getRevision=function(){return this.revision_},s.prototype.on=function(t,e,i){if(Array.isArray(t)){for(var n=t.length,a=Array(n),o=0;n>o;++o)a[o]=r.a.listen(this,t[o],e,i);return a}return r.a.listen(this,t,e,i)},s.prototype.once=function(t,e,i){if(Array.isArray(t)){for(var n=t.length,a=Array(n),o=0;n>o;++o)a[o]=r.a.listenOnce(this,t[o],e,i);return a}return r.a.listenOnce(this,t,e,i)},s.prototype.un=function(t,e,i){if(Array.isArray(t))for(var n=0,a=t.length;a>n;++n)r.a.unlisten(this,t[n],e,i);else r.a.unlisten(this,t,e,i)},e.a=s},"2p9+":function(t,e,i){"use strict";var n=function(t,e,i,n){this.minX=t,this.maxX=e,this.minY=i,this.maxY=n};n.createOrUpdate=function(t,e,i,r,a){return void 0!==a?(a.minX=t,a.maxX=e,a.minY=i,a.maxY=r,a):new n(t,e,i,r)},n.prototype.contains=function(t){return this.containsXY(t[1],t[2])},n.prototype.containsTileRange=function(t){return!(this.minX>t.minX||t.maxX>this.maxX||this.minY>t.minY||t.maxY>this.maxY)},n.prototype.containsXY=function(t,e){return!(this.minX>t||t>this.maxX||this.minY>e||e>this.maxY)},n.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},n.prototype.extend=function(t){this.minX>t.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),this.minY>t.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},n.prototype.getHeight=function(){return this.maxY-this.minY+1},n.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},n.prototype.getWidth=function(){return this.maxX-this.minX+1},n.prototype.intersects=function(t){return!(this.minX>t.maxX||t.minX>this.maxX||this.minY>t.maxY||t.minY>this.maxY)},e.a=n},"3BBv":function(t,e,i){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},"3ahG":function(t,e,i){"use strict";var n={};n.lineString=function(t,e,i,n){var r,a=t[e],o=t[e+1],s=0;for(r=e+n;i>r;r+=n){var l=t[r],u=t[r+1];s+=Math.sqrt((l-a)*(l-a)+(u-o)*(u-o)),a=l,o=u}return s},n.linearRing=function(t,e,i,r){var a=n.lineString(t,e,i,r),o=t[i-r]-t[e],s=t[i-r+1]-t[e+1];return a+=Math.sqrt(o*o+s*s)},e.a=n},"4Xqj":function(t,e,i){"use strict";var n=i("+w9S"),r=n.createFactory;t.exports={a:r("a"),abbr:r("abbr"),address:r("address"),area:r("area"),article:r("article"),aside:r("aside"),audio:r("audio"),b:r("b"),base:r("base"),bdi:r("bdi"),bdo:r("bdo"),big:r("big"),blockquote:r("blockquote"),body:r("body"),br:r("br"),button:r("button"),canvas:r("canvas"),caption:r("caption"),cite:r("cite"),code:r("code"),col:r("col"),colgroup:r("colgroup"),data:r("data"),datalist:r("datalist"),dd:r("dd"),del:r("del"),details:r("details"),dfn:r("dfn"),dialog:r("dialog"),div:r("div"),dl:r("dl"),dt:r("dt"),em:r("em"),embed:r("embed"),fieldset:r("fieldset"),figcaption:r("figcaption"),figure:r("figure"),footer:r("footer"),form:r("form"),h1:r("h1"),h2:r("h2"),h3:r("h3"),h4:r("h4"),h5:r("h5"),h6:r("h6"),head:r("head"),header:r("header"),hgroup:r("hgroup"),hr:r("hr"),html:r("html"),i:r("i"),iframe:r("iframe"),img:r("img"),input:r("input"),ins:r("ins"),kbd:r("kbd"),keygen:r("keygen"),label:r("label"),legend:r("legend"),li:r("li"),link:r("link"),main:r("main"),map:r("map"),mark:r("mark"),menu:r("menu"),menuitem:r("menuitem"),meta:r("meta"),meter:r("meter"),nav:r("nav"),noscript:r("noscript"),object:r("object"),ol:r("ol"),optgroup:r("optgroup"),option:r("option"),output:r("output"),p:r("p"),param:r("param"),picture:r("picture"),pre:r("pre"),progress:r("progress"),q:r("q"),rp:r("rp"),rt:r("rt"),ruby:r("ruby"),s:r("s"),samp:r("samp"),script:r("script"),section:r("section"),select:r("select"),small:r("small"),source:r("source"),span:r("span"),strong:r("strong"),style:r("style"),sub:r("sub"),summary:r("summary"),sup:r("sup"),table:r("table"),tbody:r("tbody"),td:r("td"),textarea:r("textarea"),tfoot:r("tfoot"),th:r("th"),thead:r("thead"),time:r("time"),title:r("title"),tr:r("tr"),track:r("track"),u:r("u"),ul:r("ul"),var:r("var"),video:r("video"),wbr:r("wbr"),circle:r("circle"),clipPath:r("clipPath"),defs:r("defs"),ellipse:r("ellipse"),g:r("g"),image:r("image"),line:r("line"),linearGradient:r("linearGradient"),mask:r("mask"),path:r("path"),pattern:r("pattern"),polygon:r("polygon"),polyline:r("polyline"),radialGradient:r("radialGradient"),rect:r("rect"),stop:r("stop"),svg:r("svg"),text:r("text"),tspan:r("tspan")}},"4acs":function(t,e,i){"use strict";var n=i("CXX0"),r=i("JouG"),a={},o="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";a.FIREFOX=-1!==o.indexOf("firefox"),a.SAFARI=-1!==o.indexOf("safari")&&-1==o.indexOf("chrom"),a.WEBKIT=-1!==o.indexOf("webkit")&&-1==o.indexOf("edge"),a.MAC=-1!==o.indexOf("macintosh"),a.DEVICE_PIXEL_RATIO=window.devicePixelRatio||1,a.CANVAS_LINE_DASH=!1,a.CANVAS=n.a.ENABLE_CANVAS&&function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return!!t&&(void 0!==t.setLineDash&&(a.CANVAS_LINE_DASH=!0),!0)}catch(t){return!1}}(),a.DEVICE_ORIENTATION="DeviceOrientationEvent"in window,a.GEOLOCATION="geolocation"in navigator,a.TOUCH=n.a.ASSUME_TOUCH||"ontouchstart"in window,a.POINTER="PointerEvent"in window,a.MSPOINTER=!!navigator.msPointerEnabled,function(){if(n.a.ENABLE_WEBGL){var t,e=!1,i=[];if("WebGLRenderingContext"in window)try{var o=document.createElement("CANVAS"),s=r.a.getContext(o,{failIfMajorPerformanceCaveat:!0});s&&(e=!0,t=s.getParameter(s.MAX_TEXTURE_SIZE),i=s.getSupportedExtensions())}catch(t){}a.WEBGL=e,n.a.WEBGL_EXTENSIONS=i,n.a.WEBGL_MAX_TEXTURE_SIZE=t}}(),e.a=a},"4wBM":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("xek4"),a=i("kfRt"),o=i("MJuv"),s=i("5ifQ"),l=i("7OqO"),u=function(t){var e=t||{};l.a.call(this,{handleDownEvent:u.handleDownEvent_,handleDragEvent:u.handleDragEvent_,handleUpEvent:u.handleUpEvent_}),this.condition_=e.condition?e.condition:o.a.shiftKeyOnly,this.lastAngle_=void 0,this.lastMagnitude_=void 0,this.lastScaleDelta_=0,this.duration_=void 0!==e.duration?e.duration:400};n.a.inherits(u,l.a),u.handleDragEvent_=function(t){if(o.a.mouseOnly(t)){var e=t.map,i=e.getSize(),n=t.pixel,a=n[0]-i[0]/2,l=i[1]/2-n[1],u=Math.atan2(l,a),h=Math.sqrt(a*a+l*l),c=e.getView();if(c.getConstraints().rotation!==r.a.disable&&void 0!==this.lastAngle_){var f=u-this.lastAngle_;s.a.rotateWithoutConstraints(c,c.getRotation()-f)}if(this.lastAngle_=u,void 0!==this.lastMagnitude_){var d=this.lastMagnitude_*(c.getResolution()/h);s.a.zoomWithoutConstraints(c,d)}void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/h),this.lastMagnitude_=h}},u.handleUpEvent_=function(t){if(!o.a.mouseOnly(t))return!0;var e=t.map,i=e.getView();i.setHint(a.a.INTERACTING,-1);var n=this.lastScaleDelta_-1;return s.a.rotate(i,i.getRotation()),s.a.zoom(i,i.getResolution(),void 0,this.duration_,n),this.lastScaleDelta_=0,!1},u.handleDownEvent_=function(t){return!!o.a.mouseOnly(t)&&!!this.condition_(t)&&(t.map.getView().setHint(a.a.INTERACTING,1),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0)},e.default=u},"5+ax":function(t,e,i){"use strict";function n(t,e,i){if(t.hasOwnProperty(e))for(var n=t[e],r=0,o=n.length;o>r;++r)i[n[r]+(0,a.default)(e)]=i[e]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r=i("Khs5"),a=function(t){return t&&t.__esModule?t:{default:t}}(r);t.exports=e.default},5020:function(t,e,i){t.exports=i.p+"cd1fe5358a520dae41720b7d87a76f9a.png"},"5ifQ":function(t,e,i){"use strict";var n=i("CXX0"),r=i("sR3l"),a=i("2S6f"),o={ACTIVE:"active"},s=o,l=function(t){r.a.call(this),this.map_=null,this.setActive(!0),this.handleEvent=t.handleEvent};n.a.inherits(l,r.a),l.prototype.getActive=function(){return this.get(s.ACTIVE)},l.prototype.getMap=function(){return this.map_},l.prototype.setActive=function(t){this.set(s.ACTIVE,t)},l.prototype.setMap=function(t){this.map_=t},l.pan=function(t,e,i){var n=t.getCenter();if(n){var r=t.constrainCenter([n[0]+e[0],n[1]+e[1]]);i?t.animate({duration:i,easing:a.a.linear,center:r}):t.setCenter(r)}},l.rotate=function(t,e,i,n){e=t.constrainRotation(e,0),l.rotateWithoutConstraints(t,e,i,n)},l.rotateWithoutConstraints=function(t,e,i,n){if(void 0!==e){var r=t.getRotation(),o=t.getCenter();void 0!==r&&o&&n>0?t.animate({rotation:e,anchor:i,duration:n,easing:a.a.easeOut}):t.rotate(e,i)}},l.zoom=function(t,e,i,n,r){e=t.constrainResolution(e,0,r),l.zoomWithoutConstraints(t,e,i,n)},l.zoomByDelta=function(t,e,i,n){var r=t.getResolution(),a=t.constrainResolution(r,e,0);if(i&&void 0!==a&&a!==r){var o=t.getCenter(),s=t.calculateCenterZoom(a,i);s=t.constrainCenter(s),i=[(a*o[0]-r*s[0])/(a-r),(a*o[1]-r*s[1])/(a-r)]}l.zoomWithoutConstraints(t,a,i,n)},l.zoomWithoutConstraints=function(t,e,i,n){if(e){var r=t.getResolution(),o=t.getCenter();void 0!==r&&o&&e!==r&&n?t.animate({resolution:e,anchor:i,duration:n,easing:a.a.easeOut}):(i&&t.setCenter(t.calculateCenterZoom(e,i)),t.setResolution(e))}},e.a=l},"5spe":function(t,e,i){"use strict";var n=i("CXX0"),r=i("zF6X"),a=i("/LWt"),o=i("aStr"),s=i("U/IR"),l=i("dyCJ"),u=i("xL0k"),h=i("f5c8"),c=i("+b92"),f={};f.linearRingss=function(t,e,i,n){var r,o,s=[],l=a.default.createEmpty();for(r=0,o=i.length;o>r;++r){var u=i[r];l=a.default.createOrUpdateFromFlatCoordinates(t,e,u[0],n),s.push((l[0]+l[2])/2,(l[1]+l[3])/2),e=u[u.length-1]}return s};var d=f,p=i("bmSR"),g=i("ZXW8"),m=i("hrLW"),_=i("wupX"),y=i("vhPq"),v=i("pWpL"),E=i("piqq"),b=i("LmAy"),x=function(t,e){h.a.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(t,e)};n.a.inherits(x,h.a),x.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var i=this.flatCoordinates.length;r.a.extend(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();var n,a;for(n=0,a=e.length;a>n;++n)e[n]+=i}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},x.prototype.clone=function(){for(var t=new x(null),e=this.endss_.length,i=Array(e),n=0;e>n;++n)i[n]=this.endss_[n].slice();return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),i),t},x.prototype.closestPointXY=function(t,e,i,n){return n<a.default.closestSquaredDistanceXY(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(p.a.getssMaxSquaredDelta(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),p.a.getssClosestPoint(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,i,n))},x.prototype.containsXY=function(t,e){return g.a.linearRingssContainsXY(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},x.prototype.getArea=function(){return c.a.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},x.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),E.a.orientLinearRingss(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,_.a.coordinatesss(e,0,this.endss_,this.stride)},x.prototype.getEndss=function(){return this.endss_},x.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=d.linearRingss(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=y.a.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},x.prototype.getInteriorPoints=function(){var t=new l.default(null);return t.setFlatCoordinates(o.a.XYM,this.getFlatInteriorPoints().slice()),t},x.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;E.a.linearRingssAreOriented(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=E.a.orientLinearRingss(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},x.prototype.getSimplifiedGeometryInternal=function(t){var e=[],i=[];e.length=b.a.quantizess(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,i);var n=new x(null);return n.setFlatCoordinates(o.a.XY,e,i),n},x.prototype.getPolygon=function(t){if(0>t||t>=this.endss_.length)return null;var e;if(0===t)e=0;else{var i=this.endss_[t-1];e=i[i.length-1]}var n=this.endss_[t].slice(),r=n[n.length-1];if(0!==e){var a,o;for(a=0,o=n.length;o>a;++a)n[a]-=e}var s=new u.a(null);return s.setFlatCoordinates(this.layout,this.flatCoordinates.slice(e,r),n),s},x.prototype.getPolygons=function(){var t,e,i,n,r=this.layout,a=this.flatCoordinates,o=this.endss_,s=[],l=0;for(t=0,e=o.length;e>t;++t){var h=o[t].slice(),c=h[h.length-1];if(0!==l)for(i=0,n=h.length;n>i;++i)h[i]-=l;var f=new u.a(null);f.setFlatCoordinates(r,a.slice(l,c),h),s.push(f),l=c}return s},x.prototype.getType=function(){return s.a.MULTI_POLYGON},x.prototype.intersectsExtent=function(t){return v.a.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},x.prototype.setCoordinates=function(t,e){if(t){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=m.a.coordinatesss(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===i.length)this.flatCoordinates.length=0;else{var n=i[i.length-1];this.flatCoordinates.length=0===n.length?0:n[n.length-1]}this.changed()}else this.setFlatCoordinates(o.a.XY,null,this.endss_)},x.prototype.setFlatCoordinates=function(t,e,i){this.setFlatCoordinatesInternal(t,e),this.endss_=i,this.changed()},x.prototype.setPolygons=function(t){var e,i,n,a=this.getLayout(),o=[],s=[];for(e=0,i=t.length;i>e;++e){var l=t[e];0===e&&(a=l.getLayout());var u=o.length;n=l.getEnds();var h,c;for(h=0,c=n.length;c>h;++h)n[h]+=u;r.a.extend(o,l.getFlatCoordinates()),s.push(n)}this.setFlatCoordinates(a,o,s)},e.a=x},"6HMI":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("FeXB"),a=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};a.prototype.clone=function(){var t=this.getColor();return new a({color:t&&t.slice?t.slice():t||void 0})},a.prototype.getColor=function(){return this.color_},a.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},a.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_=this.color_ instanceof CanvasPattern||this.color_ instanceof CanvasGradient?""+n.a.getUid(this.color_):"f"+(this.color_?r.a.asString(this.color_):"-")),this.checksum_},e.default=a},"6NQJ":function(t,e,i){"use strict";var n=i("CXX0"),r=i("emf4"),a=i.n(r),o=i("/LWt"),s=i("tFCN"),l=function(t){this.rbush_=a()(t),this.items_={}};l.prototype.insert=function(t,e){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(i),this.items_[n.a.getUid(e)]=i},l.prototype.load=function(t,e){for(var i=Array(e.length),r=0,a=e.length;a>r;r++){var o=t[r],s=e[r],l={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:s};i[r]=l,this.items_[n.a.getUid(s)]=l}this.rbush_.load(i)},l.prototype.remove=function(t){var e=n.a.getUid(t),i=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(i)},l.prototype.update=function(t,e){var i=this.items_[n.a.getUid(e)];o.default.equals([i.minX,i.minY,i.maxX,i.maxY],t)||(this.remove(e),this.insert(t,e))},l.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},l.prototype.getInExtent=function(t){return this.rbush_.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}).map(function(t){return t.value})},l.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},l.prototype.forEachInExtent=function(t,e,i){return this.forEach_(this.getInExtent(t),e,i)},l.prototype.forEach_=function(t,e,i){for(var n,r=0,a=t.length;a>r;r++)if(n=e.call(i,t[r]))return n;return n},l.prototype.isEmpty=function(){return s.a.isEmpty(this.items_)},l.prototype.clear=function(){this.rbush_.clear(),this.items_={}},l.prototype.getExtent=function(t){var e=this.rbush_.data;return o.default.createOrUpdate(e.minX,e.minY,e.maxX,e.maxY,t)},l.prototype.concat=function(t){this.rbush_.load(t.rbush_.all());for(var e in t.items_)this.items_[0|e]=t.items_[0|e]},e.a=l},"6jsf":function(t,e){var i=window.crypto||window.msCrypto;t.exports=function(t){return i.getRandomValues(new Uint8Array(t))}},"6kNu":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconPlaceholder=void 0;var n=i("tCFE"),r=function(t){return t&&t.__esModule?t:{default:t}}(n),a=(0,r.default)("div")({width:"32px",height:"32px"},function(t){switch(t.glam.type){case"error":return{background:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAgCAYAAADqgqNBAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEKklEQVRIiZ2WzW5TRxTHf2dMEtckbYwi0tIgpVI3SJFYVO4uq+67ZUeRuuIVeAsCyBKlUrup2PIEfQCQWNBFpGYBsnBTtZZdnMSkxHO6mI87M/dahE40yvjcmfP/n88Z4f8PWbBuGtq0zg4dffP1NvArsH1uTRpkiu58xb/Xrn9/+fbtn98HDKgp9N76UGCNf24stVo//vHgwS2cYQIYKiMzY0vwc48KmGwCtJeWHg3v3/8uAQ4zJSAfBB6Uq+Zyq26m4o+Wlx+9vnfvZgGeETg3eGmhRbGQTMUuLWVnOisrPwz29hZ54P3gqTujTN20CtZW7kdBVdHENavt9sPB3t7NBgKL3Z6CBrA4UayHtKgjYuFs/zfs8dSfqUisttsPX929+y1Fwl1oAk0tdDK3sAWxMgRy/A+nT35BREBBBARBgAtqrwNPPAGtgduEWla/KVhweQBO1pGY1YSAAhKIB2ABtGZ5dHMKqqml6sHUW+0hNQLgcNXrMsiC/peCyyJgG4C8eVar71WJqTdJEZXoQo2G5vaV4FiLGKEGHADs2ifYy1uwvhHPGMCO/8b+OYDpBFXBCpiEgLMqEohpFcCTL9oArMy3vkQ3txrdZ7obmO4G88MBdnDglPlYB5cbicAx4dJSE4uNtDLgz7YjcOvSpRp4kLU+vUrryhdOv4pv7DGFU8sVf7FkASkTzC630SvbAHR6PTbv3KHT68X9pcx8vg0rK67MgtsFjHNFmAL1UpNWRkBdjP24uLsLwPqNG1EW1hd3dzl5+tSBbV5FB7876yWzLq3IenvNsl2Bzmr8Nur3eTccRtAA/G44ZNTvx33SWXU1HlNeMM4NWbfOYt5Ib2298sxsxqjfZz4eR9l8PGbU72Nns0rR2jppqvsQlDVXe0yk37z2s0za3tmh1e3G361ul/bOTn709K2Lt5RXUlTc7PbazjeTuO70epmr0xCkSagnR7VL3GQWuZGCFw87H7HJX3FDSLgQ4zQHwjf8mUxHA0YJ7ranXQlgdAinb92y3+fk2bMY45ADQQa4vaPDTMei3m6KHxr4iriuZBDswQuYn2FnMyaPH2fJlcnmZ9iDFxgEExLNUzCF1QE8E+ZvHd+lZsfY/efodFKej0OnE+z+c8zsODubvZuS7ZA3GTWeiwiICiZkqwKegF1bR9a6yMeuBPXNBJ2OkekEI4LBe0wqDzorTQQNo3afp89LgdAcQN0DwR5N0OkEHVZnHJjE/UbqT9amogvgCogxqLv6nPVGBYv6G8nJDZK1KYGkhVbAhqq1CoKYvHc1Wo7fbNB4LyvuOaSIa79S7icHIlwmDcXWYHlkJOJ6eiCg4XHhSahotZk0TFKQqID9cy6zGuql9hPwsqr1KmNDErVEMAgtPw3iZDHJ6sDAS6+75rGmIQ3r8n85yphqw7ds/AdwGih6rYATKAAAAABJRU5ErkJggg==') no-repeat"};case"info":return{background:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAYAAAAfrhY5AAAACXBIWXMAAA7EAAAOxAGVKw4bAAADeUlEQVRIiaWXv28cRRTHPzOz9yPGiEuVLkpBhQQk/4AjUtBZAruhQBC3lPRRhOjzLwSnoiAxIR0SWL6WhkAbgUVDikg+O9h33tuZR7Eze7Ozu87ZftLT3s3NvM/3vdl9c6u4oMkzbgK7/utHap3fzxtDXRI88kOTiwjQ5+SqfIdbIuyKMBIB7yMRdvMdbp0rmHdZYh75Djczw68sMk5tUlju9D+tKnBm3Fa4L+toXnCoFCMF76D4RCm+rOZEK1Rz87bF8aPAIUBmEGCSbkuAVyrlGQ9FuEs8GMHkjFyCiOra/O07tc5WJ9z9tKhCDA6OahcQgsQCUhFKgVpfaMq6spAUGsacH+sAqyBAFmNec0N0CldtYAGcq4+HeWFRBZZF1kpA67qAoCPAazdco9Qe7AJUK3pvGXSmyPoaZwVXCPOZw55aFB7owc4tBKSWJQl0gp1AbyVjsGoWq0draEBPxmQDjbOG6WSOtYKJwNIglAk3yt4F7q9m9FdMffYHP5fX8RAAbRQrV/ucHOQ4KxVYfG3T7EOHqw1Xe+uvOtNNcIcpDYO3M6zz90l8j0id1Wiv8R0pVbmXAwfL+hrT06V46gISnSUnFRB7b3jeIwBMXzcf1URAHDVuODXVF7Gsr1ofyxR+wfBvtg5w955Tns2XtnnemlMtdgPuhHE6ls9cO2E8rB6z1IpT1+jtPnalKoYLINaxFxaEtnl6bNvha7PSE5ufOorcNQ6XELsNDsCrI55Wvdm7zR2z/zoEJCYOTg4LdBID4PWUp2fCr2+xbx2PoFykvU+PCqavEwF/fFy6N1sIR69yxMrioPFxRHh07XP2Y5218z74Pw+5cW3Ei7i9OgfWAVoxXDVkPUVvoLGFUMzLgyU/sWhdijWa6rPW8PKAd69v8TfR2ZXCKxHHP3A/M9xLBThp71ihSsrDjKY64Zzj2yubfMOifTTgcfYAevaEX5RiLYa2wcOe6ggYriKMhxvcScHQ/pxXE/7cZxPheVw+4z0zYIKH7/63MBfh+V8v2aCjkbW9NNTK/9sDrr5/g8dasVb7h9O2IL67hb0X/7L53lccpEktA6/FnT7mvtHcW+YPZGFre9wK7oJ3Cph8z4crAx4oxe2OdXvHM74efdb60tCQ/KZ3tTYRTJ9w22juasUXfmh7btm+slF1sBS09J5fZl5qZ56Y/wP3DczlGSWQRAAAAABJRU5ErkJggg==') no-repeat"};case"success":return{background:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAgCAYAAADqgqNBAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAD9UlEQVRIiZ2WzWucRRzHPzO7efYlu8HmxfRiaMMWxByECnpaPAmezH9QC/0ThJ4LXmx79VRb0IMnT/4FBWuo8WBAaVEJ0q5IqzEbNLubZrN5xsO87Mw88ySpA5M8efLMfH7f39uM4P8PUfKcGir1HC66/+UF4D5w4eStVPLd+/PLvNdeuPZR560vTgMDSkZbXH1psFLehEq1eu/2L99fRQsTgGQqMhAbw19uRGArbKZWu3v7580PPbCdvgHi5eApdzsj8sCpM/X63VuPv7sSwQMDzg4PVCrIczOV+10XYQplzcZnNx89LPPAGeAWlvyf+aFw3yilUN73tdnmnZuPHl5JGHCC20+EGrX2txnf7P5Jf3xYMKI227zzyU8bHxAlXDW5cdk7D+SSTOEM6R+/4ONffwTf/VKAlHA0eRP42higivA8Dxf6HrAgm1XuXe49K7O33UfEHrRgAaii8hSUqKRc0pksd970jBSAUFp1iUd9+FRyDM6jTE9NCw92MspjbybdbpeVgDv1JmvtOeZnMrdgnOf0RgO29vYYTI50TitMbgtvhmAfHqkOwRnQPbfISqNZcF0mJZ3WHCvNFpu7O2zv7+skU2i32zBr9d6LsM6FKx9fcZ7TfWUhCY6N6C4tc75RNzBPOYCQNhvc9Jv+1CleLDvN2VPB/uguncf1Eetg4cTiP4RNJs9DQ3LF2uzcqcCVRptP197lxqW3aVWrdFptAvUIHYrwSE21V79mFfNZxuutc6wvr7KY1ZPg66uXaVaqLGYNABaymtldesqd6oLyoOHHJbS+fJH15YvcuPQOK412Ejw6nnDrtx8AmM8yDQxKUMSFXrhMJMe3/WcANCtVrq9eZqXRToJ7B/uALj8HDpuLDX6yzgtjnOds7Gn4tdfecAZYY2IwQP9oHNX4mWMejt5oCMDG3jPu/f7YQcvAAE9HQ6/EghxOwoNE8C3e+mdPuzEyoAzcGw3pj8eAV+Mll9uE24XODVMig+NjNvt/01181RkwOp6we/SiAO6PD3mw+5d2ccyVsnCyhHD7gW0KUhuwPRwwmEzoLi7Rqs6w9e9OweTecMCD3R3Gep9iXw/RLuFsv51aqkyC5MaQiuT5+JCv/ujRabZZyDLma7qWnx8c8HQ0pD8Z64uRNGvdYSKsMAdNKVfB2WsXS6kvGRJQku3RgO1R7EFzW7HwWHXxSA3gU/XCxFwJDcyNAbbpiKh+bfv0DxJXWt7fKj70iwkXxtwaoJiGwAc74V5Zxf28RHUMD0sNvEQRUPFuN37r9L9NeSElzoywyUj5OfBkqiKKm5A6BFInIRWbYCbeohT8xOwdjDKfiMTzyR1jqqoQW+JCM+M/oQ0MxVFidYQAAAAASUVORK5CYII=') no-repeat"}}});e.IconPlaceholder=(0,r.default)("div")({display:"flex",justifyContent:"center",width:"50px"}),e.default=a},"6t+W":function(t,e,i){"use strict";var n=i("tFCN"),r={};r.bindListener_=function(t){var e=function(e){var i=t.listener,n=t.bindTo||t.target;return t.callOnce&&r.unlistenByKey(t),i.call(n,e)};return t.boundListener=e,e},r.findListener_=function(t,e,i,n){for(var r,a=0,o=t.length;o>a;++a)if(r=t[a],r.listener===e&&r.bindTo===i)return n&&(r.deleteIndex=a),r},r.getListeners=function(t,e){var i=t.ol_lm;return i?i[e]:void 0},r.getListenerMap_=function(t){var e=t.ol_lm;return e||(e=t.ol_lm={}),e},r.removeListeners_=function(t,e){var i=r.getListeners(t,e);if(i){for(var a=0,o=i.length;o>a;++a)t.removeEventListener(e,i[a].boundListener),n.a.clear(i[a]);i.length=0;var s=t.ol_lm;s&&(delete s[e],0===Object.keys(s).length&&delete t.ol_lm)}},r.listen=function(t,e,i,n,a){var o=r.getListenerMap_(t),s=o[e];s||(s=o[e]=[]);var l=r.findListener_(s,i,n,!1);return l?a||(l.callOnce=!1):(l={bindTo:n,callOnce:!!a,listener:i,target:t,type:e},t.addEventListener(e,r.bindListener_(l)),s.push(l)),l},r.listenOnce=function(t,e,i,n){return r.listen(t,e,i,n,!0)},r.unlisten=function(t,e,i,n){var a=r.getListeners(t,e);if(a){var o=r.findListener_(a,i,n,!0);o&&r.unlistenByKey(o)}},r.unlistenByKey=function(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=r.getListeners(t.target,t.type);if(e){var i="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==i&&e.splice(i,1),0===e.length&&r.removeListeners_(t.target,t.type)}n.a.clear(t)}},r.unlistenAll=function(t){var e=r.getListenerMap_(t);for(var i in e)r.removeListeners_(t,i)},e.a=r},"796y":function(t,e,i){"use strict";var n=i("OEyb"),r=i("o1z/"),a=i("fGqn"),o={};o.createFromTemplate=function(t,e){var i=/\{z\}/g,r=/\{x\}/g,a=/\{y\}/g,o=/\{-y\}/g;return function(s,l,u){return s?t.replace(i,""+s[0]).replace(r,""+s[1]).replace(a,function(){return""+(-s[2]-1)}).replace(o,function(){var t=s[0],i=e.getFullTileRange(t);return n.a.assert(i,55),""+(i.getHeight()+s[2])}):void 0}},o.createFromTemplates=function(t,e){for(var i=t.length,n=Array(i),r=0;i>r;++r)n[r]=o.createFromTemplate(t[r],e);return o.createFromTileUrlFunctions(n)},o.createFromTileUrlFunctions=function(t){return 1===t.length?t[0]:function(e,i,n){if(e){var o=a.a.hash(e),s=r.a.modulo(o,t.length);return t[s](e,i,n)}}},o.nullTileUrlFunction=function(t,e,i){},o.expandUrl=function(t){var e=[],i=/\{([a-z])-([a-z])\}/.exec(t);if(i){var n,r=i[1].charCodeAt(0),a=i[2].charCodeAt(0);for(n=r;a>=n;++n)e.push(t.replace(i[0],String.fromCharCode(n)));return e}if(i=i=/\{(\d+)-(\d+)\}/.exec(t)){for(var o=parseInt(i[2],10),s=parseInt(i[1],10);o>=s;s++)e.push(t.replace(i[0],""+s));return e}return e.push(t),e},e.a=o},"7OqO":function(t,e,i){"use strict";var n=i("CXX0"),r=i("V2dr"),a=i("cCXU"),o=i("iOl9"),s=i("5ifQ"),l=i("tFCN"),u=function(t){var e=t||{};s.a.call(this,{handleEvent:e.handleEvent?e.handleEvent:u.handleEvent}),this.handleDownEvent_=e.handleDownEvent?e.handleDownEvent:u.handleDownEvent,this.handleDragEvent_=e.handleDragEvent?e.handleDragEvent:u.handleDragEvent,this.handleMoveEvent_=e.handleMoveEvent?e.handleMoveEvent:u.handleMoveEvent,this.handleUpEvent_=e.handleUpEvent?e.handleUpEvent:u.handleUpEvent,this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]};n.a.inherits(u,s.a),u.centroid=function(t){for(var e=t.length,i=0,n=0,r=0;e>r;r++)i+=t[r].clientX,n+=t[r].clientY;return[i/e,n/e]},u.prototype.isPointerDraggingEvent_=function(t){var e=t.type;return e===a.a.POINTERDOWN||e===a.a.POINTERDRAG||e===a.a.POINTERUP},u.prototype.updateTrackedPointers_=function(t){if(this.isPointerDraggingEvent_(t)){var e=t.pointerEvent,i=""+e.pointerId;t.type==a.a.POINTERUP?delete this.trackedPointers_[i]:t.type==a.a.POINTERDOWN?this.trackedPointers_[i]=e:i in this.trackedPointers_&&(this.trackedPointers_[i]=e),this.targetPointers=l.a.getValues(this.trackedPointers_)}},u.handleDragEvent=n.a.nullFunction,u.handleUpEvent=r.a.FALSE,u.handleDownEvent=r.a.FALSE,u.handleMoveEvent=n.a.nullFunction,u.handleEvent=function(t){if(!(t instanceof o.a))return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==a.a.POINTERDRAG)this.handleDragEvent_(t);else if(t.type==a.a.POINTERUP){var i=this.handleUpEvent_(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==a.a.POINTERDOWN){var n=this.handleDownEvent_(t);this.handlingDownUpSequence=n,e=this.shouldStopEvent(n)}else t.type==a.a.POINTERMOVE&&this.handleMoveEvent_(t);return!e},u.prototype.shouldStopEvent=function(t){return t},e.a=u},"7h3G":function(t,e,i){"use strict";var n=i("CXX0"),r=i("OEyb"),a=i("dDPv"),o=i("ZVo0"),s=function(t){a.a.call(this),this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null};n.a.inherits(s,a.a),s.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},s.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(o.a.CLEAR)},s.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},s.prototype.forEach=function(t,e){for(var i=this.oldest_;i;)t.call(e,i.value_,i.key_,this),i=i.newer},s.prototype.get=function(t){var e=this.entries_[t];return r.a.assert(void 0!==e,15),e===this.newest_?e.value_:(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e,e.value_)},s.prototype.remove=function(t){var e=this.entries_[t];return r.a.assert(void 0!==e,15),e===this.newest_?(this.newest_=e.older)&&(this.newest_.newer=null):e===this.oldest_?(this.oldest_=e.newer)&&(this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},s.prototype.getCount=function(){return this.count_},s.prototype.getKeys=function(){var t,e=Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.key_;return e},s.prototype.getValues=function(){var t,e=Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.value_;return e},s.prototype.peekLast=function(){return this.oldest_.value_},s.prototype.peekLastKey=function(){return this.oldest_.key_},s.prototype.peekFirstKey=function(){return this.newest_.key_},s.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},s.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},s.prototype.set=function(t,e){r.a.assert(!(t in this.entries_),16);var i={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_},s.prototype.pruneAndSet=function(t,e){for(;this.canExpireCache();)this.pop();this.set(t,e)},e.a=s},"7yEG":function(t,e,i){"use strict";var n=i("CXX0"),r=i("xifc"),a=i("/LWt"),o=i("3BBv"),s=i("tFCN"),l=i("yGLh"),u=i("Ae3H"),h=i("fJST"),c={};c.getForProjection=function(t){var e=t.getDefaultTileGrid();return e||(e=c.createForProjection(t),t.setDefaultTileGrid(e)),e},c.wrapX=function(t,e,i){var n=e[0],r=t.getTileCoordCenter(e),o=c.extentFromProjection(i);if(a.default.containsCoordinate(o,r))return e;var s=a.default.getWidth(o);return r[0]+=s*Math.ceil((o[0]-r[0])/s),t.getTileCoordForCoordAndZ(r,n)},c.createForExtent=function(t,e,i,n){var r=void 0!==n?n:o.a.TOP_LEFT,s=c.resolutionsFromExtent(t,e,i);return new h.a({extent:t,origin:a.default.getCorner(t,r),resolutions:s,tileSize:i})},c.createXYZ=function(t){var e={};return s.a.assign(e,void 0!==t?t:{}),void 0===e.extent&&(e.extent=l.default.get("EPSG:3857").getExtent()),e.resolutions=c.resolutionsFromExtent(e.extent,e.maxZoom,e.tileSize),delete e.maxZoom,new h.a(e)},c.resolutionsFromExtent=function(t,e,i){for(var o=void 0!==e?e:n.a.DEFAULT_MAX_ZOOM,s=a.default.getHeight(t),l=a.default.getWidth(t),u=r.a.toSize(void 0!==i?i:n.a.DEFAULT_TILE_SIZE),h=Math.max(l/u[0],s/u[1]),c=o+1,f=Array(c),d=0;c>d;++d)f[d]=h/Math.pow(2,d);return f},c.createForProjection=function(t,e,i,n){var r=c.extentFromProjection(t);return c.createForExtent(r,e,i,n)},c.extentFromProjection=function(t){t=l.default.get(t);var e=t.getExtent();if(!e){var i=180*l.default.METERS_PER_UNIT[u.a.DEGREES]/t.getMetersPerUnit();e=a.default.createOrUpdate(-i,-i,i,i)}return e},e.a=c},"8+5l":function(t,e,i){"use strict";function n(t,e){t.classList?t.classList.add(e):(0,a.default)(t)||(t.className=t.className+" "+e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r=i("Hgtn"),a=function(t){return t&&t.__esModule?t:{default:t}}(r);t.exports=e.default},"86p+":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("/3K7"),a=i("iHAK"),o=i("SHxT"),s=i("zF6X"),l=i("OEyb"),u=i("6t+W"),h=i("J25b"),c=i("ZVo0"),f=i("/LWt"),d=i("doJF"),p=i("2FaZ"),g={};g.loadFeaturesXhr=function(t,e,i,n){return function(r,a,o){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(r,a,o):t,!0),e.getType()==d.a.ARRAY_BUFFER&&(s.responseType="arraybuffer"),s.onload=function(t){if(!s.status||s.status>=200&&300>s.status){var r,a=e.getType();a==d.a.JSON||a==d.a.TEXT?r=s.responseText:a==d.a.XML?(r=s.responseXML)||(r=p.a.parse(s.responseText)):a==d.a.ARRAY_BUFFER&&(r=s.response),r?i.call(this,e.readFeatures(r,{featureProjection:o}),e.readProjection(r),e.getLastExtent()):n.call(this)}else n.call(this)}.bind(this),s.onerror=function(){n.call(this)}.bind(this),s.send()}},g.xhr=function(t,e){return g.loadFeaturesXhr(t,e,function(t,e){this.addFeatures(t)},n.a.nullFunction)};var m=g,_=i("V2dr"),y={};y.all=function(t,e){return[[-1/0,-1/0,1/0,1/0]]},y.bbox=function(t,e){return[t]},y.tile=function(t){return function(e,i){var n=t.getZForResolution(i),r=t.getTileRangeForExtentAndZ(e,n),a=[],o=[n,0,0];for(o[1]=r.minX;r.maxX>=o[1];++o[1])for(o[2]=r.minY;r.maxY>=o[2];++o[2])a.push(t.getTileCoordExtent(o));return a}};var v=y,E=i("tFCN"),b=i("vLip"),x=i("T4j3"),C=i("S7li"),S=i("6NQJ"),T=function(t){var e=t||{};b.a.call(this,{attributions:e.attributions,logo:e.logo,projection:void 0,state:x.a.READY,wrapX:void 0===e.wrapX||e.wrapX}),this.loader_=n.a.nullFunction,this.format_=e.format,this.overlaps_=void 0==e.overlaps||e.overlaps,this.url_=e.url,void 0!==e.loader?this.loader_=e.loader:void 0!==this.url_&&(l.a.assert(this.format_,7),this.loader_=m.xhr(this.url_,this.format_)),this.strategy_=void 0!==e.strategy?e.strategy:v.all;var i=void 0===e.useSpatialIndex||e.useSpatialIndex;this.featuresRtree_=i?new S.a:null,this.loadedExtentsRtree_=new S.a,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;var a,o;e.features instanceof r.default?(a=e.features,o=a.getArray()):Array.isArray(e.features)&&(o=e.features),i||void 0!==a||(a=new r.default(o)),void 0!==o&&this.addFeaturesInternal(o),void 0!==a&&this.bindFeaturesCollection_(a)};n.a.inherits(T,b.a),T.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},T.prototype.addFeatureInternal=function(t){var e=""+n.a.getUid(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var i=t.getGeometry();if(i){var r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new T.Event(C.a.ADDFEATURE,t))}},T.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[u.a.listen(e,c.a.CHANGE,this.handleFeatureChange_,this),u.a.listen(e,o.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},T.prototype.addToIndex_=function(t,e){var i=!0,n=e.getId();return void 0!==n?""+n in this.idIndex_?i=!1:this.idIndex_[""+n]=e:(l.a.assert(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),i},T.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},T.prototype.addFeaturesInternal=function(t){var e,i,r,a,o=[],s=[],l=[];for(i=0,r=t.length;r>i;i++)a=t[i],e=""+n.a.getUid(a),this.addToIndex_(e,a)&&s.push(a);for(i=0,r=s.length;r>i;i++){a=s[i],e=""+n.a.getUid(a),this.setupChangeEvents_(e,a);var u=a.getGeometry();u?(o.push(u.getExtent()),l.push(a)):this.nullGeometryFeatures_[e]=a}for(this.featuresRtree_&&this.featuresRtree_.load(o,l),i=0,r=s.length;r>i;i++)this.dispatchEvent(new T.Event(C.a.ADDFEATURE,s[i]))},T.prototype.bindFeaturesCollection_=function(t){var e=!1;u.a.listen(this,C.a.ADDFEATURE,function(i){e||(e=!0,t.push(i.feature),e=!1)}),u.a.listen(this,C.a.REMOVEFEATURE,function(i){e||(e=!0,t.remove(i.feature),e=!1)}),u.a.listen(t,a.a.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)},this),u.a.listen(t,a.a.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)},this),this.featuresCollection_=t},T.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(u.a.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal,this);for(var i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={},this.dispatchEvent(new T.Event(C.a.CLEAR)),this.changed()},T.prototype.forEachFeature=function(t,e){return this.featuresRtree_?this.featuresRtree_.forEach(t,e):this.featuresCollection_?this.featuresCollection_.forEach(t,e):void 0},T.prototype.forEachFeatureAtCoordinateDirect=function(t,e,i){return this.forEachFeatureInExtent([t[0],t[1],t[0],t[1]],function(n){return n.getGeometry().intersectsCoordinate(t)?e.call(i,n):void 0})},T.prototype.forEachFeatureInExtent=function(t,e,i){return this.featuresRtree_?this.featuresRtree_.forEachInExtent(t,e,i):this.featuresCollection_?this.featuresCollection_.forEach(e,i):void 0},T.prototype.forEachFeatureIntersectingExtent=function(t,e,i){return this.forEachFeatureInExtent(t,function(n){if(n.getGeometry().intersectsExtent(t)){var r=e.call(i,n);if(r)return r}})},T.prototype.getFeaturesCollection=function(){return this.featuresCollection_},T.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),E.a.isEmpty(this.nullGeometryFeatures_)||s.a.extend(t,E.a.getValues(this.nullGeometryFeatures_))),t},T.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},T.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},T.prototype.getClosestFeatureToCoordinate=function(t,e){var i=t[0],n=t[1],r=null,a=[NaN,NaN],o=1/0,s=[-1/0,-1/0,1/0,1/0],l=e||_.a.TRUE;return this.featuresRtree_.forEachInExtent(s,function(t){if(l(t)){var e=t.getGeometry(),u=o;if(o=e.closestPointXY(i,n,a,o),u>o){r=t;var h=Math.sqrt(o);s[0]=i-h,s[1]=n-h,s[2]=i+h,s[3]=n+h}}}),r},T.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},T.prototype.getFeatureById=function(t){var e=this.idIndex_[""+t];return void 0!==e?e:null},T.prototype.getFormat=function(){return this.format_},T.prototype.getOverlaps=function(){return this.overlaps_},T.prototype.getResolutions=function(){},T.prototype.getUrl=function(){return this.url_},T.prototype.handleFeatureChange_=function(t){var e=t.target,i=""+n.a.getUid(e),r=e.getGeometry();if(r){var a=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(a,e)):this.featuresRtree_&&this.featuresRtree_.update(a,e)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[i]=e);var o=e.getId();if(void 0!==o){var s=""+o;i in this.undefIdIndex_?(delete this.undefIdIndex_[i],this.idIndex_[s]=e):this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else i in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[i]=e);this.changed(),this.dispatchEvent(new T.Event(C.a.CHANGEFEATURE,e))},T.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&E.a.isEmpty(this.nullGeometryFeatures_)},T.prototype.loadFeatures=function(t,e,i){var n,r,a=this.loadedExtentsRtree_,o=this.strategy_(t,e);for(n=0,r=o.length;r>n;++n){var s=o[n];a.forEachInExtent(s,function(t){return f.default.containsExtent(t.extent,s)})||(this.loader_.call(this,s,e,i),a.insert(s,{extent:s.slice()}))}},T.prototype.removeFeature=function(t){var e=""+n.a.getUid(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},T.prototype.removeFeatureInternal=function(t){var e=""+n.a.getUid(t);this.featureChangeKeys_[e].forEach(u.a.unlistenByKey),delete this.featureChangeKeys_[e];var i=t.getId();void 0!==i?delete this.idIndex_[""+i]:delete this.undefIdIndex_[e],this.dispatchEvent(new T.Event(C.a.REMOVEFEATURE,t))},T.prototype.removeFromIdIndex_=function(t){var e=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],e=!0;break}return e},T.prototype.setLoader=function(t){this.loader_=t},T.Event=function(t,e){h.a.call(this,t),this.feature=e},n.a.inherits(T.Event,h.a),e.default=T},"8Ojw":function(t,e,i){"use strict";var n=i("BEQ0"),r=i("UP90"),a=i("dx3C"),o=i("4Xqj"),s=i("+w9S"),l=i("lxwt"),u=i("KYZA"),h=i("umdX"),c=i("e9JR"),f=s.createElement,d=s.createFactory,p=s.cloneElement,g=n,m=function(t){return t},_={Children:{map:a.map,forEach:a.forEach,count:a.count,toArray:a.toArray,only:c},Component:r.Component,PureComponent:r.PureComponent,createElement:f,cloneElement:p,isValidElement:s.isValidElement,PropTypes:l,createClass:h,createFactory:d,createMixin:m,DOM:o,version:u,__spread:g};t.exports=_},"8gh8":function(t,e,i){"use strict";e.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"}},"8r3X":function(t,e,i){"use strict";var n=i("CXX0"),r=i("dDPv"),a=i("ZVo0"),o=function(t,e,i,n){r.a.call(this),this.extent=t,this.pixelRatio_=i,this.resolution=e,this.state=n};n.a.inherits(o,r.a),o.prototype.changed=function(){this.dispatchEvent(a.a.CHANGE)},o.prototype.getExtent=function(){return this.extent},o.prototype.getImage=function(){},o.prototype.getPixelRatio=function(){return this.pixelRatio_},o.prototype.getResolution=function(){return this.resolution},o.prototype.getState=function(){return this.state},o.prototype.load=function(){},e.a=o},"9bGr":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("/3K7"),a=i("iHAK"),o=i("jwW8"),s=i("4acs"),l=i("cCXU"),u=i("iOl9"),h=i("6t+W"),c=i("dDPv"),f={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},d=f,p=function(t,e){this.dispatcher=t,this.mapping_=e};p.prototype.getEvents=function(){return Object.keys(this.mapping_)},p.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};var g=p,m=function(t){g.call(this,t,{mousedown:this.mousedown,mousemove:this.mousemove,mouseup:this.mouseup,mouseover:this.mouseover,mouseout:this.mouseout}),this.pointerMap=t.pointerMap,this.lastTouches=[]};n.a.inherits(m,g),m.POINTER_ID=1,m.POINTER_TYPE="mouse",m.DEDUP_DIST=25,m.prototype.isEventSimulatedFromTouch_=function(t){for(var e,i=this.lastTouches,n=t.clientX,r=t.clientY,a=0,o=i.length;o>a&&(e=i[a]);a++){var s=Math.abs(n-e[0]),l=Math.abs(r-e[1]);if(m.DEDUP_DIST>=s&&m.DEDUP_DIST>=l)return!0}return!1},m.prepareEvent=function(t,e){var i=e.cloneEvent(t,t),n=i.preventDefault;return i.preventDefault=function(){t.preventDefault(),n()},i.pointerId=m.POINTER_ID,i.isPrimary=!0,i.pointerType=m.POINTER_TYPE,i},m.prototype.mousedown=function(t){if(!this.isEventSimulatedFromTouch_(t)){""+m.POINTER_ID in this.pointerMap&&this.cancel(t);var e=m.prepareEvent(t,this.dispatcher);this.pointerMap[""+m.POINTER_ID]=t,this.dispatcher.down(e,t)}},m.prototype.mousemove=function(t){this.isEventSimulatedFromTouch_(t)||this.dispatcher.move(m.prepareEvent(t,this.dispatcher),t)},m.prototype.mouseup=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[""+m.POINTER_ID];e&&e.button===t.button&&(this.dispatcher.up(m.prepareEvent(t,this.dispatcher),t),this.cleanupMouse())}},m.prototype.mouseover=function(t){this.isEventSimulatedFromTouch_(t)||this.dispatcher.enterOver(m.prepareEvent(t,this.dispatcher),t)},m.prototype.mouseout=function(t){this.isEventSimulatedFromTouch_(t)||this.dispatcher.leaveOut(m.prepareEvent(t,this.dispatcher),t)},m.prototype.cancel=function(t){this.dispatcher.cancel(m.prepareEvent(t,this.dispatcher),t),this.cleanupMouse()},m.prototype.cleanupMouse=function(){delete this.pointerMap[""+m.POINTER_ID]};var _=m,y=function(t){g.call(this,t,{MSPointerDown:this.msPointerDown,MSPointerMove:this.msPointerMove,MSPointerUp:this.msPointerUp,MSPointerOut:this.msPointerOut,MSPointerOver:this.msPointerOver,MSPointerCancel:this.msPointerCancel,MSGotPointerCapture:this.msGotPointerCapture,MSLostPointerCapture:this.msLostPointerCapture}),this.pointerMap=t.pointerMap,this.POINTER_TYPES=["","unavailable","touch","pen","mouse"]};n.a.inherits(y,g),y.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&(e=this.dispatcher.cloneEvent(t,t),e.pointerType=this.POINTER_TYPES[t.pointerType]),e},y.prototype.cleanup=function(t){delete this.pointerMap[""+t]},y.prototype.msPointerDown=function(t){this.pointerMap[""+t.pointerId]=t,this.dispatcher.down(this.prepareEvent_(t),t)},y.prototype.msPointerMove=function(t){this.dispatcher.move(this.prepareEvent_(t),t)},y.prototype.msPointerUp=function(t){this.dispatcher.up(this.prepareEvent_(t),t),this.cleanup(t.pointerId)},y.prototype.msPointerOut=function(t){this.dispatcher.leaveOut(this.prepareEvent_(t),t)},y.prototype.msPointerOver=function(t){this.dispatcher.enterOver(this.prepareEvent_(t),t)},y.prototype.msPointerCancel=function(t){this.dispatcher.cancel(this.prepareEvent_(t),t),this.cleanup(t.pointerId)},y.prototype.msLostPointerCapture=function(t){this.dispatcher.dispatchEvent(this.dispatcher.makeEvent("lostpointercapture",t,t))},y.prototype.msGotPointerCapture=function(t){this.dispatcher.dispatchEvent(this.dispatcher.makeEvent("gotpointercapture",t,t))};var v=y,E=function(t){g.call(this,t,{pointerdown:this.pointerDown,pointermove:this.pointerMove,pointerup:this.pointerUp,pointerout:this.pointerOut,pointerover:this.pointerOver,pointercancel:this.pointerCancel,gotpointercapture:this.gotPointerCapture,lostpointercapture:this.lostPointerCapture})};n.a.inherits(E,g),E.prototype.pointerDown=function(t){this.dispatcher.fireNativeEvent(t)},E.prototype.pointerMove=function(t){this.dispatcher.fireNativeEvent(t)},E.prototype.pointerUp=function(t){this.dispatcher.fireNativeEvent(t)},E.prototype.pointerOut=function(t){this.dispatcher.fireNativeEvent(t)},E.prototype.pointerOver=function(t){this.dispatcher.fireNativeEvent(t)},E.prototype.pointerCancel=function(t){this.dispatcher.fireNativeEvent(t)},E.prototype.lostPointerCapture=function(t){this.dispatcher.fireNativeEvent(t)},E.prototype.gotPointerCapture=function(t){this.dispatcher.fireNativeEvent(t)};var b=E,x=i("J25b"),C=function(t,e,i){x.a.call(this,t),this.originalEvent=e;var n=i||{};this.buttons=this.getButtons_(n),this.pressure=this.getPressure_(n,this.buttons),this.bubbles="bubbles"in n&&n.bubbles,this.cancelable="cancelable"in n&&n.cancelable,this.view="view"in n?n.view:null,this.detail="detail"in n?n.detail:null,this.screenX="screenX"in n?n.screenX:0,this.screenY="screenY"in n?n.screenY:0,this.clientX="clientX"in n?n.clientX:0,this.clientY="clientY"in n?n.clientY:0,this.ctrlKey="ctrlKey"in n&&n.ctrlKey,this.altKey="altKey"in n&&n.altKey,this.shiftKey="shiftKey"in n&&n.shiftKey,this.metaKey="metaKey"in n&&n.metaKey,this.button="button"in n?n.button:0,this.relatedTarget="relatedTarget"in n?n.relatedTarget:null,this.pointerId="pointerId"in n?n.pointerId:0,this.width="width"in n?n.width:0,this.height="height"in n?n.height:0,this.tiltX="tiltX"in n?n.tiltX:0,this.tiltY="tiltY"in n?n.tiltY:0,this.pointerType="pointerType"in n?n.pointerType:"",this.hwTimestamp="hwTimestamp"in n?n.hwTimestamp:0,this.isPrimary="isPrimary"in n&&n.isPrimary,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})};n.a.inherits(C,x.a),C.prototype.getButtons_=function(t){var e;if(t.buttons||C.HAS_BUTTONS)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e},C.prototype.getPressure_=function(t,e){return t.pressure?t.pressure:e?.5:0},C.HAS_BUTTONS=!1,function(){try{var t=new MouseEvent("click",{buttons:1});C.HAS_BUTTONS=1===t.buttons}catch(t){}}();var S=C,T=i("zF6X"),R=function(t,e){g.call(this,t,{touchstart:this.touchstart,touchmove:this.touchmove,touchend:this.touchend,touchcancel:this.touchcancel}),this.pointerMap=t.pointerMap,this.mouseSource=e,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_=void 0};n.a.inherits(R,g),R.DEDUP_TIMEOUT=2500,R.CLICK_COUNT_TIMEOUT=200,R.POINTER_TYPE="touch",R.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},R.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&""+_.POINTER_ID in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},R.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},R.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),R.CLICK_COUNT_TIMEOUT)},R.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},R.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},R.prototype.touchToPointer_=function(t,e){var i=this.dispatcher.cloneEvent(t,e);return i.pointerId=e.identifier+2,i.bubbles=!0,i.cancelable=!0,i.detail=this.clickCount_,i.button=0,i.buttons=1,i.width=e.webkitRadiusX||e.radiusX||0,i.height=e.webkitRadiusY||e.radiusY||0,i.pressure=e.webkitForce||e.force||.5,i.isPrimary=this.isPrimaryTouch_(e),i.pointerType=R.POINTER_TYPE,i.clientX=e.clientX,i.clientY=e.clientY,i.screenX=e.screenX,i.screenY=e.screenY,i},R.prototype.processTouches_=function(t,e){function i(){t.preventDefault()}var n,r,a=Array.prototype.slice.call(t.changedTouches),o=a.length;for(n=0;o>n;++n)r=this.touchToPointer_(t,a[n]),r.preventDefault=i,e.call(this,t,r)},R.prototype.findTouch_=function(t,e){for(var i,n=t.length,r=0;n>r;r++)if(i=t[r],i.identifier===e)return!0;return!1},R.prototype.vacuumTouches_=function(t){var e=t.touches,i=Object.keys(this.pointerMap),n=i.length;if(n>=e.length){var r,a,o,s=[];for(r=0;n>r;++r)a=i[r],o=this.pointerMap[a],a==_.POINTER_ID||this.findTouch_(e,a-2)||s.push(o.out);for(r=0;s.length>r;++r)this.cancelOut_(t,s[r])}},R.prototype.touchstart=function(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)},R.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},R.prototype.touchmove=function(t){t.preventDefault(),this.processTouches_(t,this.moveOverOut_)},R.prototype.moveOverOut_=function(t,e){var i=e,n=this.pointerMap[i.pointerId];if(n){var r=n.out,a=n.outTarget;this.dispatcher.move(i,t),r&&a!==i.target&&(r.relatedTarget=i.target,i.relatedTarget=a,r.target=a,i.target?(this.dispatcher.leaveOut(r,t),this.dispatcher.enterOver(i,t)):(i.target=a,i.relatedTarget=null,this.cancelOut_(t,i))),n.out=i,n.outTarget=i.target}},R.prototype.touchend=function(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)},R.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},R.prototype.touchcancel=function(t){this.processTouches_(t,this.cancelOut_)},R.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},R.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},R.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,i=t.changedTouches[0];if(this.isPrimaryTouch_(i)){var n=[i.clientX,i.clientY];e.push(n),setTimeout(function(){T.a.remove(e,n)},R.DEDUP_TIMEOUT)}};var M=R,w=function(t){c.a.call(this),this.element_=t,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()};n.a.inherits(w,c.a),w.prototype.registerSources=function(){if(s.a.POINTER)this.registerSource("native",new b(this));else if(s.a.MSPOINTER)this.registerSource("ms",new v(this));else{var t=new _(this);this.registerSource("mouse",t),s.a.TOUCH&&this.registerSource("touch",new M(this,t))}this.register_()},w.prototype.registerSource=function(t,e){var i=e,n=i.getEvents();n&&(n.forEach(function(t){var e=i.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(i))},this),this.eventSourceList_.push(i))},w.prototype.register_=function(){for(var t,e=this.eventSourceList_.length,i=0;e>i;i++)t=this.eventSourceList_[i],this.addEvents_(t.getEvents())},w.prototype.unregister_=function(){for(var t,e=this.eventSourceList_.length,i=0;e>i;i++)t=this.eventSourceList_[i],this.removeEvents_(t.getEvents())},w.prototype.eventHandler_=function(t){var e=t.type,i=this.eventMap_[e];i&&i(t)},w.prototype.addEvents_=function(t){t.forEach(function(t){h.a.listen(this.element_,t,this.eventHandler_,this)},this)},w.prototype.removeEvents_=function(t){t.forEach(function(t){h.a.unlisten(this.element_,t,this.eventHandler_,this)},this)},w.prototype.cloneEvent=function(t,e){for(var i,n={},r=0,a=w.CLONE_PROPS.length;a>r;r++)i=w.CLONE_PROPS[r][0],n[i]=t[i]||e[i]||w.CLONE_PROPS[r][1];return n},w.prototype.down=function(t,e){this.fireEvent(d.POINTERDOWN,t,e)},w.prototype.move=function(t,e){this.fireEvent(d.POINTERMOVE,t,e)},w.prototype.up=function(t,e){this.fireEvent(d.POINTERUP,t,e)},w.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(d.POINTERENTER,t,e)},w.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(d.POINTERLEAVE,t,e)},w.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(d.POINTEROVER,t,e)},w.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(d.POINTEROUT,t,e)},w.prototype.cancel=function(t,e){this.fireEvent(d.POINTERCANCEL,t,e)},w.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},w.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},w.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},w.prototype.makeEvent=function(t,e,i){return new S(t,i,e)},w.prototype.fireEvent=function(t,e,i){this.dispatchEvent(this.makeEvent(t,e,i))},w.prototype.fireNativeEvent=function(t){this.dispatchEvent(this.makeEvent(t.type,t,t))},w.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,_.prepareEvent(e,this),e)},w.prototype.disposeInternal=function(){this.unregister_(),c.a.prototype.disposeInternal.call(this)},w.CLONE_PROPS=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];var O=w,A=function(t,e){c.a.call(this),this.map_=t,this.clickTimeoutId_=0,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=e?e*s.a.DEVICE_PIXEL_RATIO:s.a.DEVICE_PIXEL_RATIO,this.down_=null;var i=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new O(i),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=h.a.listen(this.pointerEventHandler_,d.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=h.a.listen(this.pointerEventHandler_,d.POINTERMOVE,this.relayEvent_,this)};n.a.inherits(A,c.a),A.prototype.emulateClick_=function(t){var e=new u.a(l.a.CLICK,this.map_,t);this.dispatchEvent(e),0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=0,e=new u.a(l.a.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=0,this.dispatchEvent(new u.a(l.a.SINGLECLICK,this.map_,t))}.bind(this),250)},A.prototype.updateActivePointers_=function(t){var e=t;e.type==l.a.POINTERUP||e.type==l.a.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==l.a.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},A.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t),this.dispatchEvent(new u.a(l.a.POINTERUP,this.map_,t)),!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(h.a.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},A.prototype.isMouseActionButton_=function(t){return 0===t.button},A.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t),this.dispatchEvent(new u.a(l.a.POINTERDOWN,this.map_,t)),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new O(document),this.dragListenerKeys_.push(h.a.listen(this.documentPointerEventHandler_,l.a.POINTERMOVE,this.handlePointerMove_,this),h.a.listen(this.documentPointerEventHandler_,l.a.POINTERUP,this.handlePointerUp_,this),h.a.listen(this.pointerEventHandler_,l.a.POINTERCANCEL,this.handlePointerUp_,this)))},A.prototype.handlePointerMove_=function(t){this.isMoving_(t)&&(this.dragging_=!0,this.dispatchEvent(new u.a(l.a.POINTERDRAG,this.map_,t,this.dragging_))),t.preventDefault()},A.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new u.a(t.type,this.map_,t,e))},A.prototype.isMoving_=function(t){return Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},A.prototype.disposeInternal=function(){this.relayedListenerKey_&&(h.a.unlistenByKey(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(h.a.unlistenByKey(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(h.a.unlistenByKey),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),c.a.prototype.disposeInternal.call(this)};var I=A,P=i("Wnd/"),L={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"},N=L,F={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},D=F,k=i("sR3l"),G=i("SHxT"),j=i("ZDkq"),U=i("ZVo0"),B=i("OEyb"),W=i("tFCN"),z=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};z.DROP=1/0,z.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,W.a.clear(this.queuedElements_)},z.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,i=t[0];return 1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0)),delete this.queuedElements_[this.keyFunction_(i)],i},z.prototype.enqueue=function(t){B.a.assert(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=z.DROP&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},z.prototype.getCount=function(){return this.elements_.length},z.prototype.getLeftChildIndex_=function(t){return 2*t+1},z.prototype.getRightChildIndex_=function(t){return 2*t+2},z.prototype.getParentIndex_=function(t){return t-1>>1},z.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},z.prototype.isEmpty=function(){return 0===this.elements_.length},z.prototype.isKeyQueued=function(t){return t in this.queuedElements_},z.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},z.prototype.siftUp_=function(t){for(var e=this.elements_,i=this.priorities_,n=e.length,r=e[t],a=i[t],o=t;n>>1>t;){var s=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),u=n>l&&i[s]>i[l]?l:s;e[t]=e[u],i[t]=i[u],t=u}e[t]=r,i[t]=a,this.siftDown_(o,t)},z.prototype.siftDown_=function(t,e){for(var i=this.elements_,n=this.priorities_,r=i[e],a=n[e];e>t;){var o=this.getParentIndex_(e);if(a>=n[o])break;i[e]=i[o],n[e]=n[o],e=o}i[e]=r,n[e]=a},z.prototype.reprioritize=function(){var t,e,i,n=this.priorityFunction_,r=this.elements_,a=this.priorities_,o=0,s=r.length;for(e=0;s>e;++e)t=r[e],i=n(t),i==z.DROP?delete this.queuedElements_[this.keyFunction_(t)]:(a[o]=i,r[o++]=t);r.length=o,a.length=o,this.heapify_()};var X=z,V=function(t,e){X.call(this,function(e){return t.apply(null,e)},function(t){return t[0].getKey()}),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}};n.a.inherits(V,X),V.prototype.enqueue=function(t){var e=X.prototype.enqueue.call(this,t);return e&&h.a.listen(t[0],U.a.CHANGE,this.handleTileChange,this),e},V.prototype.getTilesLoading=function(){return this.tilesLoading_},V.prototype.handleTileChange=function(t){var e=t.target,i=e.getState();if(i===j.a.LOADED||i===j.a.ERROR||i===j.a.EMPTY||i===j.a.ABORT){h.a.unlisten(e,U.a.CHANGE,this.handleTileChange,this);var n=e.getKey();n in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[n],--this.tilesLoading_),this.tileChangeCallback_()}},V.prototype.loadMoreTiles=function(t,e){for(var i,n,r,a=0,o=!1;t>this.tilesLoading_&&e>a&&this.getCount()>0;)n=this.dequeue()[0],r=n.getKey(),i=n.getState(),i===j.a.ABORT?o=!0:i!==j.a.IDLE||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++a,n.load());0===a&&o&&this.tileChangeCallback_()};var Y=V,q=i("gCHX"),H=i("kfRt"),K=i("w2Al"),Z=i("/LWt"),J=i("V2dr"),Q=i("VbcQ"),$={MAP_RENDERER:"MAP_RENDERER",LAYER_RENDERER:"LAYER_RENDERER"},tt=$,et={};et.mapRendererPlugins_=[],et.getMapRendererPlugins=function(){return et.mapRendererPlugins_},et.layerRendererPlugins_=[],et.getLayerRendererPlugins=function(){return et.layerRendererPlugins_},et.register=function(t,e){var i;switch(t){case tt.MAP_RENDERER:i=et.mapRendererPlugins_,i.push(e);break;case tt.LAYER_RENDERER:i=et.layerRendererPlugins_,i.push(e);break;default:throw Error("Unsupported plugin type: "+t)}},et.registerMultiple=function(t,e){for(var i=0,n=e.length;n>i;++i)et.register(t,e[i])};var it=et,nt={CANVAS:"canvas",WEBGL:"webgl"},rt=nt,at=i("xifc"),ot=i("azsZ"),st=function(t){k.a.call(this);var e=st.createOptionsInternal(t);this.loadTilesWhileAnimating_=void 0!==t.loadTilesWhileAnimating&&t.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==t.loadTilesWhileInteracting&&t.loadTilesWhileInteracting,this.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:s.a.DEVICE_PIXEL_RATIO,this.logos_=e.logos,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=ot.a.create(),this.pixelToCoordinateTransform_=ot.a.create(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("DIV"),this.viewport_.className="ol-viewport"+(s.a.TOUCH?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("DIV"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("DIV"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var i=[U.a.CLICK,U.a.DBLCLICK,U.a.MOUSEDOWN,U.a.TOUCHSTART,U.a.MSPOINTERDOWN,l.a.POINTERDOWN,U.a.MOUSEWHEEL,U.a.WHEEL],n=0,o=i.length;o>n;++n)h.a.listen(this.overlayContainerStopEvent_,i[n],x.a.stopPropagation);this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new I(this,t.moveTolerance);for(var u in l.a)h.a.listen(this.mapBrowserEventHandler_,l.a[u],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=e.keyboardEventTarget,this.keyHandlerKeys_=null,h.a.listen(this.viewport_,U.a.WHEEL,this.handleBrowserEvent,this),h.a.listen(this.viewport_,U.a.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=e.controls||new r.default,this.interactions=e.interactions||new r.default,this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=e.mapRendererPlugin.create(this.viewport_,this),this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new Y(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},h.a.listen(this,k.a.getChangeEventType(D.LAYERGROUP),this.handleLayerGroupChanged_,this),h.a.listen(this,k.a.getChangeEventType(D.VIEW),this.handleViewChanged_,this),h.a.listen(this,k.a.getChangeEventType(D.SIZE),this.handleSizeChanged_,this),h.a.listen(this,k.a.getChangeEventType(D.TARGET),this.handleTargetChanged_,this),this.setProperties(e.values),this.controls.forEach(function(t){t.setMap(this)},this),h.a.listen(this.controls,a.a.ADD,function(t){t.element.setMap(this)},this),h.a.listen(this.controls,a.a.REMOVE,function(t){t.element.setMap(null)},this),this.interactions.forEach(function(t){t.setMap(this)},this),h.a.listen(this.interactions,a.a.ADD,function(t){t.element.setMap(this)},this),h.a.listen(this.interactions,a.a.REMOVE,function(t){t.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_,this),h.a.listen(this.overlays_,a.a.ADD,function(t){this.addOverlayInternal_(t.element)},this),h.a.listen(this.overlays_,a.a.REMOVE,function(t){var e=t.element,i=e.getId();void 0!==i&&delete this.overlayIdIndex_[""+i],t.element.setMap(null)},this)};n.a.inherits(st,k.a),st.prototype.addControl=function(t){this.getControls().push(t)},st.prototype.addInteraction=function(t){this.getInteractions().push(t)},st.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},st.prototype.addOverlay=function(t){this.getOverlays().push(t)},st.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[""+e]=t),t.setMap(this)},st.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),this.renderer_.dispose(),h.a.unlisten(this.viewport_,U.a.WHEEL,this.handleBrowserEvent,this),h.a.unlisten(this.viewport_,U.a.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(window.removeEventListener(U.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),k.a.prototype.disposeInternal.call(this)},st.prototype.forEachFeatureAtPixel=function(t,e,i){if(this.frameState_){var n=this.getCoordinateFromPixel(t);return i=void 0!==i?i:{},this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,void 0!==i.hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,e,null,void 0!==i.layerFilter?i.layerFilter:J.a.TRUE,null)}},st.prototype.getFeaturesAtPixel=function(t,e){var i=null;return this.forEachFeatureAtPixel(t,function(t){i||(i=[]),i.push(t)},e),i},st.prototype.forEachLayerAtPixel=function(t,e,i,n,r){if(this.frameState_)return this.renderer_.forEachLayerAtPixel(t,this.frameState_,e,void 0!==i?i:null,void 0!==n?n:J.a.TRUE,void 0!==r?r:null)},st.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixel(t);e=void 0!==e?e:{};var n=void 0!==e.layerFilter?e.layerFilter:J.a.TRUE;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0,n,null)},st.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},st.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),i=t.changedTouches?t.changedTouches[0]:t;return[i.clientX-e.left,i.clientY-e.top]},st.prototype.getTarget=function(){return this.get(D.TARGET)},st.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},st.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?ot.a.apply(e.pixelToCoordinateTransform,t.slice()):null},st.prototype.getControls=function(){return this.controls},st.prototype.getOverlays=function(){return this.overlays_},st.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[""+t];return void 0!==e?e:null},st.prototype.getInteractions=function(){return this.interactions},st.prototype.getLayerGroup=function(){return this.get(D.LAYERGROUP)},st.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},st.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?ot.a.apply(e.coordinateToPixelTransform,t.slice(0,2)):null},st.prototype.getRenderer=function(){return this.renderer_},st.prototype.getSize=function(){return this.get(D.SIZE)},st.prototype.getView=function(){return this.get(D.VIEW)},st.prototype.getViewport=function(){return this.viewport_},st.prototype.getOverlayContainer=function(){return this.overlayContainer_},st.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},st.prototype.getTilePriority=function(t,e,i,n){var r=this.frameState_;if(!(r&&e in r.wantedTiles))return X.DROP;if(!r.wantedTiles[e][t.getKey()])return X.DROP;var a=i[0]-r.focus[0],o=i[1]-r.focus[1];return 65536*Math.log(n)+Math.sqrt(a*a+o*o)/n},st.prototype.handleBrowserEvent=function(t,e){this.handleMapBrowserEvent(new o.a(e||t.type,this,t))},st.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e,i=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(e=i.length-1;e>=0;e--){var n=i[e];if(n.getActive()){var r=n.handleEvent(t);if(!r)break}}}},st.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var i=16,n=i;if(t){var r=t.viewHints;r[H.a.ANIMATING]&&(i=this.loadTilesWhileAnimating_?8:0,n=2),r[H.a.INTERACTING]&&(i=this.loadTilesWhileInteracting_?8:0,n=2)}e.getTilesLoading()<i&&(e.reprioritize(),e.loadMoreTiles(i,n))}var a,o,s=this.postRenderFunctions_;for(a=0,o=s.length;o>a;++a)s[a](this,t);s.length=0},st.prototype.handleSizeChanged_=function(){this.render()},st.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,i=this.keyHandlerKeys_.length;i>e;++e)h.a.unlistenByKey(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var n=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[h.a.listen(n,U.a.KEYDOWN,this.handleBrowserEvent,this),h.a.listen(n,U.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(U.a.RESIZE,this.handleResize_,!1))}else K.a.removeNode(this.viewport_),void 0!==this.handleResize_&&(window.removeEventListener(U.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},st.prototype.handleTileChange_=function(){this.render()},st.prototype.handleViewPropertyChanged_=function(){this.render()},st.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(h.a.unlistenByKey(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(h.a.unlistenByKey(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",n.a.getUid(t)),this.viewPropertyListenerKey_=h.a.listen(t,G.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=h.a.listen(t,U.a.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},st.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(h.a.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[h.a.listen(t,G.a.PROPERTYCHANGE,this.render,this),h.a.listen(t,U.a.CHANGE,this.render,this)]),this.render()},st.prototype.isRendered=function(){return!!this.frameState_},st.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},st.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},st.prototype.removeControl=function(t){return this.getControls().remove(t)},st.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},st.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},st.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},st.prototype.renderFrame_=function(t){var e,i,r,a=this.getSize(),o=this.getView(),s=Z.default.createEmpty(),l=this.frameState_,u=null;if(void 0!==a&&at.a.hasArea(a)&&o&&o.isDef()){var h=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),c=this.getLayerGroup().getLayerStatesArray(),f={};for(e=0,i=c.length;i>e;++e)f[n.a.getUid(c[e].layer)]=c[e];r=o.getState(),u={animate:!1,attributions:{},coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:s,focus:this.focus_?this.focus_:r.center,index:this.frameIndex_++,layerStates:f,layerStatesArray:c,logos:W.a.assign({},this.logos_),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:a,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:r,viewHints:h,wantedTiles:{}}}u&&(u.extent=Z.default.getForViewAndSize(r.center,r.resolution,r.rotation,u.size,s)),this.frameState_=u,this.renderer_.renderFrame(u),u&&(u.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,u.postRenderFunctions),l&&(!this.previousExtent_||!Z.default.isEmpty(this.previousExtent_)&&!Z.default.equals(u.extent,this.previousExtent_))&&(this.dispatchEvent(new P.a(N.MOVESTART,this,l)),this.previousExtent_=Z.default.createOrUpdateEmpty(this.previousExtent_)),this.previousExtent_&&!u.viewHints[H.a.ANIMATING]&&!u.viewHints[H.a.INTERACTING]&&!Z.default.equals(u.extent,this.previousExtent_)&&(this.dispatchEvent(new P.a(N.MOVEEND,this,u)),Z.default.clone(u.extent,this.previousExtent_))),this.dispatchEvent(new P.a(N.POSTRENDER,this,u)),setTimeout(this.handlePostRender.bind(this),0)},st.prototype.setLayerGroup=function(t){this.set(D.LAYERGROUP,t)},st.prototype.setSize=function(t){this.set(D.SIZE,t)},st.prototype.setTarget=function(t){this.set(D.TARGET,t)},st.prototype.setView=function(t){this.set(D.VIEW,t)},st.prototype.skipFeature=function(t){this.skippedFeatureUids_[""+n.a.getUid(t)]=!0,this.render()},st.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},st.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[""+n.a.getUid(t)],this.render()},st.DEFAULT_RENDERER_TYPES=[rt.CANVAS,rt.WEBGL],st.LOGO_URL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC",st.createOptionsInternal=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i={},a={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)a[st.LOGO_URL]="https://openlayers.org/";else{var o=t.logo;"string"==typeof o?a[o]="":o instanceof HTMLElement?a[""+n.a.getUid(o)]=o:o&&(B.a.assert("string"==typeof o.href,44),B.a.assert("string"==typeof o.src,45),a[o.src]=o.href)}var s=t.layers instanceof Q.default?t.layers:new Q.default({layers:t.layers});i[D.LAYERGROUP]=s,i[D.TARGET]=t.target,i[D.VIEW]=void 0!==t.view?t.view:new q.default;var l;void 0!==t.renderer?(Array.isArray(t.renderer)?l=t.renderer:"string"==typeof t.renderer?l=[t.renderer]:B.a.assert(!1,46),0>l.indexOf("dom")||(l=l.concat(st.DEFAULT_RENDERER_TYPES))):l=st.DEFAULT_RENDERER_TYPES;var u,h=it.getMapRendererPlugins();t:for(var c=0,f=l.length;f>c;++c)for(var d=l[c],p=0,g=h.length;g>p;++p){var m=h[p];if(m.handles(d)){u=m;break t}}if(!u)throw Error("Unable to create a map renderer for types: "+l.join(", "));var _;void 0!==t.controls&&(Array.isArray(t.controls)?_=new r.default(t.controls.slice()):(B.a.assert(t.controls instanceof r.default,47),_=t.controls));var y;void 0!==t.interactions&&(Array.isArray(t.interactions)?y=new r.default(t.interactions.slice()):(B.a.assert(t.interactions instanceof r.default,48),y=t.interactions));var v;return void 0!==t.overlays?Array.isArray(t.overlays)?v=new r.default(t.overlays.slice()):(B.a.assert(t.overlays instanceof r.default,49),v=t.overlays):v=new r.default,{controls:_,interactions:y,keyboardEventTarget:e,logos:a,overlays:v,mapRendererPlugin:u,values:i}};var lt=st,ut=function(t){k.a.call(this),this.element=t.element?t.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=t.render?t.render:n.a.nullFunction,t.target&&this.setTarget(t.target)};n.a.inherits(ut,k.a),ut.prototype.disposeInternal=function(){K.a.removeNode(this.element),k.a.prototype.disposeInternal.call(this)},ut.prototype.getMap=function(){return this.map_},ut.prototype.setMap=function(t){this.map_&&K.a.removeNode(this.element);for(var e=0,i=this.listenerKeys.length;i>e;++e)h.a.unlistenByKey(this.listenerKeys[e]);this.listenerKeys.length=0,(this.map_=t)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==n.a.nullFunction&&this.listenerKeys.push(h.a.listen(t,N.POSTRENDER,this.render,this)),t.render())},ut.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t};var ht=ut,ct=i("CTDj"),ft=i("bHOE"),dt=function(t){var e=t||{};this.ulElement_=document.createElement("UL"),this.logoLi_=document.createElement("LI"),this.ulElement_.appendChild(this.logoLi_),this.logoLi_.style.display="none",this.collapsed_=void 0===e.collapsed||e.collapsed,(this.collapsible_=void 0===e.collapsible||e.collapsible)||(this.collapsed_=!1);var i=void 0!==e.className?e.className:"ol-attribution",n=void 0!==e.tipLabel?e.tipLabel:"Attributions",r=void 0!==e.collapseLabel?e.collapseLabel:"";"string"==typeof r?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r):this.collapseLabel_=r;var a=void 0!==e.label?e.label:"i";"string"==typeof a?(this.label_=document.createElement("span"),this.label_.textContent=a):this.label_=a;var o=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,s=document.createElement("button");s.setAttribute("type","button"),s.title=n,s.appendChild(o),h.a.listen(s,U.a.CLICK,this.handleClick_,this);var l=i+" "+ct.a.CLASS_UNSELECTABLE+" "+ct.a.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible"),u=document.createElement("div");u.className=l,u.appendChild(this.ulElement_),u.appendChild(s),ht.call(this,{element:u,render:e.render?e.render:dt.render,target:e.target}),this.renderedAttributions_=[],this.renderedVisible_=!0,this.logoElements_={}};n.a.inherits(dt,ht),dt.prototype.getSourceAttributions_=function(t){for(var e={},i=[],n=t.layerStatesArray,r=t.viewState.resolution,a=0,o=n.length;o>a;++a){var s=n[a];if(ft.default.visibleAtResolution(s,r)){var l=s.layer.getSource();if(l){var u=l.getAttributions2();if(u){var h=u(t);if(h)if(Array.isArray(h))for(var c=0,f=h.length;f>c;++c)h[c]in e||(i.push(h[c]),e[h[c]]=!0);else h in e||(i.push(h),e[h]=!0)}}}}return i},dt.render=function(t){this.updateElement_(t.frameState)},dt.prototype.updateElement_=function(t){if(!t)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));var e=this.getSourceAttributions_(t);if(!T.a.equals(e,this.renderedAttributions_)){for(;this.ulElement_.lastChild!==this.logoLi_;)this.ulElement_.removeChild(this.ulElement_.lastChild);for(var i=0,n=e.length;n>i;++i){var r=document.createElement("LI");r.innerHTML=e[i],this.ulElement_.appendChild(r)}0===e.length&&this.renderedAttributions_.length>0?this.element.classList.add("ol-logo-only"):0===this.renderedAttributions_.length&&e.length>0&&this.element.classList.remove("ol-logo-only");var a=e.length>0||!W.a.isEmpty(t.logos);this.renderedVisible_!=a&&(this.element.style.display=a?"":"none",this.renderedVisible_=a),this.renderedAttributions_=e,this.insertLogos_(t)}},dt.prototype.insertLogos_=function(t){var e,i=t.logos,n=this.logoElements_;for(e in n)e in i||(K.a.removeNode(n[e]),delete n[e]);var r,a,o;for(o in i){var s=i[o];s instanceof HTMLElement&&(this.logoLi_.appendChild(s),n[o]=s),o in n||(r=new Image,r.src=o,""===s?a=r:(a=document.createElement("a"),a.href=s,a.appendChild(r)),this.logoLi_.appendChild(a),n[o]=a)}this.logoLi_.style.display=W.a.isEmpty(i)?"none":""},dt.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},dt.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed"),this.collapsed_?K.a.replaceNode(this.collapseLabel_,this.label_):K.a.replaceNode(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},dt.prototype.getCollapsible=function(){return this.collapsible_},dt.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},dt.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},dt.prototype.getCollapsed=function(){return this.collapsed_};var pt=dt,gt=i("2S6f"),mt=function(t){var e=t||{},i=void 0!==e.className?e.className:"ol-rotate",n=void 0!==e.label?e.label:"";this.label_=null,"string"==typeof n?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=n):(this.label_=n,this.label_.classList.add("ol-compass"));var r=e.tipLabel?e.tipLabel:"Reset rotation",a=document.createElement("button");a.className=i+"-reset",a.setAttribute("type","button"),a.title=r,a.appendChild(this.label_),h.a.listen(a,U.a.CLICK,mt.prototype.handleClick_,this);var o=i+" "+ct.a.CLASS_UNSELECTABLE+" "+ct.a.CLASS_CONTROL,s=document.createElement("div");s.className=o,s.appendChild(a);var l=e.render?e.render:mt.render;this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,ht.call(this,{element:s,render:l,target:e.target}),this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(ct.a.CLASS_HIDDEN)};n.a.inherits(mt,ht),mt.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},mt.prototype.resetNorth_=function(){var t=this.getMap(),e=t.getView();e&&void 0!==e.getRotation()&&(this.duration_>0?e.animate({rotation:0,duration:this.duration_,easing:gt.a.easeOut}):e.setRotation(0))},mt.render=function(t){var e=t.frameState;if(e){var i=e.viewState.rotation;if(i!=this.rotation_){var n="rotate("+i+"rad)";if(this.autoHide_){var r=this.element.classList.contains(ct.a.CLASS_HIDDEN);r||0!==i?r&&0!==i&&this.element.classList.remove(ct.a.CLASS_HIDDEN):this.element.classList.add(ct.a.CLASS_HIDDEN)}this.label_.style.msTransform=n,this.label_.style.webkitTransform=n,this.label_.style.transform=n}this.rotation_=i}};var _t=mt,yt=function(t){var e=t||{},i=void 0!==e.className?e.className:"ol-zoom",n=void 0!==e.delta?e.delta:1,r=void 0!==e.zoomInLabel?e.zoomInLabel:"+",a=void 0!==e.zoomOutLabel?e.zoomOutLabel:"",o=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",s=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",l=document.createElement("button");l.className=i+"-in",l.setAttribute("type","button"),l.title=o,l.appendChild("string"==typeof r?document.createTextNode(r):r),h.a.listen(l,U.a.CLICK,yt.prototype.handleClick_.bind(this,n));var u=document.createElement("button");u.className=i+"-out",u.setAttribute("type","button"),u.title=s,u.appendChild("string"==typeof a?document.createTextNode(a):a),h.a.listen(u,U.a.CLICK,yt.prototype.handleClick_.bind(this,-n));var c=i+" "+ct.a.CLASS_UNSELECTABLE+" "+ct.a.CLASS_CONTROL,f=document.createElement("div");f.className=c,f.appendChild(l),f.appendChild(u),ht.call(this,{element:f,target:e.target}),this.duration_=void 0!==e.duration?e.duration:250};n.a.inherits(yt,ht),yt.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},yt.prototype.zoomByDelta_=function(t){var e=this.getMap(),i=e.getView();if(i){var n=i.getResolution();if(n){var r=i.constrainResolution(n,t);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({resolution:r,duration:this.duration_,easing:gt.a.easeOut})):i.setResolution(r)}}};var vt=yt,Et={};Et.defaults=function(t){var e=t||{},i=new r.default;return(void 0===e.zoom||e.zoom)&&i.push(new vt(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&i.push(new _t(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&i.push(new pt(e.attributionOptions)),i};var bt=Et,xt=i("TDso"),Ct=i("ECY+"),St=i("IZoy"),Tt=function(t,e,i,n,r){x.a.call(this,t),this.vectorContext=e,this.frameState=i,this.context=n,this.glContext=r};n.a.inherits(Tt,x.a);var Rt=Tt,Mt=i("Jopg"),wt=i("Oeue"),Ot=i("QBya"),At=i("U/IR"),It=i("f5c8"),Pt=i("RUSk"),Lt=function(){};Lt.prototype.drawCustom=function(t,e,i){},Lt.prototype.drawGeometry=function(t){},Lt.prototype.setStyle=function(t){},Lt.prototype.drawCircle=function(t,e){},Lt.prototype.drawFeature=function(t,e){},Lt.prototype.drawGeometryCollection=function(t,e){},Lt.prototype.drawLineString=function(t,e){},Lt.prototype.drawMultiLineString=function(t,e){},Lt.prototype.drawMultiPoint=function(t,e){},Lt.prototype.drawMultiPolygon=function(t,e){},Lt.prototype.drawPoint=function(t,e){},Lt.prototype.drawPolygon=function(t,e){},Lt.prototype.drawText=function(t,e){},Lt.prototype.setFillStrokeStyle=function(t,e){},Lt.prototype.setImageStyle=function(t,e){},Lt.prototype.setTextStyle=function(t,e){};var Nt=Lt,Ft=function(t,e,i,n,r){Nt.call(this),this.context_=t,this.pixelRatio_=e,this.extent_=i,this.transform_=n,this.viewRotation_=r,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageSnapToPixel_=!1,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=ot.a.create()};n.a.inherits(Ft,Nt),Ft.prototype.drawImages_=function(t,e,i,n){if(this.image_){var r=Pt.a.transform2D(t,e,i,2,this.transform_,this.pixelCoordinates_),a=this.context_,o=this.tmpLocalTransform_,s=a.globalAlpha;1!=this.imageOpacity_&&(a.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);var u,h;for(u=0,h=r.length;h>u;u+=2){var c=r[u]-this.imageAnchorX_,f=r[u+1]-this.imageAnchorY_;if(this.imageSnapToPixel_&&(c=Math.round(c),f=Math.round(f)),0!==l||1!=this.imageScale_){var d=c+this.imageAnchorX_,p=f+this.imageAnchorY_;ot.a.compose(o,d,p,this.imageScale_,this.imageScale_,l,-d,-p),a.setTransform.apply(a,o)}a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,c,f,this.imageWidth_,this.imageHeight_)}0===l&&1==this.imageScale_||a.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(a.globalAlpha=s)}},Ft.prototype.drawText_=function(t,e,i,n){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=Pt.a.transform2D(t,e,i,n,this.transform_,this.pixelCoordinates_),a=this.context_,o=this.textRotation_;for(this.textRotateWithView_&&(o+=this.viewRotation_);i>e;e+=n){var s=r[e]+this.textOffsetX_,l=r[e+1]+this.textOffsetY_;0===o&&1==this.textScale_||a.setTransform.apply(a,ot.a.compose(this.tmpLocalTransform_,s,l,this.textScale_,this.textScale_,o,-s,-l)),this.textStrokeState_&&a.strokeText(this.text_,s,l),this.textFillState_&&a.fillText(this.text_,s,l)}0===o&&1==this.textScale_||a.setTransform(1,0,0,1,0,0)}},Ft.prototype.moveToLineTo_=function(t,e,i,n,r){var a=this.context_,o=Pt.a.transform2D(t,e,i,n,this.transform_,this.pixelCoordinates_);a.moveTo(o[0],o[1]);var s=o.length;r&&(s-=2);for(var l=2;s>l;l+=2)a.lineTo(o[l],o[l+1]);return r&&a.closePath(),i},Ft.prototype.drawRings_=function(t,e,i,n){var r,a;for(r=0,a=i.length;a>r;++r)e=this.moveToLineTo_(t,e,i[r],n,!0);return e},Ft.prototype.drawCircle=function(t){if(Z.default.intersects(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=It.a.transform2D(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],n=e[3]-e[1],r=Math.sqrt(i*i+n*n),a=this.context_;a.beginPath(),a.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},Ft.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},Ft.prototype.drawGeometry=function(t){switch(t.getType()){case At.a.POINT:this.drawPoint(t);break;case At.a.LINE_STRING:this.drawLineString(t);break;case At.a.POLYGON:this.drawPolygon(t);break;case At.a.MULTI_POINT:this.drawMultiPoint(t);break;case At.a.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case At.a.MULTI_POLYGON:this.drawMultiPolygon(t);break;case At.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case At.a.CIRCLE:this.drawCircle(t)}},Ft.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);i&&Z.default.intersects(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))},Ft.prototype.drawGeometryCollection=function(t){var e,i,n=t.getGeometriesArray();for(e=0,i=n.length;i>e;++e)this.drawGeometry(n[e])},Ft.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},Ft.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},Ft.prototype.drawLineString=function(t){if(Z.default.intersects(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}""!==this.text_&&this.drawText_(t.getFlatMidpoint(),0,2,2)}},Ft.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(Z.default.intersects(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,n=t.getFlatCoordinates(),r=0,a=t.getEnds(),o=t.getStride();i.beginPath();var s,l;for(s=0,l=a.length;l>s;++s)r=this.moveToLineTo_(n,r,a[s],o,!1);i.stroke()}if(""!==this.text_){var u=t.getFlatMidpoints();this.drawText_(u,0,u.length,2)}}},Ft.prototype.drawPolygon=function(t){if(Z.default.intersects(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}""!==this.text_&&this.drawText_(t.getFlatInteriorPoint(),0,2,2)}},Ft.prototype.drawMultiPolygon=function(t){if(Z.default.intersects(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e,i,n=this.context_,r=t.getOrientedFlatCoordinates(),a=0,o=t.getEndss(),s=t.getStride();for(n.beginPath(),e=0,i=o.length;i>e;++e)a=this.drawRings_(r,a,o[e],s);this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(""!==this.text_){var l=t.getFlatInteriorPoints();this.drawText_(l,0,l.length,2)}}},Ft.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},Ft.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=e.lineCap=t.lineCap),s.a.CANVAS_LINE_DASH&&(T.a.equals(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,s.a.CANVAS_LINE_DASH&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},Ft.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,n=t.textAlign?t.textAlign:wt.a.defaultTextAlign;i?(i.font!=t.font&&(i.font=e.font=t.font),i.textAlign!=n&&(i.textAlign=n),i.textBaseline!=t.textBaseline&&(i.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=n,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:n,textBaseline:t.textBaseline})},Ft.prototype.setFillStrokeStyle=function(t,e){if(t){var i=t.getColor();this.fillState_={fillStyle:Ot.a.asColorLike(i||wt.a.defaultFillStyle)}}else this.fillState_=null;if(e){var n=e.getColor(),r=e.getLineCap(),a=e.getLineDash(),o=e.getLineDashOffset(),s=e.getLineJoin(),l=e.getWidth(),u=e.getMiterLimit();this.strokeState_={lineCap:void 0!==r?r:wt.a.defaultLineCap,lineDash:a||wt.a.defaultLineDash,lineDashOffset:o||wt.a.defaultLineDashOffset,lineJoin:void 0!==s?s:wt.a.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==l?l:wt.a.defaultLineWidth),miterLimit:void 0!==u?u:wt.a.defaultMiterLimit,strokeStyle:Ot.a.asColorLike(n||wt.a.defaultStrokeStyle)}}else this.strokeState_=null},Ft.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),i=t.getImage(1),n=t.getOrigin(),r=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=r[1],this.image_=i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=n[0],this.imageOriginY_=n[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageSnapToPixel_=t.getSnapToPixel(),this.imageWidth_=r[0]}else this.image_=null},Ft.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var i=e.getColor();this.textFillState_={fillStyle:Ot.a.asColorLike(i||wt.a.defaultFillStyle)}}else this.textFillState_=null;var n=t.getStroke();if(n){var r=n.getColor(),a=n.getLineCap(),o=n.getLineDash(),s=n.getLineDashOffset(),l=n.getLineJoin(),u=n.getWidth(),h=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==a?a:wt.a.defaultLineCap,lineDash:o||wt.a.defaultLineDash,lineDashOffset:s||wt.a.defaultLineDashOffset,lineJoin:void 0!==l?l:wt.a.defaultLineJoin,lineWidth:void 0!==u?u:wt.a.defaultLineWidth,miterLimit:void 0!==h?h:wt.a.defaultMiterLimit,strokeStyle:Ot.a.asColorLike(r||wt.a.defaultStrokeStyle)}}else this.textStrokeState_=null;var c=t.getFont(),f=t.getOffsetX(),d=t.getOffsetY(),p=t.getRotateWithView(),g=t.getRotation(),m=t.getScale(),_=t.getText(),y=t.getTextAlign(),v=t.getTextBaseline();this.textState_={font:void 0!==c?c:wt.a.defaultFont,textAlign:void 0!==y?y:wt.a.defaultTextAlign,textBaseline:void 0!==v?v:wt.a.defaultTextBaseline},this.text_=void 0!==_?_:"",this.textOffsetX_=void 0!==f?this.pixelRatio_*f:0,this.textOffsetY_=void 0!==d?this.pixelRatio_*d:0,this.textRotateWithView_=void 0!==p&&p,this.textRotation_=void 0!==g?g:0,this.textScale_=this.pixelRatio_*(void 0!==m?m:1)}else this.text_=""};var Dt=Ft,kt=i("BV9W"),Gt=i("2fQu"),jt=i("T4j3"),Ut=function(t){Gt.a.call(this),this.layer_=t};n.a.inherits(Ut,Gt.a),Ut.prototype.forEachFeatureAtCoordinate=n.a.nullFunction,Ut.prototype.hasFeatureAtCoordinate=J.a.FALSE,Ut.prototype.createLoadedTileFinder=function(t,e,i){return function(n,r){function a(t){i[n]||(i[n]={}),i[n][""+t.tileCoord]=t}return t.forEachLoadedTile(e,n,r,a)}},Ut.prototype.getLayer=function(){return this.layer_},Ut.prototype.handleImageChange_=function(t){t.target.getState()===kt.a.LOADED&&this.renderIfReadyAndVisible()},Ut.prototype.loadImage=function(t){var e=t.getState();return e!=kt.a.LOADED&&e!=kt.a.ERROR&&h.a.listen(t,U.a.CHANGE,this.handleImageChange_,this),e==kt.a.IDLE&&(t.load(),e=t.getState()),e==kt.a.LOADED},Ut.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==jt.a.READY&&this.changed()},Ut.prototype.scheduleExpireCache=function(t,e){e.canExpireCache()&&t.postRenderFunctions.push(function(t,e,i){var r=""+n.a.getUid(t);r in i.usedTiles&&t.expireCache(i.viewState.projection,i.usedTiles[r])}.bind(null,e))},Ut.prototype.updateLogos=function(t,e){var i=e.getLogo();void 0!==i&&("string"==typeof i?t.logos[i]="":i&&(B.a.assert("string"==typeof i.href,44),B.a.assert("string"==typeof i.src,45),t.logos[i.src]=i.href))},Ut.prototype.updateUsedTiles=function(t,e,i,r){var a=""+n.a.getUid(e),o=""+i;a in t?o in t[a]?t[a][o].extend(r):t[a][o]=r:(t[a]={},t[a][o]=r)},Ut.prototype.manageTilePyramid=function(t,e,i,r,a,o,s,l,u,h){var c=""+n.a.getUid(e);c in t.wantedTiles||(t.wantedTiles[c]={});var f,d,p,g,m,_,y=t.wantedTiles[c],v=t.tileQueue,E=i.getMinZoom();for(_=E;s>=_;++_)for(d=i.getTileRangeForExtentAndZ(o,_,d),p=i.getResolution(_),g=d.minX;d.maxX>=g;++g)for(m=d.minY;d.maxY>=m;++m)s-_>l?e.useTile(_,g,m,a):(f=e.getTile(_,g,m,r,a),f.getState()==j.a.IDLE&&(y[f.getKey()]=!0,v.isKeyQueued(f.getKey())||v.enqueue([f,c,i.getTileCoordCenter(f.tileCoord),p])),void 0!==u&&u.call(h,f))};var Bt=Ut,Wt=function(t){Bt.call(this,t),this.transform_=ot.a.create()};n.a.inherits(Wt,Bt),Wt.prototype.clip=function(t,e,i){var n=e.pixelRatio,r=e.size[0]*n,a=e.size[1]*n,o=e.viewState.rotation,s=Z.default.getTopLeft(i),l=Z.default.getTopRight(i),u=Z.default.getBottomRight(i),h=Z.default.getBottomLeft(i);ot.a.apply(e.coordinateToPixelTransform,s),ot.a.apply(e.coordinateToPixelTransform,l),ot.a.apply(e.coordinateToPixelTransform,u),ot.a.apply(e.coordinateToPixelTransform,h),t.save(),wt.a.rotateAtOffset(t,-o,r/2,a/2),t.beginPath(),t.moveTo(s[0]*n,s[1]*n),t.lineTo(l[0]*n,l[1]*n),t.lineTo(u[0]*n,u[1]*n),t.lineTo(h[0]*n,h[1]*n),t.clip(),wt.a.rotateAtOffset(t,o,r/2,a/2)},Wt.prototype.dispatchComposeEvent_=function(t,e,i,n){var r=this.getLayer();if(r.hasListener(t)){var a=i.size[0]*i.pixelRatio,o=i.size[1]*i.pixelRatio,s=i.viewState.rotation;wt.a.rotateAtOffset(e,-s,a/2,o/2);var l=void 0!==n?n:this.getTransform(i,0),u=new Dt(e,i.pixelRatio,i.extent,l,i.viewState.rotation);r.dispatchEvent(new Rt(t,u,i,e,null)),wt.a.rotateAtOffset(e,s,a/2,o/2)}},Wt.prototype.forEachLayerAtCoordinate=function(t,e,i,n){return this.forEachFeatureAtCoordinate(t,e,0,J.a.TRUE,this)?i.call(n,this.getLayer(),null):void 0},Wt.prototype.postCompose=function(t,e,i,n){this.dispatchComposeEvent_(Mt.a.POSTCOMPOSE,t,e,n)},Wt.prototype.preCompose=function(t,e,i){this.dispatchComposeEvent_(Mt.a.PRECOMPOSE,t,e,i)},Wt.prototype.dispatchRenderEvent=function(t,e,i){this.dispatchComposeEvent_(Mt.a.RENDER,t,e,i)},Wt.prototype.getTransform=function(t,e){var i=t.viewState,n=t.pixelRatio,r=n*t.size[0]/2,a=n*t.size[1]/2,o=n/i.resolution;return ot.a.compose(this.transform_,r,a,o,-o,-i.rotation,-i.center[0]+e,-i.center[1])},Wt.prototype.composeFrame=function(t,e,i){},Wt.prototype.prepareFrame=function(t,e){};var zt=Wt,Xt=function(t){zt.call(this,t),this.coordinateToCanvasPixelTransform=ot.a.create(),this.hitCanvasContext_=null};n.a.inherits(Xt,zt),Xt.prototype.composeFrame=function(t,e,i){this.preCompose(i,t);var n=this.getImage();if(n){var r=e.extent,a=void 0!==r&&!Z.default.containsExtent(r,t.extent)&&Z.default.intersects(r,t.extent);a&&this.clip(i,t,r);var o=this.getImageTransform(),s=i.globalAlpha;i.globalAlpha=e.opacity;var l=o[4],u=o[5],h=n.width*o[0],c=n.height*o[3];i.drawImage(n,0,0,+n.width,+n.height,Math.round(l),Math.round(u),Math.round(h),Math.round(c)),i.globalAlpha=s,a&&i.restore()}this.postCompose(i,t,e)},Xt.prototype.getImage=function(){},Xt.prototype.getImageTransform=function(){},Xt.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r){var a=this.getLayer();return a.getSource().forEachFeatureAtCoordinate(t,e.viewState.resolution,e.viewState.rotation,i,e.skippedFeatureUids,function(t){return n.call(r,t,a)})},Xt.prototype.forEachLayerAtCoordinate=function(t,e,i,r){if(this.getImage()){if(this.getLayer().getSource().forEachFeatureAtCoordinate!==n.a.nullFunction)return zt.prototype.forEachLayerAtCoordinate.apply(this,arguments);var a=ot.a.apply(this.coordinateToCanvasPixelTransform,t.slice());St.a.scale(a,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=K.a.createCanvasContext2D(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),a[0],a[1],1,1,0,0,1,1);var o=this.hitCanvasContext_.getImageData(0,0,1,1).data;return o[3]>0?i.call(r,this.getLayer(),o):void 0}};var Vt=Xt,Yt=function(t){Vt.call(this,t),this.image_=null,this.imageTransform_=ot.a.create()};n.a.inherits(Yt,Vt),Yt.handles=function(t,e){return t===rt.CANVAS&&e.getType()===Ct.a.IMAGE},Yt.create=function(t,e){return new Yt(e)},Yt.prototype.getImage=function(){return this.image_?this.image_.getImage():null},Yt.prototype.getImageTransform=function(){return this.imageTransform_},Yt.prototype.prepareFrame=function(t,e){var i,r=t.pixelRatio,a=t.size,o=t.viewState,s=o.center,l=o.resolution,u=this.getLayer(),h=u.getSource(),c=t.viewHints,f=t.extent;if(void 0!==e.extent&&(f=Z.default.getIntersection(f,e.extent)),!c[H.a.ANIMATING]&&!c[H.a.INTERACTING]&&!Z.default.isEmpty(f)){var d=o.projection;if(!n.a.ENABLE_RASTER_REPROJECTION){var p=h.getProjection();p&&(d=p)}(i=h.getImage(f,l,r,d))&&this.loadImage(i)&&(this.image_=i)}if(this.image_){i=this.image_;var g=i.getExtent(),m=i.getResolution(),_=i.getPixelRatio(),y=r*m/(l*_),v=ot.a.compose(this.imageTransform_,r*a[0]/2,r*a[1]/2,y,y,0,_*(g[0]-s[0])/m,_*(s[1]-g[3])/m);ot.a.compose(this.coordinateToCanvasPixelTransform,r*a[0]/2-v[4],r*a[1]/2-v[5],r/l,-r/l,0,-s[0],-s[1]),this.updateLogos(t,h),this.renderedResolution=m*r/_}return!!this.image_};var qt=Yt,Ht=i("mkUQ"),Kt=i("beD/"),Zt=function(t,e){Ht.a.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={}};n.a.inherits(Zt,Ht.a),Zt.prototype.calculateMatrices2D=function(t){var e=t.viewState,i=t.coordinateToPixelTransform,n=t.pixelToCoordinateTransform;ot.a.compose(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),ot.a.invert(ot.a.setFromArray(n,i))},Zt.prototype.disposeInternal=function(){for(var t in this.layerRenderers_)this.layerRenderers_[t].dispose()},Zt.expireIconCache_=function(t,e){Kt.a.iconImageCache.expire()},Zt.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,a,o,s){function l(t,i){var o=""+n.a.getUid(t),s=e.layerStates[n.a.getUid(i)].managed;if(!(o in e.skippedFeatureUids)||s)return r.call(a,t,s?i:null)}var u,h=e.viewState,c=h.resolution,f=h.projection,d=t;if(f.canWrapX()){var p=f.getExtent(),g=Z.default.getWidth(p),m=t[0];(p[0]>m||m>p[2])&&(d=[m+g*Math.ceil((p[0]-m)/g),t[1]])}var _,y=e.layerStatesArray,v=y.length;for(_=v-1;_>=0;--_){var E=y[_],b=E.layer;if(ft.default.visibleAtResolution(E,c)&&o.call(s,b)){var x=this.getLayerRenderer(b);if(b.getSource()&&(u=x.forEachFeatureAtCoordinate(b.getSource().getWrapX()?d:t,e,i,l,a)),u)return u}}},Zt.prototype.forEachLayerAtPixel=function(t,e,i,n,r,a){},Zt.prototype.hasFeatureAtCoordinate=function(t,e,i,n,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,i,J.a.TRUE,this,n,r)},Zt.prototype.getLayerRenderer=function(t){var e=""+n.a.getUid(t);if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var i,r=it.getLayerRendererPlugins(),a=this.getType(),o=0,s=r.length;s>o;++o){var l=r[o];if(l.handles(a,t)){i=l.create(this,t);break}}if(!i)throw Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=i,this.layerRendererListeners_[e]=h.a.listen(i,U.a.CHANGE,this.handleLayerRendererChange_,this),i},Zt.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},Zt.prototype.getLayerRenderers=function(){return this.layerRenderers_},Zt.prototype.getMap=function(){return this.map_},Zt.prototype.getType=function(){},Zt.prototype.handleLayerRendererChange_=function(){this.map_.render()},Zt.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],h.a.unlistenByKey(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},Zt.prototype.renderFrame=n.a.nullFunction,Zt.prototype.removeUnusedLayerRenderers_=function(t,e){var i;for(i in this.layerRenderers_)e&&i in e.layerStates||this.removeLayerRendererByKey_(i).dispose()},Zt.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(Zt.expireIconCache_)},Zt.prototype.scheduleRemoveUnusedLayerRenderers=function(t){var e;for(e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},Zt.sortByZIndex=function(t,e){return t.zIndex-e.zIndex};var Jt=Zt,Qt=function(t,e){Jt.call(this,t,e),this.context_=K.a.createCanvasContext2D(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=ct.a.CLASS_UNSELECTABLE,t.insertBefore(this.canvas_,t.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=ot.a.create()};n.a.inherits(Qt,Jt),Qt.handles=function(t){return t===rt.CANVAS},Qt.create=function(t,e){return new Qt(t,e)},Qt.prototype.dispatchComposeEvent_=function(t,e){var i=this.getMap(),n=this.context_;if(i.hasListener(t)){var r=e.extent,a=e.pixelRatio,o=e.viewState,s=o.rotation,l=this.getTransform(e),u=new Dt(n,a,r,l,s);i.dispatchEvent(new Rt(t,u,e,n,null))}},Qt.prototype.getTransform=function(t){var e=t.viewState,i=this.canvas_.width/2,n=this.canvas_.height/2,r=t.pixelRatio/e.resolution;return ot.a.compose(this.transform_,i,n,r,-r,-e.rotation,-e.center[0],-e.center[1])},Qt.prototype.getType=function(){return rt.CANVAS},Qt.prototype.renderFrame=function(t){if(!t)return void(this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1));var e=this.context_,i=t.pixelRatio,n=Math.round(t.size[0]*i),r=Math.round(t.size[1]*i);this.canvas_.width!=n||this.canvas_.height!=r?(this.canvas_.width=n,this.canvas_.height=r):e.clearRect(0,0,n,r);var a=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchComposeEvent_(Mt.a.PRECOMPOSE,t);var o=t.layerStatesArray;T.a.stableSort(o,Jt.sortByZIndex),a&&(e.save(),wt.a.rotateAtOffset(e,a,n/2,r/2));var s,l,u,h,c,f=t.viewState.resolution;for(s=0,l=o.length;l>s;++s)c=o[s],u=c.layer,h=this.getLayerRenderer(u),ft.default.visibleAtResolution(c,f)&&c.sourceState==jt.a.READY&&h.prepareFrame(t,c)&&h.composeFrame(t,c,e);a&&e.restore(),this.dispatchComposeEvent_(Mt.a.POSTCOMPOSE,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)},Qt.prototype.forEachLayerAtPixel=function(t,e,i,n,r,a){var o,s,l=e.viewState,u=l.resolution,h=e.layerStatesArray,c=h.length,f=ot.a.apply(e.pixelToCoordinateTransform,t.slice());for(s=c-1;s>=0;--s){var d=h[s],p=d.layer;if(ft.default.visibleAtResolution(d,u)&&r.call(a,p)&&(o=this.getLayerRenderer(p).forEachLayerAtCoordinate(f,e,i,n)))return o}};var $t=Qt,te=i("2p9+"),ee=function(t){Vt.call(this,t),this.context=null===this.context?null:K.a.createCanvasContext2D(),this.renderedExtent_=null,this.renderedTiles=[],this.tmpExtent=Z.default.createEmpty(),this.tmpTileRange_=new te.a(0,0,0,0),this.imageTransform_=ot.a.create(),this.zDirection=0};n.a.inherits(ee,Vt),ee.handles=function(t,e){return t===rt.CANVAS&&e.getType()===Ct.a.TILE},ee.create=function(t,e){return new ee(e)},ee.prototype.isDrawableTile_=function(t){var e=t.getState(),i=this.getLayer().getUseInterimTilesOnError();return e==j.a.LOADED||e==j.a.EMPTY||e==j.a.ERROR&&!i},ee.prototype.prepareFrame=function(t,e){var i=t.pixelRatio,r=t.size,a=t.viewState,o=a.projection,s=a.resolution,l=a.center,u=this.getLayer(),h=u.getSource(),c=h.getRevision(),f=h.getTileGridForProjection(o),d=f.getZForResolution(s,this.zDirection),p=f.getResolution(d),g=Math.round(s/p)||1,m=t.extent;if(void 0!==e.extent&&(m=Z.default.getIntersection(m,e.extent)),Z.default.isEmpty(m))return!1;var _=f.getTileRangeForExtentAndZ(m,d),y=f.getTileRangeExtent(d,_),v=h.getTilePixelRatio(i),E={};E[d]={};var b,x,C,S=this.createLoadedTileFinder(h,o,E),T=this.tmpExtent,R=this.tmpTileRange_,M=!1;for(x=_.minX;_.maxX>=x;++x)for(C=_.minY;_.maxY>=C;++C){if(b=h.getTile(d,x,C,i,o),b.getState()==j.a.ERROR&&(u.getUseInterimTilesOnError()?u.getPreload()>0&&(M=!0):b.setState(j.a.LOADED)),this.isDrawableTile_(b)||(b=b.getInterimTile()),this.isDrawableTile_(b)){var w=n.a.getUid(this);if(b.getState()==j.a.LOADED){E[d][""+b.tileCoord]=b;var O=b.inTransition(w);M||!O&&-1!==this.renderedTiles.indexOf(b)||(M=!0)}if(1===b.getAlpha(w,t.time))continue}var A=f.getTileCoordChildTileRange(b.tileCoord,R,T),I=!1;A&&(I=S(d+1,A)),I||f.forEachTileCoordParentTileRange(b.tileCoord,S,null,R,T)}var P=p*i/v*g,L=t.viewHints,N=L[H.a.ANIMATING]||L[H.a.INTERACTING];if(!(this.renderedResolution&&Date.now()-t.time>16&&N)&&(M||!this.renderedExtent_||!Z.default.containsExtent(this.renderedExtent_,m)||this.renderedRevision!=c||g!=this.oversampling_||!N&&P!=this.renderedResolution)){var F=this.context;if(F){var D=h.getTilePixelSize(d,i,o),k=Math.round(_.getWidth()*D[0]/g),G=Math.round(_.getHeight()*D[1]/g),U=F.canvas;U.width!=k||U.height!=G?(this.oversampling_=g,U.width=k,U.height=G):(this.renderedExtent_&&!Z.default.equals(y,this.renderedExtent_)&&F.clearRect(0,0,k,G),g=this.oversampling_)}this.renderedTiles.length=0;var B=Object.keys(E).map(Number);B.sort(function(t,e){return t===d?1:e===d?-1:t>e?1:e>t?-1:0});var W,z,X,V,Y,q,K,J,Q,$,tt;for(Y=0,q=B.length;q>Y;++Y){V=B[Y],X=h.getTilePixelSize(V,i,o),W=f.getResolution(V),z=W/p,J=v*h.getGutter(o),Q=E[V];for(var et in Q)b=Q[et],K=f.getTileCoordExtent(b.getTileCoord(),T),x=(K[0]-y[0])/p*v/g,C=(y[3]-K[3])/p*v/g,$=X[0]*z/g,tt=X[1]*z/g,this.drawTileImage(b,t,e,x,C,$,tt,J,d===V),this.renderedTiles.push(b)}this.renderedRevision=c,this.renderedResolution=p*i/v*g,this.renderedExtent_=y}var it=this.renderedResolution/s,nt=ot.a.compose(this.imageTransform_,i*r[0]/2,i*r[1]/2,it,it,0,(this.renderedExtent_[0]-l[0])/this.renderedResolution*i,(l[1]-this.renderedExtent_[3])/this.renderedResolution*i);return ot.a.compose(this.coordinateToCanvasPixelTransform,i*r[0]/2-nt[4],i*r[1]/2-nt[5],i/s,-i/s,0,-l[0],-l[1]),this.updateUsedTiles(t.usedTiles,h,d,_),this.manageTilePyramid(t,h,f,i,o,m,d,u.getPreload()),this.scheduleExpireCache(t,h),this.updateLogos(t,h),this.renderedTiles.length>0},ee.prototype.drawTileImage=function(t,e,i,r,a,o,s,l,u){var h=t.getImage(this.getLayer());if(h){var c=n.a.getUid(this),f=u?t.getAlpha(c,e.time):1;1!==f||this.getLayer().getSource().getOpaque(e.viewState.projection)||this.context.clearRect(r,a,o,s);var d=f!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=f),this.context.drawImage(h,l,l,h.width-2*l,h.height-2*l,r,a,o,s),d&&this.context.restore(),1!==f?e.animate=!0:u&&t.endTransition(c)}},ee.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},ee.prototype.getImageTransform=function(){return this.imageTransform_};var ie=ee,ne=i("emf4"),re=i.n(ne),ae=function(){};ae.prototype.getReplay=function(t,e){},ae.prototype.isEmpty=function(){};var oe=ae,se={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"},le=se,ue=i("WTDv"),he=i("wupX"),ce=i("3ahG"),fe=i("o1z/"),de={};de.lineString=function(t,e,i,n,r,a,o,s){var l=[],u=t[e]>t[i-n],h=r.length,c=t[e],f=t[e+1];e+=n;for(var d,p,g,m=t[e],_=t[e+1],y=0,v=Math.sqrt(Math.pow(m-c,2)+Math.pow(_-f,2)),E="",b=0,x=0;h>x;++x){p=u?h-x-1:x;var C=r.charAt(p);E=u?C+E:E+C;var S=a(E)-b;b+=S;for(var T=o+S/2;i-n>e&&T>y+v;)c=m,f=_,e+=n,m=t[e],_=t[e+1],y+=v,v=Math.sqrt(Math.pow(m-c,2)+Math.pow(_-f,2));var R=T-y,M=Math.atan2(_-f,m-c);if(u&&(M+=M>0?-Math.PI:Math.PI),void 0!==g){var w=M-g;if(w+=w>Math.PI?-2*Math.PI:w<-Math.PI?2*Math.PI:0,Math.abs(w)>s)return null}var O=R/v,A=fe.a.lerp(c,m,O),I=fe.a.lerp(f,_,O);g==M?(u&&(d[0]=A,d[1]=I,d[2]=S/2),d[4]=E):(E=C,b=S,d=[A,I,S/2,M,E],u?l.unshift(d):l.push(d),g=M),o+=S}return l};var pe=de,ge={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},me=ge,_e=function(t,e,i,n,r,a){Nt.call(this),this.declutterTree=a,this.tmpExtent_=Z.default.createEmpty(),this.tolerance=t,this.maxExtent=e,this.overlaps=r,this.pixelRatio=n,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=ot.a.create(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.tmpLocalTransform_=ot.a.create(),this.resetTransform_=ot.a.create()};n.a.inherits(_e,Nt),_e.prototype.replayImage_=function(t,e,i,n,r,a,o,s,l,u,h,c,f,d,p){var g=this.tmpLocalTransform_;r*=f,a*=f,e-=r,i-=a,d&&(e=Math.round(e),i=Math.round(i));var m=p+u>n.width?n.width-u:p,_=s+h>n.height?n.height-h:s,y=this.tmpExtent_,v=null;if(0!==c){var E=e+r,b=i+a;v=ot.a.compose(g,E,b,1,1,c,-E,-b),Z.default.createOrUpdateEmpty(y),Z.default.extendCoordinate(y,ot.a.apply(g,[e,i])),Z.default.extendCoordinate(y,ot.a.apply(g,[e+m,i])),Z.default.extendCoordinate(y,ot.a.apply(g,[e+m,i+_])),Z.default.extendCoordinate(y,ot.a.apply(g,[e,i+m]))}else Z.default.createOrUpdate(e,i,e+m*f,i+_*f,y);var x=t.canvas,C=!(y[0]>x.width||0>y[2]||y[1]>x.height||0>y[3]);if(o){if(!C&&1==o[4])return;Z.default.extend(o,y),o.push(C?[t,v?v.slice(0):null,l,n,u,h,m,_,e,i,f]:null)}else C&&wt.a.drawImage(t,v,l,n,u,h,m,_,e,i,f)},_e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},_e.prototype.appendFlatCoordinates=function(t,e,i,n,r,a){var o=this.coordinates.length,s=this.getBufferedMaxExtent();a&&(e+=n);var l,u,h,c=[t[e],t[e+1]],f=[NaN,NaN],d=!0;for(l=e+n;i>l;l+=n)f[0]=t[l],f[1]=t[l+1],h=Z.default.coordinateRelationship(s,f),h!==u?(d&&(this.coordinates[o++]=c[0],this.coordinates[o++]=c[1]),this.coordinates[o++]=f[0],this.coordinates[o++]=f[1],d=!1):h===ue.a.INTERSECTING?(this.coordinates[o++]=f[0],this.coordinates[o++]=f[1],d=!1):d=!0,c[0]=f[0],c[1]=f[1],u=h;return(r&&d||l===e+n)&&(this.coordinates[o++]=c[0],this.coordinates[o++]=c[1]),o},_e.prototype.drawCustomCoordinates_=function(t,e,i,n,r){for(var a=0,o=i.length;o>a;++a){var s=i[a];r.push(this.appendFlatCoordinates(t,e,s,n,!1,!1)),e=s}return e},_e.prototype.drawCustom=function(t,e,i){this.beginGeometry(t,e);var n,r,a,o,s,l=t.getType(),u=t.getStride(),h=this.coordinates.length;if(l==At.a.MULTI_POLYGON){t=t,n=t.getOrientedFlatCoordinates(),o=[];var c=t.getEndss();s=0;for(var f=0,d=c.length;d>f;++f){var p=[];s=this.drawCustomCoordinates_(n,s,c[f],u,p),o.push(p)}this.instructions.push([me.CUSTOM,h,o,t,i,he.a.coordinatesss])}else l==At.a.POLYGON||l==At.a.MULTI_LINE_STRING?(a=[],n=l==At.a.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(n,0,t.getEnds(),u,a),this.instructions.push([me.CUSTOM,h,a,t,i,he.a.coordinatess])):l==At.a.LINE_STRING||l==At.a.MULTI_POINT?(n=t.getFlatCoordinates(),r=this.appendFlatCoordinates(n,0,n.length,u,!1,!1),this.instructions.push([me.CUSTOM,h,r,t,i,he.a.coordinates])):l==At.a.POINT&&(n=t.getFlatCoordinates(),this.coordinates.push(n[0],n[1]),r=this.coordinates.length,this.instructions.push([me.CUSTOM,h,r,t,i]));this.endGeometry(t,e)},_e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[me.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[me.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},_e.prototype.fill_=function(t,e){if(this.fillOrigin_){var i=ot.a.apply(this.renderedTransform_,this.fillOrigin_.slice());t.translate(i[0],i[1]),t.rotate(e)}t.fill(),this.fillOrigin_&&t.setTransform.apply(t,wt.a.resetTransform_)},_e.prototype.renderDeclutter_=function(t){if(t&&t.length>5){var e=t[4];if(1==e||e==t.length-5){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};if(!this.declutterTree.collides(i)){this.declutterTree.insert(i);for(var n=wt.a.drawImage,r=5,a=t.length;a>r;++r)t[r]&&n.apply(void 0,t[r])}t.length=5,Z.default.createOrUpdateEmpty(t)}}},_e.prototype.replay_=function(t,e,i,r,a,o,l){var u;this.pixelCoordinates_&&T.a.equals(e,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=Pt.a.transform2D(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),ot.a.setFromArray(this.renderedTransform_,e));for(var h,c,f,d,p,g,m,_,y=!W.a.isEmpty(r),v=0,E=a.length,b=0,x=0,C=0,S=this.coordinateCache_,R={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:i},M=this.instructions!=a||this.overlaps?0:200;E>v;){var w,O,A,I=a[v];switch(I[0]){case me.BEGIN_GEOMETRY:w=I[1],y&&r[""+n.a.getUid(w)]||!w.getGeometry()?v=I[2]:void 0===l||Z.default.intersects(l,w.getGeometry().getExtent())?++v:v=I[2]+1;break;case me.BEGIN_PATH:x>M&&(this.fill_(t,i),x=0),C>M&&(t.stroke(),C=0),x||C||(t.beginPath(),d=p=NaN),++v;break;case me.CIRCLE:b=I[1];var P=u[b],L=u[b+1],N=u[b+2],F=u[b+3],D=N-P,k=F-L,G=Math.sqrt(D*D+k*k);t.moveTo(P+G,L),t.arc(P,L,G,0,2*Math.PI,!0),++v;break;case me.CLOSE_PATH:t.closePath(),++v;break;case me.CUSTOM:b=I[1],h=I[2];var j=I[3],U=I[4],B=6==I.length?I[5]:void 0;R.geometry=j,R.feature=w,v in S||(S[v]=[]);var z=S[v];B?B(u,b,h,2,z):(z[0]=u[b],z[1]=u[b+1],z.length=2),U(z,R),++v;break;case me.DRAW_IMAGE:b=I[1],h=I[2];var X=I[3];c=I[4],f=I[5],_=I[6];var V=I[7],Y=I[8],q=I[9],H=I[10],K=I[11],J=I[12],Q=I[13],$=I[14],tt=I[15];for(K&&(J+=i);h>b;b+=2)this.replayImage_(t,u[b],u[b+1],X,c,f,_,V,Y,q,H,J,Q,$,tt);this.renderDeclutter_(_),++v;break;case me.DRAW_CHARS:var et=I[1],it=I[2],nt=I[3];_=I[4];var rt=I[5],at=I[6],st=I[7],lt=I[8],ut=I[9],ht=I[10],ct=I[11],ft=I[12],dt=I[13],pt=I[14],gt=ce.a.lineString(u,et,it,2),mt=lt(ft);if(rt||gt>=mt){var _t=(gt-mt)*dt,yt=pe.lineString(u,et,it,2,ft,lt,_t,st);if(yt){var vt,Et,bt,xt,Ct;if(ht)for(vt=0,Et=yt.length;Et>vt;++vt)Ct=yt[vt],bt=Ct[4],xt=this.getImage(bt,!1,!0),c=Ct[2]+ct,f=nt*xt.height+2*(.5-nt)*ct-ut,this.replayImage_(t,Ct[0],Ct[1],xt,c,f,_,xt.height,1,0,0,Ct[3],pt,!1,xt.width);if(at)for(vt=0,Et=yt.length;Et>vt;++vt)Ct=yt[vt],bt=Ct[4],xt=this.getImage(bt,!0,!1),c=Ct[2],f=nt*xt.height-ut,this.replayImage_(t,Ct[0],Ct[1],xt,c,f,_,xt.height,1,0,0,Ct[3],pt,!1,xt.width)}}this.renderDeclutter_(_),++v;break;case me.END_GEOMETRY:if(void 0!==o){w=I[1];var St=o(w);if(St)return St}++v;break;case me.FILL:M?x++:this.fill_(t,i),++v;break;case me.MOVE_TO_LINE_TO:for(b=I[1],h=I[2],O=u[b],A=u[b+1],g=O+.5|0,m=A+.5|0,g===d&&m===p||(t.moveTo(O,A),d=g,p=m),b+=2;h>b;b+=2)O=u[b],A=u[b+1],g=O+.5|0,m=A+.5|0,b!=h-2&&g===d&&m===p||(t.lineTo(O,A),d=g,p=m);++v;break;case me.SET_FILL_STYLE:this.fillOrigin_=I[2],x&&(this.fill_(t,i),x=0,C&&(t.stroke(),C=0)),t.fillStyle=I[1],++v;break;case me.SET_STROKE_STYLE:C&&(t.stroke(),C=0),t.strokeStyle=I[1],t.lineWidth=I[2],t.lineCap=I[3],t.lineJoin=I[4],t.miterLimit=I[5],s.a.CANVAS_LINE_DASH&&(t.lineDashOffset=I[7],t.setLineDash(I[6])),++v;break;case me.STROKE:M?C++:t.stroke(),++v;break;default:++v}}x&&this.fill_(t,i),C&&t.stroke()},_e.prototype.replay=function(t,e,i,n){this.replay_(t,e,i,n,this.instructions,void 0,void 0)},_e.prototype.replayHitDetection=function(t,e,i,n,r,a){return this.replay_(t,e,i,n,this.hitDetectionInstructions,r,a)},_e.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var e,i,n,r=t.length,a=-1;for(e=0;r>e;++e)i=t[e],n=i[0],n==me.END_GEOMETRY?a=e:n==me.BEGIN_GEOMETRY&&(i[2]=e,T.a.reverseSubArray(this.hitDetectionInstructions,a,e),a=-1)},_e.prototype.setFillStrokeStyle=function(t,e){var i=this.state;if(t){var n=t.getColor();i.fillStyle=Ot.a.asColorLike(n||wt.a.defaultFillStyle)}else i.fillStyle=void 0;if(e){var r=e.getColor();i.strokeStyle=Ot.a.asColorLike(r||wt.a.defaultStrokeStyle);var a=e.getLineCap();i.lineCap=void 0!==a?a:wt.a.defaultLineCap;var o=e.getLineDash();i.lineDash=o?o.slice():wt.a.defaultLineDash;var s=e.getLineDashOffset();i.lineDashOffset=s||wt.a.defaultLineDashOffset;var l=e.getLineJoin();i.lineJoin=void 0!==l?l:wt.a.defaultLineJoin;var u=e.getWidth();i.lineWidth=void 0!==u?u:wt.a.defaultLineWidth;var h=e.getMiterLimit();i.miterLimit=void 0!==h?h:wt.a.defaultMiterLimit,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},_e.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle,n=t.lineCap,r=t.lineDash,a=t.lineDashOffset,o=t.lineJoin,s=t.lineWidth,l=t.miterLimit;t.currentStrokeStyle==i&&t.currentLineCap==n&&T.a.equals(t.currentLineDash,r)&&t.currentLineDashOffset==a&&t.currentLineJoin==o&&t.currentLineWidth==s&&t.currentMiterLimit==l||(e&&(void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push([me.STROKE]),t.lastStroke=this.coordinates.length),t.lastStroke=0),this.instructions.push([me.SET_STROKE_STYLE,i,s*this.pixelRatio,n,o,l,this.applyPixelRatio(r),a*this.pixelRatio]),e&&this.instructions.push([me.BEGIN_PATH]),t.currentStrokeStyle=i,t.currentLineCap=n,t.currentLineDash=r,t.currentLineDashOffset=a,t.currentLineJoin=o,t.currentLineWidth=s,t.currentMiterLimit=l)},_e.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var i=[me.END_GEOMETRY,e];this.instructions.push(i),this.hitDetectionInstructions.push(i)},_e.prototype.finish=n.a.nullFunction,_e.prototype.getBufferedMaxExtent=function(){return!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Z.default.clone(this.maxExtent),this.maxLineWidth>0)&&Z.default.buffer(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_),this.bufferedMaxExtent_};var ye=_e,ve=function(t,e,i,n,r,a){ye.call(this,t,e,i,n,r,a),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.snapToPixel_=void 0,this.width_=void 0};n.a.inherits(ve,ye),ve.prototype.drawCoordinates_=function(t,e,i,n){return this.appendFlatCoordinates(t,e,i,n,!1,!1)},ve.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),n=t.getStride(),r=this.coordinates.length,a=this.drawCoordinates_(i,0,i.length,n);this.instructions.push([me.DRAW_IMAGE,r,a,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([me.DRAW_IMAGE,r,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(t,e)}},ve.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),n=t.getStride(),r=this.coordinates.length,a=this.drawCoordinates_(i,0,i.length,n);this.instructions.push([me.DRAW_IMAGE,r,a,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([me.DRAW_IMAGE,r,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(t,e)}},ve.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.snapToPixel_=void 0,this.width_=void 0},ve.prototype.setImageStyle=function(t,e){var i=t.getAnchor(),n=t.getSize(),r=t.getHitDetectionImage(1),a=t.getImage(1),o=t.getOrigin();this.anchorX_=i[0],this.anchorY_=i[1],this.declutterGroup_=e,this.hitDetectionImage_=r,this.image_=a,this.height_=n[1],this.opacity_=t.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.snapToPixel_=t.getSnapToPixel(),this.width_=n[0]};var Ee=ve,be=function(t,e,i,n,r,a){ye.call(this,t,e,i,n,r,a)};n.a.inherits(be,ye),be.prototype.drawFlatCoordinates_=function(t,e,i,n){var r=this.coordinates.length,a=this.appendFlatCoordinates(t,e,i,n,!1,!1),o=[me.MOVE_TO_LINE_TO,r,a];return this.instructions.push(o),this.hitDetectionInstructions.push(o),i},be.prototype.drawLineString=function(t,e){var i=this.state,n=i.strokeStyle,r=i.lineWidth;if(void 0!==n&&void 0!==r){this.updateStrokeStyle(i,!0),this.beginGeometry(t,e),this.hitDetectionInstructions.push([me.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],[me.BEGIN_PATH]);var a=t.getFlatCoordinates();this.drawFlatCoordinates_(a,0,a.length,t.getStride()),this.hitDetectionInstructions.push([me.STROKE]),this.endGeometry(t,e)}},be.prototype.drawMultiLineString=function(t,e){var i=this.state,n=i.strokeStyle,r=i.lineWidth;if(void 0!==n&&void 0!==r){this.updateStrokeStyle(i,!0),this.beginGeometry(t,e),this.hitDetectionInstructions.push([me.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],[me.BEGIN_PATH]);var a,o,s=t.getEnds(),l=t.getFlatCoordinates(),u=t.getStride(),h=0;for(a=0,o=s.length;o>a;++a)h=this.drawFlatCoordinates_(l,h,s[a],u);this.hitDetectionInstructions.push([me.STROKE]),this.endGeometry(t,e)}},be.prototype.finish=function(){var t=this.state;void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push([me.STROKE]),this.reverseHitDetectionInstructions(),this.state=null};var xe=be,Ce=i("FeXB"),Se=i("LmAy"),Te=function(t,e,i,n,r,a){ye.call(this,t,e,i,n,r,a)};n.a.inherits(Te,ye),Te.prototype.drawFlatCoordinatess_=function(t,e,i,n){var r=this.state,a=void 0!==r.fillStyle,o=void 0!=r.strokeStyle,s=i.length,l=[me.BEGIN_PATH];this.instructions.push(l),this.hitDetectionInstructions.push(l);for(var u=0;s>u;++u){var h=i[u],c=this.coordinates.length,f=this.appendFlatCoordinates(t,e,h,n,!0,!o),d=[me.MOVE_TO_LINE_TO,c,f];if(this.instructions.push(d),this.hitDetectionInstructions.push(d),o){var p=[me.CLOSE_PATH];this.instructions.push(p),this.hitDetectionInstructions.push(p)}e=h}var g=[me.FILL];if(this.hitDetectionInstructions.push(g),a&&this.instructions.push(g),o){var m=[me.STROKE];this.instructions.push(m),this.hitDetectionInstructions.push(m)}return e},Te.prototype.drawCircle=function(t,e){var i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),this.hitDetectionInstructions.push([me.SET_FILL_STYLE,Ce.a.asString(wt.a.defaultFillStyle)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([me.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var a=t.getFlatCoordinates(),o=t.getStride(),s=this.coordinates.length;this.appendFlatCoordinates(a,0,a.length,o,!1,!1);var l=[me.BEGIN_PATH],u=[me.CIRCLE,s];this.instructions.push(l,u),this.hitDetectionInstructions.push(l,u);var h=[me.FILL];if(this.hitDetectionInstructions.push(h),void 0!==i.fillStyle&&this.instructions.push(h),void 0!==i.strokeStyle){var c=[me.STROKE];this.instructions.push(c),this.hitDetectionInstructions.push(c)}this.endGeometry(t,e)}},Te.prototype.drawPolygon=function(t,e){var i=this.state;this.setFillStrokeStyles_(t),this.beginGeometry(t,e),this.hitDetectionInstructions.push([me.SET_FILL_STYLE,Ce.a.asString(wt.a.defaultFillStyle)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([me.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var n=t.getEnds();this.drawFlatCoordinatess_(t.getOrientedFlatCoordinates(),0,n,t.getStride()),this.endGeometry(t,e)},Te.prototype.drawMultiPolygon=function(t,e){var i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),this.hitDetectionInstructions.push([me.SET_FILL_STYLE,Ce.a.asString(wt.a.defaultFillStyle)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([me.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var a,o,s=t.getEndss(),l=t.getOrientedFlatCoordinates(),u=t.getStride(),h=0;for(a=0,o=s.length;o>a;++a)h=this.drawFlatCoordinatess_(l,h,s[a],u);this.endGeometry(t,e)}},Te.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t){var e,i,n=this.coordinates;for(e=0,i=n.length;i>e;++e)n[e]=Se.a.snap(n[e],t)}},Te.prototype.setFillStrokeStyles_=function(t){var e=this.state,i=e.fillStyle;if(void 0!==i&&("string"!=typeof i||e.currentFillStyle!=i)){var n=[me.SET_FILL_STYLE,i];if("string"!=typeof i){var r=t.getExtent();n.push([r[0],r[3]])}this.instructions.push(n),e.currentFillStyle=e.fillStyle}void 0!==e.strokeStyle&&this.updateStrokeStyle(e,!1)};var Re=Te,Me={};Me.lineString=function(t,e,i,n,r){var a,o,s,l,u,h,c,f,d,p=i,g=i,m=0,_=0,y=i;for(a=i;n>a;a+=r){var v=e[a],E=e[a+1];void 0!==l&&(f=v-l,d=E-u,s=Math.sqrt(f*f+d*d),void 0!==h&&(_+=o,Math.acos((h*f+c*d)/(o*s))>t&&(_>m&&(m=_,p=y,g=a),_=0,y=a-r)),o=s,h=f,c=d),l=v,u=E}return _+=s,_>m?[y,a]:[p,g]};var we=Me,Oe={};Oe.ORDER=[le.POLYGON,le.CIRCLE,le.LINE_STRING,le.IMAGE,le.TEXT,le.DEFAULT],Oe.TEXT_ALIGN={},Oe.TEXT_ALIGN.left=0,Oe.TEXT_ALIGN.end=0,Oe.TEXT_ALIGN.center=.5,Oe.TEXT_ALIGN.right=1,Oe.TEXT_ALIGN.start=1,Oe.TEXT_ALIGN.top=0,Oe.TEXT_ALIGN.middle=.5,Oe.TEXT_ALIGN.hanging=.2,Oe.TEXT_ALIGN.alphabetic=.8,Oe.TEXT_ALIGN.ideographic=.8,Oe.TEXT_ALIGN.bottom=1;var Ae=Oe,Ie=i("YyS4"),Pe=function(t,e,i,n,r,a){ye.call(this,t,e,i,n,r,a),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={}};n.a.inherits(Pe,ye),Pe.measureTextHeight=function(){var t,e={};return function(i){var n=e[i];return void 0==n&&(t||(t=document.createElement("span"),t.textContent="M",t.style.margin=t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=i,document.body.appendChild(t),n=e[i]=t.offsetHeight,document.body.removeChild(t)),n}}(),Pe.measureTextWidth=function(){var t,e;return function(i,n){return t||(t=K.a.createCanvasContext2D(1,1)),i!=e&&(e=t.font=i),t.measureText(n).width}}(),Pe.measureTextWidths=function(t,e,i){var n,r,a=e.length,o=0;for(r=0;a>r;++r)n=Pe.measureTextWidth(t,e[r]),o=Math.max(o,n),i.push(n);return o},Pe.prototype.drawText=function(t,e){var i=this.textFillState_,n=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(i||n)){var a,o,s=this.coordinates.length,l=t.getType(),u=null,h=2,c=2;if(r.placement===Ie.a.LINE){if(!Z.default.intersects(this.getBufferedMaxExtent(),t.getExtent()))return;var f;if(u=t.getFlatCoordinates(),c=t.getStride(),l==At.a.LINE_STRING)f=[u.length];else if(l==At.a.MULTI_LINE_STRING)f=t.getEnds();else if(l==At.a.POLYGON)f=t.getEnds().slice(0,1);else if(l==At.a.MULTI_POLYGON){var d=t.getEndss();for(f=[],a=0,o=d.length;o>a;++a)f.push(d[a][0])}this.beginGeometry(t,e);for(var p,g=r.textAlign,m=0,_=0,y=f.length;y>_;++_){if(void 0==g){var v=we.lineString(r.maxAngle,u,m,f[_],c);m=v[0],p=v[1]}else p=f[_];for(a=m;p>a;a+=c)this.coordinates.push(u[a],u[a+1]);h=this.coordinates.length,m=f[_],this.drawChars_(s,h,this.declutterGroup_),s=h}this.endGeometry(t,e)}else{var E=this.getImage(this.text_,!!this.textFillState_,!!this.textStrokeState_),b=E.width/this.pixelRatio;switch(l){case At.a.POINT:case At.a.MULTI_POINT:u=t.getFlatCoordinates(),h=u.length;break;case At.a.LINE_STRING:u=t.getFlatMidpoint();break;case At.a.CIRCLE:u=t.getCenter();break;case At.a.MULTI_LINE_STRING:u=t.getFlatMidpoints(),h=u.length;break;case At.a.POLYGON:if(u=t.getFlatInteriorPoint(),!r.exceedLength&&b>u[2]/this.resolution)return;c=3;break;case At.a.MULTI_POLYGON:var x=t.getFlatInteriorPoints();for(u=[],a=0,o=x.length;o>a;a+=3)!r.exceedLength&&b>x[a+2]/this.resolution||u.push(x[a],x[a+1]);if(0==(h=u.length))return}h=this.appendFlatCoordinates(u,0,h,c,!1,!1),this.beginGeometry(t,e),this.drawTextImage_(E,s,h),this.endGeometry(t,e)}}},Pe.prototype.getImage=function(t,e,i){var n,r=(i?this.strokeKey_:"")+this.textKey_+t+(e?this.fillKey_:""),a=wt.a.labelCache;if(!a.containsKey(r)){var o=this.textStrokeState_,l=this.textFillState_,u=this.textState_,h=this.pixelRatio,c=u.scale*h,f=Ae.TEXT_ALIGN[u.textAlign||wt.a.defaultTextAlign],d=i&&o.lineWidth?o.lineWidth:0,p=t.split("\n"),g=p.length,m=[],_=Pe.measureTextWidths(u.font,p,m),y=Pe.measureTextHeight(u.font),v=y*g,E=_+d,b=K.a.createCanvasContext2D(Math.ceil(E*c),Math.ceil((v+d)*c));n=b.canvas,a.pruneAndSet(r,n),1!=c&&b.scale(c,c),b.font=u.font,i&&(b.strokeStyle=o.strokeStyle,b.lineWidth=d*(s.a.SAFARI?c:1),b.lineCap=o.lineCap,b.lineJoin=o.lineJoin,b.miterLimit=o.miterLimit,s.a.CANVAS_LINE_DASH&&o.lineDash.length&&(b.setLineDash(o.lineDash),b.lineDashOffset=o.lineDashOffset)),e&&(b.fillStyle=l.fillStyle),b.textBaseline="top",b.textAlign="center";var x,C=.5-f,S=f*n.width/c+C*d;if(i)for(x=0;g>x;++x)b.strokeText(p[x],S+C*m[x],.5*d+x*y);if(e)for(x=0;g>x;++x)b.fillText(p[x],S+C*m[x],.5*d+x*y)}return a.get(r)},Pe.prototype.drawTextImage_=function(t,e,i){var n=this.textState_,r=this.textStrokeState_,a=this.pixelRatio,o=Ae.TEXT_ALIGN[n.textAlign||wt.a.defaultTextAlign],s=Ae.TEXT_ALIGN[n.textBaseline],l=r&&r.lineWidth?r.lineWidth:0,u=o*t.width/a+2*(.5-o)*l,h=s*t.height/a+2*(.5-s)*l;this.instructions.push([me.DRAW_IMAGE,e,i,t,(u-this.textOffsetX_)*a,(h-this.textOffsetY_)*a,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,!0,t.width]),this.hitDetectionInstructions.push([me.DRAW_IMAGE,e,i,t,(u-this.textOffsetX_)*a,(h-this.textOffsetY_)*a,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/a,!0,t.width])},Pe.prototype.drawChars_=function(t,e,i){var n=this.pixelRatio,r=this.textStrokeState_,a=!!this.textFillState_,o=!!r,s=this.textState_,l=Ae.TEXT_ALIGN[s.textBaseline],u=this.textOffsetY_*n,h=Ae.TEXT_ALIGN[s.textAlign||wt.a.defaultTextAlign],c=this.text_,f=s.font,d=s.scale,p=r?r.lineWidth*d/2:0,g=this.widths_;this.instructions.push([me.DRAW_CHARS,t,e,l,i,s.exceedLength,a,s.maxAngle,function(t){var e=g[t];return e||(e=g[t]=Pe.measureTextWidth(f,t)),e*d*n},u,o,p*n,c,h,1]),this.hitDetectionInstructions.push([me.DRAW_CHARS,t,e,l,i,s.exceedLength,a,s.maxAngle,function(t){var e=g[t];return e||(e=g[t]=Pe.measureTextWidth(f,t)),e*d},u,o,p,c,h,1/n])},Pe.prototype.setTextStyle=function(t,e){var i,r,a;if(t){this.declutterGroup_=e;var o=t.getFill();o?(r=this.textFillState_,r||(r=this.textFillState_={}),r.fillStyle=Ot.a.asColorLike(o.getColor()||wt.a.defaultFillStyle)):r=this.textFillState_=null;var s=t.getStroke();if(s){(a=this.textStrokeState_)||(a=this.textStrokeState_={});var l=s.getLineDash(),u=s.getLineDashOffset(),h=s.getWidth(),c=s.getMiterLimit();a.lineCap=s.getLineCap()||wt.a.defaultLineCap,a.lineDash=l?l.slice():wt.a.defaultLineDash,a.lineDashOffset=void 0===u?wt.a.defaultLineDashOffset:u,a.lineJoin=s.getLineJoin()||wt.a.defaultLineJoin,a.lineWidth=void 0===h?wt.a.defaultLineWidth:h,a.miterLimit=void 0===c?wt.a.defaultMiterLimit:c,a.strokeStyle=Ot.a.asColorLike(s.getColor()||wt.a.defaultStrokeStyle)}else a=this.textStrokeState_=null;i=this.textState_;var f=t.getFont()||wt.a.defaultFont;wt.a.checkFont(f);var d=t.getScale();i.exceedLength=t.getExceedLength(),i.font=f,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.textBaseline=t.getTextBaseline()||wt.a.defaultTextBaseline,i.scale=void 0===d?1:d;var p=t.getOffsetX(),g=t.getOffsetY(),m=t.getRotateWithView(),_=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===p?0:p,this.textOffsetY_=void 0===g?0:g,this.textRotateWithView_=void 0!==m&&m,this.textRotation_=void 0===_?0:_,this.strokeKey_=a?("string"==typeof a.strokeStyle?a.strokeStyle:n.a.getUid(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=i.font+(i.textAlign||"?")+i.scale,this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+n.a.getUid(r.fillStyle):""}else this.text_=""};var Le=Pe,Ne=function(t,e,i,n,r,a,o){oe.call(this),this.declutterTree_=a,this.declutterGroup_=null,this.tolerance_=t,this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=n,this.resolution_=i,this.renderBuffer_=o,this.replaysByZIndex_={},this.hitDetectionContext_=K.a.createCanvasContext2D(1,1),this.hitDetectionTransform_=ot.a.create()};n.a.inherits(Ne,oe),Ne.circleArrayCache_={0:[[!0]]},Ne.fillCircleArrayRowToMiddle_=function(t,e,i){var n,r=Math.floor(t.length/2);if(e<r){if(r>e)for(n=e+1;r>n;n++)t[n][i]=!0}else for(n=r;e>n;n++)t[n][i]=!0},Ne.getCircleArray_=function(t){if(void 0!==Ne.circleArrayCache_[t])return Ne.circleArrayCache_[t];for(var e=2*t+1,i=Array(e),n=0;e>n;n++)i[n]=Array(e);for(var r=t,a=0,o=0;r>=a;)Ne.fillCircleArrayRowToMiddle_(i,t+r,t+a),Ne.fillCircleArrayRowToMiddle_(i,t+a,t+r),Ne.fillCircleArrayRowToMiddle_(i,t-a,t+r),Ne.fillCircleArrayRowToMiddle_(i,t-r,t+a),Ne.fillCircleArrayRowToMiddle_(i,t-r,t-a),Ne.fillCircleArrayRowToMiddle_(i,t-a,t-r),Ne.fillCircleArrayRowToMiddle_(i,t+a,t-r),Ne.fillCircleArrayRowToMiddle_(i,t+r,t-a),a++,2*((o+=1+2*a)-r)+1>0&&(r-=1,o+=1-2*r);return Ne.circleArrayCache_[t]=i,i},Ne.replayDeclutter=function(t,e,i){for(var n=Object.keys(t).map(Number).sort(T.a.numberSafeCompareFunction),r=0,a=n.length;a>r;++r)for(var o=t[""+n[r]],s=0,l=o.length;l>s;){var u=o[s++],h=o[s++];u.replay(e,h,i,{})}},Ne.replayDeclutterHitDetection=function(t,e,i,n,r){for(var a=Object.keys(t).map(Number).sort(T.a.numberSafeCompareFunction),o=0,s=a.length;s>o;++o)for(var l=t[""+a[o]],u=l.length-1;u>=0;){var h=l[u--],c=l[u--],f=c.replayHitDetection(e,h,i,{},n,r);if(f)return f}},Ne.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_,e[4]++):(e=this.declutterGroup_=Z.default.createEmpty(),e.push(1))),e},Ne.prototype.clip=function(t,e){var i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()},Ne.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var i=this.replaysByZIndex_[e],n=0,r=t.length;r>n;++n)if(t[n]in i)return!0;return!1},Ne.prototype.finish=function(){var t;for(t in this.replaysByZIndex_){var e,i=this.replaysByZIndex_[t];for(e in i)i[e].finish()}},Ne.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r,a,o){function s(t){for(var e=h.getImageData(0,0,l,l).data,i=0;l>i;i++)for(var n=0;l>n;n++)if(f[i][n]&&e[4*(n*l+i)+3]>0){var r=a(t);return r||void h.clearRect(0,0,l,l)}}n=Math.round(n);var l=2*n+1,u=ot.a.compose(this.hitDetectionTransform_,n+.5,n+.5,1/e,-1/e,-i,-t[0],-t[1]),h=this.hitDetectionContext_;h.canvas.width!==l||h.canvas.height!==l?(h.canvas.width=l,h.canvas.height=l):h.clearRect(0,0,l,l);var c;void 0!==this.renderBuffer_&&(c=Z.default.createEmpty(),Z.default.extendCoordinate(c,t),Z.default.buffer(c,e*(this.renderBuffer_+n),c));var f=Ne.getCircleArray_(n),d=this.replayHitDetection_(h,u,i,r,s,c,o);return!d&&o&&(d=Ne.replayDeclutterHitDetection(o,h,i,s,c)),d},Ne.prototype.getClipCoords=function(t){var e=this.maxExtent_,i=e[0],n=e[1],r=e[2],a=e[3],o=[i,n,i,a,r,a,r,n];return Pt.a.transform2D(o,0,8,2,t,o),o},Ne.prototype.getReplay=function(t,e){var i=void 0!==t?""+t:"0",n=this.replaysByZIndex_[i];void 0===n&&(n={},this.replaysByZIndex_[i]=n);var r=n[e];return void 0===r&&(r=new(0,Ne.BATCH_CONSTRUCTORS_[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),n[e]=r),r},Ne.prototype.getReplays=function(){return this.replaysByZIndex_},Ne.prototype.isEmpty=function(){return W.a.isEmpty(this.replaysByZIndex_)},Ne.prototype.replay=function(t,e,i,n,r,a){var o=Object.keys(this.replaysByZIndex_).map(Number);o.sort(T.a.numberSafeCompareFunction),t.save(),this.clip(t,e);var s,l,u,h,c,f,d=r||Ae.ORDER;for(s=0,l=o.length;l>s;++s){var p=""+o[s];for(c=this.replaysByZIndex_[p],u=0,h=d.length;h>u;++u){var g=d[u];if(void 0!==(f=c[g]))if(!a||g!=le.IMAGE&&g!=le.TEXT)f.replay(t,e,i,n);else{var m=a[p];m?m.push(f,e.slice(0)):a[p]=[f,e.slice(0)]}}}t.restore()},Ne.prototype.replayHitDetection_=function(t,e,i,n,r,a,o){var s=Object.keys(this.replaysByZIndex_).map(Number);s.sort(T.a.numberSafeCompareFunction);var l,u,h,c,f;for(l=s.length-1;l>=0;--l){var d=""+s[l];for(h=this.replaysByZIndex_[d],u=Ae.ORDER.length-1;u>=0;--u){var p=Ae.ORDER[u];if(void 0!==(c=h[p]))if(!o||p!=le.IMAGE&&p!=le.TEXT){if(f=c.replayHitDetection(t,e,i,n,r,a))return f}else{var g=o[d];g?g.push(c,e.slice(0)):o[d]=[c,e.slice(0)]}}}},Ne.BATCH_CONSTRUCTORS_={Circle:Re,Default:ye,Image:Ee,LineString:xe,Polygon:Re,Text:Le};var Fe=Ne,De={};De.defaultOrder=function(t,e){return n.a.getUid(t)-n.a.getUid(e)},De.getSquaredTolerance=function(t,e){var i=De.getTolerance(t,e);return i*i},De.getTolerance=function(t,e){return n.a.SIMPLIFY_TOLERANCE*t/e},De.renderCircleGeometry_=function(t,e,i,n){var r=i.getFill(),a=i.getStroke();if(r||a){var o=t.getReplay(i.getZIndex(),le.CIRCLE);o.setFillStrokeStyle(r,a),o.drawCircle(e,n)}var s=i.getText();if(s){var l=t.getReplay(i.getZIndex(),le.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,n)}},De.renderFeature=function(t,e,i,n,r,a){var o,s,l=!1;return o=i.getImage(),o&&(s=o.getImageState(),s==kt.a.LOADED||s==kt.a.ERROR?o.unlistenImageChange(r,a):(s==kt.a.IDLE&&o.load(),s=o.getImageState(),o.listenImageChange(r,a),l=!0)),De.renderFeature_(t,e,i,n),l},De.renderFeature_=function(t,e,i,n){var r=i.getGeometryFunction()(e);if(r){var a=r.getSimplifiedGeometry(n);i.getRenderer()?De.renderGeometry_(t,a,i,e):(0,De.GEOMETRY_RENDERERS_[a.getType()])(t,a,i,e)}},De.renderGeometry_=function(t,e,i,n){if(e.getType()!=At.a.GEOMETRY_COLLECTION)t.getReplay(i.getZIndex(),le.DEFAULT).drawCustom(e,n,i.getRenderer());else for(var r=e.getGeometries(),a=0,o=r.length;o>a;++a)De.renderGeometry_(t,r[a],i,n)},De.renderGeometryCollectionGeometry_=function(t,e,i,n){var r,a,o=e.getGeometriesArray();for(r=0,a=o.length;a>r;++r)(0,De.GEOMETRY_RENDERERS_[o[r].getType()])(t,o[r],i,n)},De.renderLineStringGeometry_=function(t,e,i,n){var r=i.getStroke();if(r){var a=t.getReplay(i.getZIndex(),le.LINE_STRING);a.setFillStrokeStyle(null,r),a.drawLineString(e,n)}var o=i.getText();if(o){var s=t.getReplay(i.getZIndex(),le.TEXT);s.setTextStyle(o,t.addDeclutter(!1)),s.drawText(e,n)}},De.renderMultiLineStringGeometry_=function(t,e,i,n){var r=i.getStroke();if(r){var a=t.getReplay(i.getZIndex(),le.LINE_STRING);a.setFillStrokeStyle(null,r),a.drawMultiLineString(e,n)}var o=i.getText();if(o){var s=t.getReplay(i.getZIndex(),le.TEXT);s.setTextStyle(o,t.addDeclutter(!1)),s.drawText(e,n)}},De.renderMultiPolygonGeometry_=function(t,e,i,n){var r=i.getFill(),a=i.getStroke();if(a||r){var o=t.getReplay(i.getZIndex(),le.POLYGON);o.setFillStrokeStyle(r,a),o.drawMultiPolygon(e,n)}var s=i.getText();if(s){var l=t.getReplay(i.getZIndex(),le.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,n)}},De.renderPointGeometry_=function(t,e,i,n){var r=i.getImage();if(r){if(r.getImageState()!=kt.a.LOADED)return;var a=t.getReplay(i.getZIndex(),le.IMAGE);a.setImageStyle(r,t.addDeclutter(!1)),a.drawPoint(e,n)}var o=i.getText();if(o){var s=t.getReplay(i.getZIndex(),le.TEXT);s.setTextStyle(o,t.addDeclutter(!!r)),s.drawText(e,n)}},De.renderMultiPointGeometry_=function(t,e,i,n){var r=i.getImage();if(r){if(r.getImageState()!=kt.a.LOADED)return;var a=t.getReplay(i.getZIndex(),le.IMAGE);a.setImageStyle(r,t.addDeclutter(!1)),a.drawMultiPoint(e,n)}var o=i.getText();if(o){var s=t.getReplay(i.getZIndex(),le.TEXT);s.setTextStyle(o,t.addDeclutter(!!r)),s.drawText(e,n)}},De.renderPolygonGeometry_=function(t,e,i,n){var r=i.getFill(),a=i.getStroke();if(r||a){var o=t.getReplay(i.getZIndex(),le.POLYGON);o.setFillStrokeStyle(r,a),o.drawPolygon(e,n)}var s=i.getText();if(s){var l=t.getReplay(i.getZIndex(),le.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,n)}},De.GEOMETRY_RENDERERS_={Point:De.renderPointGeometry_,LineString:De.renderLineStringGeometry_,Polygon:De.renderPolygonGeometry_,MultiPoint:De.renderMultiPointGeometry_,MultiLineString:De.renderMultiLineStringGeometry_,MultiPolygon:De.renderMultiPolygonGeometry_,GeometryCollection:De.renderGeometryCollectionGeometry_,Circle:De.renderCircleGeometry_};var ke=De,Ge=function(t){zt.call(this,t),this.declutterTree_=t.getDeclutter()?re()(9):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Z.default.createEmpty(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.context_=K.a.createCanvasContext2D(),h.a.listen(wt.a.labelCache,U.a.CLEAR,this.handleFontsChanged_,this)};n.a.inherits(Ge,zt),Ge.handles=function(t,e){return t===rt.CANVAS&&e.getType()===Ct.a.VECTOR},Ge.create=function(t,e){return new Ge(e)},Ge.prototype.disposeInternal=function(){h.a.unlisten(wt.a.labelCache,U.a.CLEAR,this.handleFontsChanged_,this),zt.prototype.disposeInternal.call(this)},Ge.prototype.composeFrame=function(t,e,i){var n=t.extent,r=t.pixelRatio,a=e.managed?t.skippedFeatureUids:{},o=t.viewState,s=o.projection,l=o.rotation,u=s.getExtent(),h=this.getLayer().getSource(),c=this.getTransform(t,0);this.preCompose(i,t,c);var f=e.extent,d=void 0!==f;d&&this.clip(i,t,f);var p=this.replayGroup_;if(p&&!p.isEmpty()){var g,m=this.getLayer(),_=0,y=0,v=1!==e.opacity,E=m.hasListener(Mt.a.RENDER);if(v||E){var b=i.canvas.width,x=i.canvas.height;if(l){var C=Math.round(Math.sqrt(b*b+x*x));_=(C-b)/2,y=(C-x)/2,b=x=C}this.context_.canvas.width=b,this.context_.canvas.height=x,g=this.context_}else g=i;var S=g.globalAlpha;v||(g.globalAlpha=e.opacity),g!=i&&g.translate(_,y);var T=t.size[0]*r,R=t.size[1]*r;if(wt.a.rotateAtOffset(g,-l,T/2,R/2),p.replay(g,c,l,a),h.getWrapX()&&s.canWrapX()&&!Z.default.containsExtent(u,n)){for(var M,w=n[0],O=Z.default.getWidth(u),A=0;u[0]>w;)--A,M=O*A,c=this.getTransform(t,M),p.replay(g,c,l,a),w+=O;for(A=0,w=n[2];w>u[2];)++A,M=O*A,c=this.getTransform(t,M),p.replay(g,c,l,a),w-=O;c=this.getTransform(t,0)}if(wt.a.rotateAtOffset(g,l,T/2,R/2),g!=i){if(E&&this.dispatchRenderEvent(g,t,c),v){var I=i.globalAlpha;i.globalAlpha=e.opacity,i.drawImage(g.canvas,-_,-y),i.globalAlpha=I}else i.drawImage(g.canvas,-_,-y);g.translate(-_,-y)}v||(g.globalAlpha=S)}d&&i.restore(),this.declutterTree_&&this.declutterTree_.clear(),this.postCompose(i,t,e,c)},Ge.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,a){if(this.replayGroup_){var o=e.viewState.resolution,s=e.viewState.rotation,l=this.getLayer(),u={},h=l.getDeclutter()?{}:null,c=this.replayGroup_.forEachFeatureAtCoordinate(t,o,s,i,{},function(t){var e=""+n.a.getUid(t);if(!(e in u))return u[e]=!0,r.call(a,t,l)},h);return this.declutterTree_&&this.declutterTree_.clear(),c}},Ge.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},Ge.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},Ge.prototype.prepareFrame=function(t,e){var i=this.getLayer(),n=i.getSource();this.updateLogos(t,n);var r=t.viewHints[H.a.ANIMATING],a=t.viewHints[H.a.INTERACTING],o=i.getUpdateWhileAnimating(),s=i.getUpdateWhileInteracting();if(!this.dirty_&&!o&&r||!s&&a)return!0;var l=t.extent,u=t.viewState,h=u.projection,c=u.resolution,f=t.pixelRatio,d=i.getRevision(),p=i.getRenderBuffer(),g=i.getRenderOrder();void 0===g&&(g=ke.defaultOrder);var m=Z.default.buffer(l,p*c),_=u.projection.getExtent();if(n.getWrapX()&&u.projection.canWrapX()&&!Z.default.containsExtent(_,t.extent)){var y=Z.default.getWidth(_),v=Math.max(Z.default.getWidth(m)/2,y);m[0]=_[0]-v,m[2]=_[2]+v}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==d&&this.renderedRenderOrder_==g&&Z.default.containsExtent(this.renderedExtent_,m))return!0;this.replayGroup_=null,this.dirty_=!1;var E=new Fe(ke.getTolerance(c,f),m,c,f,n.getOverlaps(),this.declutterTree_,i.getRenderBuffer());n.loadFeatures(m,c,h);var b=function(t){var e,n=t.getStyleFunction();if(n?e=n.call(t,c):(n=i.getStyleFunction())&&(e=n(t,c)),e){var r=this.renderFeature(t,c,f,e,E);this.dirty_=this.dirty_||r}}.bind(this);if(g){var x=[];n.forEachFeatureInExtent(m,function(t){x.push(t)},this),x.sort(g);for(var C=0,S=x.length;S>C;++C)b(x[C])}else n.forEachFeatureInExtent(m,b,this);return E.finish(),this.renderedResolution_=c,this.renderedRevision_=d,this.renderedRenderOrder_=g,this.renderedExtent_=m,this.replayGroup_=E,!0},Ge.prototype.renderFeature=function(t,e,i,n,r){if(!n)return!1;var a=!1;if(Array.isArray(n))for(var o=0,s=n.length;s>o;++o)a=ke.renderFeature(r,t,n[o],ke.getSquaredTolerance(e,i),this.handleStyleImageChange_,this)||a;else a=ke.renderFeature(r,t,n,ke.getSquaredTolerance(e,i),this.handleStyleImageChange_,this);return a};var je=Ge,Ue=i("/eQR"),Be=i("yGLh"),We=i("Ae3H"),ze=function(t){this.context=null,ie.call(this,t),this.declutterTree_=t.getDeclutter()?re()(9):null,this.dirty_=!1,this.tmpTransform_=ot.a.create(),this.zDirection=t.getRenderMode()==Ue.a.VECTOR?1:0,h.a.listen(wt.a.labelCache,U.a.CLEAR,this.handleFontsChanged_,this)};n.a.inherits(ze,ie),ze.handles=function(t,e){return t===rt.CANVAS&&e.getType()===Ct.a.VECTOR_TILE},ze.create=function(t,e){return new ze(e)},ze.IMAGE_REPLAYS={image:[le.POLYGON,le.CIRCLE,le.LINE_STRING,le.IMAGE,le.TEXT],hybrid:[le.POLYGON,le.LINE_STRING]},ze.VECTOR_REPLAYS={image:[le.DEFAULT],hybrid:[le.IMAGE,le.TEXT,le.DEFAULT],vector:Ae.ORDER},ze.prototype.disposeInternal=function(){h.a.unlisten(wt.a.labelCache,U.a.CLEAR,this.handleFontsChanged_,this),ie.prototype.disposeInternal.call(this)},ze.prototype.prepareFrame=function(t,e){var i=this.getLayer(),n=i.getRevision();if(this.renderedLayerRevision_!=n){this.renderedTiles.length=0;var r=i.getRenderMode();this.context||r==Ue.a.VECTOR||(this.context=K.a.createCanvasContext2D()),this.context&&r==Ue.a.VECTOR&&(this.context=null)}return this.renderedLayerRevision_=n,ie.prototype.prepareFrame.apply(this,arguments)},ze.prototype.createReplayGroup_=function(t,e){var i=this.getLayer(),n=e.pixelRatio,r=e.viewState.projection,a=i.getRevision(),o=i.getRenderOrder()||null,s=t.getReplayState(i);if(s.dirty||s.renderedRevision!=a||s.renderedRenderOrder!=o){for(var l=i.getSource(),u=l.getTileGrid(),h=l.getTileGridForProjection(r),c=h.getResolution(t.tileCoord[0]),f=h.getTileCoordExtent(t.wrappedTileCoord),d={},p=0,g=t.tileKeys.length;g>p;++p){var m=t.getTile(t.tileKeys[p]);if(m.getState()!=j.a.ERROR){var _=m.tileCoord,y=u.getTileCoordExtent(_),v=Z.default.getIntersection(f,y),E=Z.default.equals(y,v)?null:Z.default.buffer(v,i.getRenderBuffer()*c),b=m.getProjection(),x=!1;Be.default.equivalent(r,b)||(x=!0,m.setProjection(r)),s.dirty=!1;var C=new Fe(0,v,c,n,l.getOverlaps(),this.declutterTree_,i.getRenderBuffer()),S=ke.getSquaredTolerance(c,n),T=function(t){var e,n=t.getStyleFunction();if(n?e=n.call(t,c):(n=i.getStyleFunction())&&(e=n(t,c)),e){var r=this.renderFeature(t,S,e,C);this.dirty_=this.dirty_||r,s.dirty=s.dirty||r}},R=m.getFeatures();o&&o!==s.renderedRenderOrder&&R.sort(o);for(var M,w=0,O=R.length;O>w;++w)M=R[w],x&&(b.getUnits()==We.a.TILE_PIXELS&&(b.setWorldExtent(y),b.setExtent(m.getExtent())),M.getGeometry().transform(b,r)),E&&!Z.default.intersects(E,M.getExtent())||T.call(this,M);C.finish();for(var A in C.getReplays())d[A]=!0;m.setReplayGroup(i,""+t.tileCoord,C)}}s.renderedRevision=a,s.renderedRenderOrder=o}},ze.prototype.drawTileImage=function(t,e,i,n,r,a,o,s,l){var u=t;this.createReplayGroup_(u,e),this.context&&(this.renderTileImage_(u,e,i),ie.prototype.drawTileImage.apply(this,arguments))},ze.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,a){var o=e.viewState.resolution,s=e.viewState.rotation;i=void 0==i?0:i;var l,u,h,c,f,d,p,g,m=this.getLayer(),_=m.getDeclutter()?{}:null,y={},v=this.renderedTiles,E=m.getSource(),b=E.getTileGridForProjection(e.viewState.projection);for(h=0,c=v.length;c>h;++h)if(d=v[h],p=d.wrappedTileCoord,g=b.getTileCoordExtent(p,this.tmpExtent),l=Z.default.buffer(g,i*o,l),Z.default.containsCoordinate(l,t))for(var x=0,C=d.tileKeys.length;C>x;++x){var S=d.getTile(d.tileKeys[x]);S.getState()!=j.a.ERROR&&(f=S.getReplayGroup(m,""+d.tileCoord),u=u||f.forEachFeatureAtCoordinate(t,o,s,i,{},function(t){var e=""+n.a.getUid(t);if(!(e in y))return y[e]=!0,r.call(a,t,m)},_))}return this.declutterTree_&&this.declutterTree_.clear(),u},ze.prototype.getReplayTransform_=function(t,e){var i=this.getLayer(),n=i.getSource(),r=n.getTileGrid(),a=t.tileCoord,o=r.getResolution(a[0]),s=e.viewState,l=e.pixelRatio,u=s.resolution/l,h=r.getTileCoordExtent(a,this.tmpExtent),c=s.center,f=Z.default.getTopLeft(h),d=e.size,p=Math.round(l*d[0]/2),g=Math.round(l*d[1]/2);return ot.a.compose(this.tmpTransform_,p,g,o/u,o/u,s.rotation,(f[0]-c[0])/o,(c[1]-f[1])/o)},ze.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},ze.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},ze.prototype.postCompose=function(t,e,i){var n=this.getLayer(),r=n.getDeclutter()?{}:null,a=n.getSource(),o=n.getRenderMode(),s=ze.VECTOR_REPLAYS[o],l=e.pixelRatio,u=e.viewState.rotation,h=e.size,c=Math.round(l*h[0]/2),f=Math.round(l*h[1]/2);wt.a.rotateAtOffset(t,-u,c,f);for(var d=this.renderedTiles,p=a.getTileGridForProjection(e.viewState.projection),g=[],m=[],_=d.length-1;_>=0;--_){var y=d[_];if(y.getState()!=j.a.ABORT)for(var v=y.tileCoord,E=p.getTileCoordExtent(v)[0]-p.getTileCoordExtent(y.wrappedTileCoord)[0],b=void 0,x=0,C=y.tileKeys.length;C>x;++x){var S=y.getTile(y.tileKeys[x]);if(S.getState()!=j.a.ERROR){var T=S.getReplayGroup(n,""+v);if(o==Ue.a.VECTOR||T.hasReplays(s)){b||(b=this.getTransform(e,E));var R=S.tileCoord[0],M=T.getClipCoords(b);t.save(),t.globalAlpha=i.opacity;for(var w=0,O=g.length;O>w;++w){var A=g[w];m[w]>R&&(t.beginPath(),t.moveTo(M[0],M[1]),t.lineTo(M[2],M[3]),t.lineTo(M[4],M[5]),t.lineTo(M[6],M[7]),t.moveTo(A[6],A[7]),t.lineTo(A[4],A[5]),t.lineTo(A[2],A[3]),t.lineTo(A[0],A[1]),t.clip())}T.replay(t,b,u,{},s,r),t.restore(),g.push(M),m.push(R)}}}}r&&(Fe.replayDeclutter(r,t,u),this.declutterTree_.clear()),ie.prototype.postCompose.apply(this,arguments)},ze.prototype.renderFeature=function(t,e,i,n){if(!i)return!1;var r=!1;if(Array.isArray(i))for(var a=0,o=i.length;o>a;++a)r=ke.renderFeature(n,t,i[a],e,this.handleStyleImageChange_,this)||r;else r=ke.renderFeature(n,t,i,e,this.handleStyleImageChange_,this);return r},ze.prototype.renderTileImage_=function(t,e,i){var n=this.getLayer(),r=t.getReplayState(n),a=n.getRevision(),o=ze.IMAGE_REPLAYS[n.getRenderMode()];if(o&&r.renderedTileRevision!==a){r.renderedTileRevision=a;var s=t.wrappedTileCoord,l=s[0],u=e.pixelRatio,h=n.getSource(),c=h.getTileGridForProjection(e.viewState.projection),f=c.getResolution(l),d=t.getContext(n),p=h.getTilePixelSize(l,u,e.viewState.projection);d.canvas.width=p[0],d.canvas.height=p[1];for(var g=c.getTileCoordExtent(s),m=0,_=t.tileKeys.length;_>m;++m){var y=t.getTile(t.tileKeys[m]);if(y.getState()!=j.a.ERROR){var v=u/f,E=ot.a.reset(this.tmpTransform_);ot.a.scale(E,v,-v),ot.a.translate(E,-g[0],-g[3]),y.getReplayGroup(n,""+t.tileCoord).replay(d,E,0,{},o)}}}};var Xe=ze,Ve=i("JouG"),Ye=function(t){this.source_=t};Ye.prototype.getType=function(){},Ye.prototype.getSource=function(){return this.source_},Ye.prototype.isAnimated=J.a.FALSE;var qe=Ye,He=function(t){qe.call(this,t)};n.a.inherits(He,qe),He.prototype.getType=function(){return Ve.a.FRAGMENT_SHADER};var Ke=He,Ze=function(t){qe.call(this,t)};n.a.inherits(Ze,qe),Ze.prototype.getType=function(){return Ve.a.VERTEX_SHADER};var Je=Ze,Qe={};Qe.fragment=new Ke(n.a.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n":"precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"),Qe.vertex=new Je(n.a.DEBUG_WEBGL?"varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n":"varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;//Until we get gl_VertexID in WebGL,we store an instruction.if(f==0.0){//Offsetting the edges of the triangle by lineWidth/2 is necessary,however//we should also leave some space for the antialiasing,thus we offset by lineWidth.offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}");var $e=Qe,ti=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_lineWidth=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_lineWidth":"k"),this.u_pixelRatio=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_pixelRatio":"l"),this.u_opacity=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_opacity":"m"),this.u_fillColor=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_fillColor":"n"),this.u_strokeColor=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_strokeColor":"o"),this.u_size=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_size":"p"),this.a_position=t.getAttribLocation(e,n.a.DEBUG_WEBGL?"a_position":"e"),this.a_instruction=t.getAttribLocation(e,n.a.DEBUG_WEBGL?"a_instruction":"f"),this.a_radius=t.getAttribLocation(e,n.a.DEBUG_WEBGL?"a_radius":"g")},ei=ti,ii={};ii.create=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},ii.fromTransform=function(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t};var ni=ii,ri=function(t,e){Nt.call(this),this.tolerance=t,this.maxExtent=e,this.origin=Z.default.getCenter(e),this.projectionMatrix_=ot.a.create(),this.offsetRotateMatrix_=ot.a.create(),this.offsetScaleMatrix_=ot.a.create(),this.tmpMat4_=ni.create(),this.indices=[],this.indicesBuffer=null,this.startIndices=[],this.startIndicesFeature=[],this.vertices=[],this.verticesBuffer=null,this.lineStringReplay=void 0};n.a.inherits(ri,Nt),ri.prototype.getDeleteResourcesFunction=function(t){},ri.prototype.finish=function(t){},ri.prototype.setUpProgram=function(t,e,i,n){},ri.prototype.shutDownProgram=function(t,e){},ri.prototype.drawReplay=function(t,e,i,n){},ri.prototype.drawHitDetectionReplayOneByOne=function(t,e,i,n,r){},ri.prototype.drawHitDetectionReplay=function(t,e,i,n,r,a){return r?this.drawHitDetectionReplayOneByOne(t,e,i,n,a):this.drawHitDetectionReplayAll(t,e,i,n)},ri.prototype.drawHitDetectionReplayAll=function(t,e,i,n){return t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawReplay(t,e,i,!0),n(null)||void 0},ri.prototype.replay=function(t,e,i,n,r,a,o,s,l,u,h){var c,f,d,p,g,m,_,y,v=t.getGL();this.lineStringReplay&&(c=v.isEnabled(v.STENCIL_TEST),f=v.getParameter(v.STENCIL_FUNC),d=v.getParameter(v.STENCIL_VALUE_MASK),p=v.getParameter(v.STENCIL_REF),g=v.getParameter(v.STENCIL_WRITEMASK),m=v.getParameter(v.STENCIL_FAIL),_=v.getParameter(v.STENCIL_PASS_DEPTH_PASS),y=v.getParameter(v.STENCIL_PASS_DEPTH_FAIL),v.enable(v.STENCIL_TEST),v.clear(v.STENCIL_BUFFER_BIT),v.stencilMask(255),v.stencilFunc(v.ALWAYS,1,255),v.stencilOp(v.KEEP,v.KEEP,v.REPLACE),this.lineStringReplay.replay(t,e,i,n,r,a,o,s,l,u,h),v.stencilMask(0),v.stencilFunc(v.NOTEQUAL,1,255)),t.bindBuffer(Ve.a.ARRAY_BUFFER,this.verticesBuffer),t.bindBuffer(Ve.a.ELEMENT_ARRAY_BUFFER,this.indicesBuffer);var E=this.setUpProgram(v,t,r,a),b=ot.a.reset(this.projectionMatrix_);ot.a.scale(b,2/(i*r[0]),2/(i*r[1])),ot.a.rotate(b,-n),ot.a.translate(b,-(e[0]-this.origin[0]),-(e[1]-this.origin[1]));var x=ot.a.reset(this.offsetScaleMatrix_);ot.a.scale(x,2/r[0],2/r[1]);var C=ot.a.reset(this.offsetRotateMatrix_);0!==n&&ot.a.rotate(C,-n),v.uniformMatrix4fv(E.u_projectionMatrix,!1,ni.fromTransform(this.tmpMat4_,b)),v.uniformMatrix4fv(E.u_offsetScaleMatrix,!1,ni.fromTransform(this.tmpMat4_,x)),v.uniformMatrix4fv(E.u_offsetRotateMatrix,!1,ni.fromTransform(this.tmpMat4_,C)),v.uniform1f(E.u_opacity,o);var S;return void 0===l?this.drawReplay(v,t,s,!1):S=this.drawHitDetectionReplay(v,t,s,l,u,h),this.shutDownProgram(v,E),this.lineStringReplay&&(c||v.disable(v.STENCIL_TEST),v.clear(v.STENCIL_BUFFER_BIT),v.stencilFunc(f,p,d),v.stencilMask(g),v.stencilOp(m,y,_)),S},ri.prototype.drawElements=function(t,e,i,n){t.drawElements(Ve.a.TRIANGLES,n-i,e.hasOESElementIndexUint?Ve.a.UNSIGNED_INT:Ve.a.UNSIGNED_SHORT,i*(e.hasOESElementIndexUint?4:2))};var ai=ri,oi={};oi.defaultFont="10px sans-serif",oi.defaultFillStyle=[0,0,0,1],oi.defaultLineCap="round",oi.defaultLineDash=[],oi.defaultLineDashOffset=0,oi.defaultLineJoin="round",oi.defaultMiterLimit=10,oi.defaultStrokeStyle=[0,0,0,1],oi.defaultTextAlign=.5,oi.defaultTextBaseline=.5,oi.defaultLineWidth=1,oi.triangleIsCounterClockwise=function(t,e,i,n,r,a){var o=(i-t)*(a-e)-(r-t)*(n-e);return o>oi.EPSILON||-oi.EPSILON>o?o>0:void 0},oi.EPSILON=Number.EPSILON||2.220446049250313e-16;var si=oi,li=function(t,e){this.arr_=void 0!==t?t:[],this.usage_=void 0!==e?e:li.Usage_.STATIC_DRAW};li.prototype.getArray=function(){return this.arr_},li.prototype.getUsage=function(){return this.usage_},li.Usage_={STATIC_DRAW:Ve.a.STATIC_DRAW,STREAM_DRAW:Ve.a.STREAM_DRAW,DYNAMIC_DRAW:Ve.a.DYNAMIC_DRAW};var ui=li,hi=function(t,e){ai.call(this,t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.radius_=0,this.state_={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,changed:!1}};n.a.inherits(hi,ai),hi.prototype.drawCoordinates_=function(t,e,i,n){var r,a,o=this.vertices.length,s=this.indices.length,l=o/4;for(r=e,a=i;a>r;r+=n)this.vertices[o++]=t[r],this.vertices[o++]=t[r+1],this.vertices[o++]=0,this.vertices[o++]=this.radius_,this.vertices[o++]=t[r],this.vertices[o++]=t[r+1],this.vertices[o++]=1,this.vertices[o++]=this.radius_,this.vertices[o++]=t[r],this.vertices[o++]=t[r+1],this.vertices[o++]=2,this.vertices[o++]=this.radius_,this.vertices[o++]=t[r],this.vertices[o++]=t[r+1],this.vertices[o++]=3,this.vertices[o++]=this.radius_,this.indices[s++]=l,this.indices[s++]=l+1,this.indices[s++]=l+2,this.indices[s++]=l+2,this.indices[s++]=l+3,this.indices[s++]=l,l+=4},hi.prototype.drawCircle=function(t,e){var i=t.getRadius(),n=t.getStride();if(i){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.radius_=i;var r=t.getFlatCoordinates();r=Pt.a.translate(r,0,2,n,-this.origin[0],-this.origin[1]),this.drawCoordinates_(r,0,2,n)}else if(this.state_.changed&&(this.styles_.pop(),this.styles_.length)){var a=this.styles_[this.styles_.length-1];this.state_.fillColor=a[0],this.state_.strokeColor=a[1],this.state_.lineWidth=a[2],this.state_.changed=!1}},hi.prototype.finish=function(t){this.verticesBuffer=new ui(this.vertices),this.indicesBuffer=new ui(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},hi.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,i=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(i)}},hi.prototype.setUpProgram=function(t,e,i,n){var r,a;r=$e.fragment,a=$e.vertex;var o,s=e.getProgram(r,a);return this.defaultLocations_?o=this.defaultLocations_:(o=new ei(t,s),this.defaultLocations_=o),e.useProgram(s),t.enableVertexAttribArray(o.a_position),t.vertexAttribPointer(o.a_position,2,Ve.a.FLOAT,!1,16,0),t.enableVertexAttribArray(o.a_instruction),t.vertexAttribPointer(o.a_instruction,1,Ve.a.FLOAT,!1,16,8),t.enableVertexAttribArray(o.a_radius),t.vertexAttribPointer(o.a_radius,1,Ve.a.FLOAT,!1,16,12),t.uniform2fv(o.u_size,i),t.uniform1f(o.u_pixelRatio,n),o},hi.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_instruction),t.disableVertexAttribArray(e.a_radius)},hi.prototype.drawReplay=function(t,e,i,n){if(W.a.isEmpty(i)){var r,a,o,s;for(o=this.startIndices[this.startIndices.length-1],r=this.styleIndices_.length-1;r>=0;--r)a=this.styleIndices_[r],s=this.styles_[r],this.setFillStyle_(t,s[0]),this.setStrokeStyle_(t,s[1],s[2]),this.drawElements(t,e,a,o),o=a}else this.drawReplaySkipping_(t,e,i)},hi.prototype.drawHitDetectionReplayOneByOne=function(t,e,i,r,a){var o,s,l,u,h,c,f,d;for(d=this.startIndices.length-2,l=this.startIndices[d+1],o=this.styleIndices_.length-1;o>=0;--o)for(u=this.styles_[o],this.setFillStyle_(t,u[0]),this.setStrokeStyle_(t,u[1],u[2]),h=this.styleIndices_[o];d>=0&&this.startIndices[d]>=h;){if(s=this.startIndices[d],c=this.startIndicesFeature[d],f=""+n.a.getUid(c),void 0===i[f]&&c.getGeometry()&&(void 0===a||Z.default.intersects(a,c.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,s,l);var p=r(c);if(p)return p}d--,l=s}},hi.prototype.drawReplaySkipping_=function(t,e,i){var r,a,o,s,l,u,h,c,f;for(c=this.startIndices.length-2,o=a=this.startIndices[c+1],r=this.styleIndices_.length-1;r>=0;--r){for(s=this.styles_[r],this.setFillStyle_(t,s[0]),this.setStrokeStyle_(t,s[1],s[2]),l=this.styleIndices_[r];c>=0&&this.startIndices[c]>=l;)f=this.startIndices[c],u=this.startIndicesFeature[c],h=""+n.a.getUid(u),i[h]&&(a!==o&&this.drawElements(t,e,a,o),o=f),c--,a=f;a!==o&&this.drawElements(t,e,a,o),a=o=l}},hi.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_fillColor,e)},hi.prototype.setStrokeStyle_=function(t,e,i){t.uniform4fv(this.defaultLocations_.u_strokeColor,e),t.uniform1f(this.defaultLocations_.u_lineWidth,i)},hi.prototype.setFillStrokeStyle=function(t,e){var i,n;if(e){var r=e.getLineDash();this.state_.lineDash=r||si.defaultLineDash;var a=e.getLineDashOffset();this.state_.lineDashOffset=a||si.defaultLineDashOffset,i=e.getColor(),i=i instanceof CanvasGradient||i instanceof CanvasPattern?si.defaultStrokeStyle:Ce.a.asArray(i).map(function(t,e){return 3!=e?t/255:t})||si.defaultStrokeStyle,n=e.getWidth(),n=void 0!==n?n:si.defaultLineWidth}else i=[0,0,0,0],n=0;var o=t?t.getColor():[0,0,0,0];o=o instanceof CanvasGradient||o instanceof CanvasPattern?si.defaultFillStyle:Ce.a.asArray(o).map(function(t,e){return 3!=e?t/255:t})||si.defaultFillStyle,this.state_.strokeColor&&T.a.equals(this.state_.strokeColor,i)&&this.state_.fillColor&&T.a.equals(this.state_.fillColor,o)&&this.state_.lineWidth===n||(this.state_.changed=!0,this.state_.fillColor=o,this.state_.strokeColor=i,this.state_.lineWidth=n,this.styles_.push([o,i,n]))};var ci=hi,fi={};fi.fragment=new Ke(n.a.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),fi.vertex=new Je(n.a.DEBUG_WEBGL?"varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n":"varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}");var di=fi,pi=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_opacity=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_opacity":"k"),this.u_image=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_image":"l"),this.a_position=t.getAttribLocation(e,n.a.DEBUG_WEBGL?"a_position":"c"),this.a_texCoord=t.getAttribLocation(e,n.a.DEBUG_WEBGL?"a_texCoord":"d"),this.a_offsets=t.getAttribLocation(e,n.a.DEBUG_WEBGL?"a_offsets":"e"),this.a_opacity=t.getAttribLocation(e,n.a.DEBUG_WEBGL?"a_opacity":"f"),this.a_rotateWithView=t.getAttribLocation(e,n.a.DEBUG_WEBGL?"a_rotateWithView":"g")},gi=pi,mi={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"},_i=mi,yi=function(t,e){this.canvas_=t,this.gl_=e,this.bufferCache_={},this.shaderCache_={},this.programCache_={},this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null,this.hasOESElementIndexUint=T.a.includes(n.a.WEBGL_EXTENSIONS,"OES_element_index_uint"),this.hasOESElementIndexUint&&e.getExtension("OES_element_index_uint"),h.a.listen(this.canvas_,_i.LOST,this.handleWebGLContextLost,this),h.a.listen(this.canvas_,_i.RESTORED,this.handleWebGLContextRestored,this)};n.a.inherits(yi,Ht.a),yi.prototype.bindBuffer=function(t,e){var i=this.getGL(),r=e.getArray(),a=n.a.getUid(e)+"";if(a in this.bufferCache_)i.bindBuffer(t,this.bufferCache_[a].buffer);else{var o=i.createBuffer();i.bindBuffer(t,o);var s;t==Ve.a.ARRAY_BUFFER?s=new Float32Array(r):t==Ve.a.ELEMENT_ARRAY_BUFFER&&(s=this.hasOESElementIndexUint?new Uint32Array(r):new Uint16Array(r)),i.bufferData(t,s,e.getUsage()),this.bufferCache_[a]={buf:e,buffer:o}}},yi.prototype.deleteBuffer=function(t){var e=this.getGL(),i=n.a.getUid(t)+"",r=this.bufferCache_[i];e.isContextLost()||e.deleteBuffer(r.buffer),delete this.bufferCache_[i]},yi.prototype.disposeInternal=function(){h.a.unlistenAll(this.canvas_);var t=this.getGL();if(!t.isContextLost()){var e;for(e in this.bufferCache_)t.deleteBuffer(this.bufferCache_[e].buffer);for(e in this.programCache_)t.deleteProgram(this.programCache_[e]);for(e in this.shaderCache_)t.deleteShader(this.shaderCache_[e]);t.deleteFramebuffer(this.hitDetectionFramebuffer_),t.deleteRenderbuffer(this.hitDetectionRenderbuffer_),t.deleteTexture(this.hitDetectionTexture_)}},yi.prototype.getCanvas=function(){return this.canvas_},yi.prototype.getGL=function(){return this.gl_},yi.prototype.getHitDetectionFramebuffer=function(){return this.hitDetectionFramebuffer_||this.initHitDetectionFramebuffer_(),this.hitDetectionFramebuffer_},yi.prototype.getShader=function(t){var e=n.a.getUid(t)+"";if(e in this.shaderCache_)return this.shaderCache_[e];var i=this.getGL(),r=i.createShader(t.getType());return i.shaderSource(r,t.getSource()),i.compileShader(r),this.shaderCache_[e]=r,r},yi.prototype.getProgram=function(t,e){var i=n.a.getUid(t)+"/"+n.a.getUid(e);if(i in this.programCache_)return this.programCache_[i];var r=this.getGL(),a=r.createProgram();return r.attachShader(a,this.getShader(t)),r.attachShader(a,this.getShader(e)),r.linkProgram(a),this.programCache_[i]=a,a},yi.prototype.handleWebGLContextLost=function(){W.a.clear(this.bufferCache_),W.a.clear(this.shaderCache_),W.a.clear(this.programCache_),this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null},yi.prototype.handleWebGLContextRestored=function(){},yi.prototype.initHitDetectionFramebuffer_=function(){var t=this.gl_,e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var i=yi.createEmptyTexture(t,1,1),n=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,n),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,1,1),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,n),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),this.hitDetectionFramebuffer_=e,this.hitDetectionTexture_=i,this.hitDetectionRenderbuffer_=n},yi.prototype.useProgram=function(t){return t!=this.currentProgram_&&(this.getGL().useProgram(t),this.currentProgram_=t,!0)},yi.createTexture_=function(t,e,i){var n=t.createTexture();return t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(Ve.a.TEXTURE_2D,Ve.a.TEXTURE_WRAP_S,e),void 0!==i&&t.texParameteri(Ve.a.TEXTURE_2D,Ve.a.TEXTURE_WRAP_T,i),n},yi.createEmptyTexture=function(t,e,i,n,r){var a=yi.createTexture_(t,n,r);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,i,0,t.RGBA,t.UNSIGNED_BYTE,null),a},yi.createTexture=function(t,e,i,n){var r=yi.createTexture_(t,i,n);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),r};var vi=yi,Ei=function(t,e){ai.call(this,t,e),this.anchorX=void 0,this.anchorY=void 0,this.groupIndices=[],this.hitDetectionGroupIndices=[],this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.defaultLocations=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.width=void 0};n.a.inherits(Ei,ai),Ei.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,i=this.indicesBuffer,n=this.getTextures(!0),r=t.getGL();return function(){if(!r.isContextLost()){var a,o;for(a=0,o=n.length;o>a;++a)r.deleteTexture(n[a])}t.deleteBuffer(e),t.deleteBuffer(i)}},Ei.prototype.drawCoordinates=function(t,e,i,n){var r,a,o,s,l,u,h=this.anchorX,c=this.anchorY,f=this.height,d=this.imageHeight,p=this.imageWidth,g=this.opacity,m=this.originX,_=this.originY,y=this.rotateWithView?1:0,v=-this.rotation,E=this.scale,b=this.width,x=Math.cos(v),C=Math.sin(v),S=this.indices.length,T=this.vertices.length;for(r=e;i>r;r+=n)l=t[r]-this.origin[0],u=t[r+1]-this.origin[1],a=T/8,o=-E*h,s=-E*(f-c),this.vertices[T++]=l,this.vertices[T++]=u,this.vertices[T++]=o*x-s*C,this.vertices[T++]=o*C+s*x,this.vertices[T++]=m/p,this.vertices[T++]=(_+f)/d,this.vertices[T++]=g,this.vertices[T++]=y,o=E*(b-h),s=-E*(f-c),this.vertices[T++]=l,this.vertices[T++]=u,this.vertices[T++]=o*x-s*C,this.vertices[T++]=o*C+s*x,this.vertices[T++]=(m+b)/p,this.vertices[T++]=(_+f)/d,this.vertices[T++]=g,this.vertices[T++]=y,o=E*(b-h),s=E*c,this.vertices[T++]=l,this.vertices[T++]=u,this.vertices[T++]=o*x-s*C,this.vertices[T++]=o*C+s*x,this.vertices[T++]=(m+b)/p,this.vertices[T++]=_/d,this.vertices[T++]=g,this.vertices[T++]=y,o=-E*h,s=E*c,this.vertices[T++]=l,this.vertices[T++]=u,this.vertices[T++]=o*x-s*C,this.vertices[T++]=o*C+s*x,this.vertices[T++]=m/p,this.vertices[T++]=_/d,this.vertices[T++]=g,this.vertices[T++]=y,this.indices[S++]=a,this.indices[S++]=a+1,this.indices[S++]=a+2,this.indices[S++]=a,this.indices[S++]=a+2,this.indices[S++]=a+3;return T},Ei.prototype.createTextures=function(t,e,i,r){var a,o,s,l,u=e.length;for(l=0;u>l;++l)o=e[l],s=""+n.a.getUid(o),s in i?a=i[s]:(a=vi.createTexture(r,o,Ve.a.CLAMP_TO_EDGE,Ve.a.CLAMP_TO_EDGE),i[s]=a),t[l]=a},Ei.prototype.setUpProgram=function(t,e,i,n){var r,a=di.fragment,o=di.vertex,s=e.getProgram(a,o);return this.defaultLocations?r=this.defaultLocations:(r=new gi(t,s),this.defaultLocations=r),e.useProgram(s),t.enableVertexAttribArray(r.a_position),t.vertexAttribPointer(r.a_position,2,Ve.a.FLOAT,!1,32,0),t.enableVertexAttribArray(r.a_offsets),t.vertexAttribPointer(r.a_offsets,2,Ve.a.FLOAT,!1,32,8),t.enableVertexAttribArray(r.a_texCoord),t.vertexAttribPointer(r.a_texCoord,2,Ve.a.FLOAT,!1,32,16),t.enableVertexAttribArray(r.a_opacity),t.vertexAttribPointer(r.a_opacity,1,Ve.a.FLOAT,!1,32,24),t.enableVertexAttribArray(r.a_rotateWithView),t.vertexAttribPointer(r.a_rotateWithView,1,Ve.a.FLOAT,!1,32,28),r},Ei.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_offsets),t.disableVertexAttribArray(e.a_texCoord),t.disableVertexAttribArray(e.a_opacity),t.disableVertexAttribArray(e.a_rotateWithView)},Ei.prototype.drawReplay=function(t,e,i,n){var r=n?this.getHitDetectionTextures():this.getTextures(),a=n?this.hitDetectionGroupIndices:this.groupIndices;if(W.a.isEmpty(i)){var o,s,l;for(o=0,s=r.length,l=0;s>o;++o){t.bindTexture(Ve.a.TEXTURE_2D,r[o]);var u=a[o];this.drawElements(t,e,l,u),l=u}}else this.drawReplaySkipping(t,e,i,r,a)},Ei.prototype.drawReplaySkipping=function(t,e,i,r,a){var o,s,l=0;for(o=0,s=r.length;s>o;++o){t.bindTexture(Ve.a.TEXTURE_2D,r[o]);for(var u=o>0?a[o-1]:0,h=a[o],c=u,f=u;this.startIndices.length>l&&h>=this.startIndices[l];)void 0!==i[""+n.a.getUid(this.startIndicesFeature[l])]?(c!==f&&this.drawElements(t,e,c,f),c=l===this.startIndices.length-1?h:this.startIndices[l+1],f=c):f=l===this.startIndices.length-1?h:this.startIndices[l+1],l++;c!==f&&this.drawElements(t,e,c,f)}},Ei.prototype.drawHitDetectionReplayOneByOne=function(t,e,i,r,a){var o,s,l,u,h,c,f=this.startIndices.length-1,d=this.getHitDetectionTextures();for(o=d.length-1;o>=0;--o)for(t.bindTexture(Ve.a.TEXTURE_2D,d[o]),s=o>0?this.hitDetectionGroupIndices[o-1]:0,u=this.hitDetectionGroupIndices[o];f>=0&&this.startIndices[f]>=s;){if(l=this.startIndices[f],h=this.startIndicesFeature[f],c=""+n.a.getUid(h),void 0===i[c]&&h.getGeometry()&&(void 0===a||Z.default.intersects(a,h.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,l,u);var p=r(h);if(p)return p}u=l,f--}},Ei.prototype.finish=function(t){this.anchorX=void 0,this.anchorY=void 0,this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.indices=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.vertices=null,this.width=void 0},Ei.prototype.getTextures=function(t){},Ei.prototype.getHitDetectionTextures=function(){};var bi=Ei,xi=function(t,e){bi.call(this,t,e),this.images_=[],this.hitDetectionImages_=[],this.textures_=[],this.hitDetectionTextures_=[]};n.a.inherits(xi,bi),xi.prototype.drawMultiPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var i=t.getFlatCoordinates();this.drawCoordinates(i,0,i.length,t.getStride())},xi.prototype.drawPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var i=t.getFlatCoordinates();this.drawCoordinates(i,0,i.length,t.getStride())},xi.prototype.finish=function(t){var e=t.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices.push(this.indices.length),this.verticesBuffer=new ui(this.vertices),this.indicesBuffer=new ui(this.indices);var i={};this.createTextures(this.textures_,this.images_,i,e),this.createTextures(this.hitDetectionTextures_,this.hitDetectionImages_,i,e),this.images_=null,this.hitDetectionImages_=null,bi.prototype.finish.call(this,t)},xi.prototype.setImageStyle=function(t){var e,i=t.getAnchor(),r=t.getImage(1),a=t.getImageSize(),o=t.getHitDetectionImage(1),s=t.getOpacity(),l=t.getOrigin(),u=t.getRotateWithView(),h=t.getRotation(),c=t.getSize(),f=t.getScale();0===this.images_.length?this.images_.push(r):(e=this.images_[this.images_.length-1],n.a.getUid(e)!=n.a.getUid(r)&&(this.groupIndices.push(this.indices.length),this.images_.push(r))),0===this.hitDetectionImages_.length?this.hitDetectionImages_.push(o):(e=this.hitDetectionImages_[this.hitDetectionImages_.length-1],n.a.getUid(e)!=n.a.getUid(o)&&(this.hitDetectionGroupIndices.push(this.indices.length),this.hitDetectionImages_.push(o))),this.anchorX=i[0],this.anchorY=i[1],this.height=c[1],this.imageHeight=a[1],this.imageWidth=a[0],this.opacity=s,this.originX=l[0],this.originY=l[1],this.rotation=h,this.rotateWithView=u,this.scale=f,this.width=c[0]},xi.prototype.getTextures=function(t){return t?this.textures_.concat(this.hitDetectionTextures_):this.textures_},xi.prototype.getHitDetectionTextures=function(){return this.hitDetectionTextures_};var Ci=xi,Si=i("piqq"),Ti=i("+b92"),Ri={};Ri.lineStringIsClosed=function(t,e,i,n){var r=i-n;return t[e]===t[r]&&t[e+1]===t[r+1]&&(i-e)/n>3&&!!Ti.a.linearRing(t,e,i,n)};var Mi=Ri,wi={};wi.fragment=new Ke(n.a.DEBUG_WEBGL?"precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),wi.vertex=new Je(n.a.DEBUG_WEBGL?"varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n":"varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}");var Oi=wi,Ai=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_lineWidth=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_lineWidth":"k"),this.u_miterLimit=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_miterLimit":"l"),this.u_opacity=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_opacity":"m"),this.u_color=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_color":"n"),this.u_size=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_size":"o"),this.u_pixelRatio=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_pixelRatio":"p"),this.a_lastPos=t.getAttribLocation(e,n.a.DEBUG_WEBGL?"a_lastPos":"d"),this.a_position=t.getAttribLocation(e,n.a.DEBUG_WEBGL?"a_position":"e"),this.a_nextPos=t.getAttribLocation(e,n.a.DEBUG_WEBGL?"a_nextPos":"f"),this.a_direction=t.getAttribLocation(e,n.a.DEBUG_WEBGL?"a_direction":"g")},Ii=Ai,Pi=function(t,e){ai.call(this,t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,changed:!1}};n.a.inherits(Pi,ai),Pi.prototype.drawCoordinates_=function(t,e,i,n){var r,a,o,s,l,u,h,c,f=this.vertices.length,d=this.indices.length,p="bevel"===this.state_.lineJoin?0:"miter"===this.state_.lineJoin?1:2,g="butt"===this.state_.lineCap?0:"square"===this.state_.lineCap?1:2,m=Mi.lineStringIsClosed(t,e,i,n),_=d,y=1;for(r=e,a=i;a>r;r+=n){if(l=f/7,u=h,h=c||[t[r],t[r+1]],r===e){if(c=[t[r+n],t[r+n+1]],i-e==2*n&&T.a.equals(h,c))break;if(!m){g&&(f=this.addVertices_([0,0],h,c,y*Pi.Instruction_.BEGIN_LINE_CAP*g,f),f=this.addVertices_([0,0],h,c,-y*Pi.Instruction_.BEGIN_LINE_CAP*g,f),this.indices[d++]=l+2,this.indices[d++]=l,this.indices[d++]=l+1,this.indices[d++]=l+1,this.indices[d++]=l+3,this.indices[d++]=l+2),f=this.addVertices_([0,0],h,c,y*Pi.Instruction_.BEGIN_LINE*(g||1),f),f=this.addVertices_([0,0],h,c,-y*Pi.Instruction_.BEGIN_LINE*(g||1),f),_=f/7-1;continue}u=[t[i-2*n],t[i-2*n+1]],o=c}else{if(r===i-n){if(m){c=o;break}u=u||[0,0],f=this.addVertices_(u,h,[0,0],y*Pi.Instruction_.END_LINE*(g||1),f),f=this.addVertices_(u,h,[0,0],-y*Pi.Instruction_.END_LINE*(g||1),f),this.indices[d++]=l,this.indices[d++]=_-1,this.indices[d++]=_,this.indices[d++]=_,this.indices[d++]=l+1,this.indices[d++]=l,g&&(f=this.addVertices_(u,h,[0,0],y*Pi.Instruction_.END_LINE_CAP*g,f),f=this.addVertices_(u,h,[0,0],-y*Pi.Instruction_.END_LINE_CAP*g,f),this.indices[d++]=l+2,this.indices[d++]=l,this.indices[d++]=l+1,this.indices[d++]=l+1,this.indices[d++]=l+3,this.indices[d++]=l+2);break}c=[t[r+n],t[r+n+1]]}s=si.triangleIsCounterClockwise(u[0],u[1],h[0],h[1],c[0],c[1])?-1:1,f=this.addVertices_(u,h,c,s*Pi.Instruction_.BEVEL_FIRST*(p||1),f),f=this.addVertices_(u,h,c,s*Pi.Instruction_.BEVEL_SECOND*(p||1),f),f=this.addVertices_(u,h,c,-s*Pi.Instruction_.MITER_BOTTOM*(p||1),f),r>e&&(this.indices[d++]=l,this.indices[d++]=_-1,this.indices[d++]=_,this.indices[d++]=l+2,this.indices[d++]=l,this.indices[d++]=y*s>0?_:_-1),this.indices[d++]=l,this.indices[d++]=l+2,this.indices[d++]=l+1,_=l+2,y=s,p&&(f=this.addVertices_(u,h,c,s*Pi.Instruction_.MITER_TOP*p,f),this.indices[d++]=l+1,this.indices[d++]=l+3,this.indices[d++]=l)}m&&(l=l||f/7,s=Si.a.linearRingIsClockwise([u[0],u[1],h[0],h[1],c[0],c[1]],0,6,2)?1:-1,f=this.addVertices_(u,h,c,s*Pi.Instruction_.BEVEL_FIRST*(p||1),f),f=this.addVertices_(u,h,c,-s*Pi.Instruction_.MITER_BOTTOM*(p||1),f),this.indices[d++]=l,this.indices[d++]=_-1,this.indices[d++]=_,this.indices[d++]=l+1,this.indices[d++]=l,this.indices[d++]=y*s>0?_:_-1)},Pi.prototype.addVertices_=function(t,e,i,n,r){return this.vertices[r++]=t[0],this.vertices[r++]=t[1],this.vertices[r++]=e[0],this.vertices[r++]=e[1],this.vertices[r++]=i[0],this.vertices[r++]=i[1],this.vertices[r++]=n,r},Pi.prototype.isValid_=function(t,e,i,n){var r=i-e;return!(2*n>r)&&(r!==2*n||!T.a.equals([t[e],t[e+1]],[t[e+n],t[e+n+1]]))},Pi.prototype.drawLineString=function(t,e){var i=t.getFlatCoordinates(),n=t.getStride();this.isValid_(i,0,i.length,n)&&(i=Pt.a.translate(i,0,i.length,n,-this.origin[0],-this.origin[1]),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.drawCoordinates_(i,0,i.length,n))},Pi.prototype.drawMultiLineString=function(t,e){var i=this.indices.length,n=t.getEnds();n.unshift(0);var r,a,o=t.getFlatCoordinates(),s=t.getStride();if(n.length>1)for(r=1,a=n.length;a>r;++r)if(this.isValid_(o,n[r-1],n[r],s)){var l=Pt.a.translate(o,n[r-1],n[r],s,-this.origin[0],-this.origin[1]);this.drawCoordinates_(l,0,l.length,s)}this.indices.length>i&&(this.startIndices.push(i),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(i),this.state_.changed=!1))},Pi.prototype.drawPolygonCoordinates=function(t,e,i){if(Mi.lineStringIsClosed(t,0,t.length,i)||(t.push(t[0]),t.push(t[1])),this.drawCoordinates_(t,0,t.length,i),e.length){var n,r;for(n=0,r=e.length;r>n;++n)Mi.lineStringIsClosed(e[n],0,e[n].length,i)||(e[n].push(e[n][0]),e[n].push(e[n][1])),this.drawCoordinates_(e[n],0,e[n].length,i)}},Pi.prototype.setPolygonStyle=function(t,e){var i=void 0===e?this.indices.length:e;this.startIndices.push(i),this.startIndicesFeature.push(t),this.state_.changed&&(this.styleIndices_.push(i),this.state_.changed=!1)},Pi.prototype.getCurrentIndex=function(){return this.indices.length},Pi.prototype.finish=function(t){this.verticesBuffer=new ui(this.vertices),this.indicesBuffer=new ui(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},Pi.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,i=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(i)}},Pi.prototype.setUpProgram=function(t,e,i,n){var r,a;r=Oi.fragment,a=Oi.vertex;var o,s=e.getProgram(r,a);return this.defaultLocations_?o=this.defaultLocations_:(o=new Ii(t,s),this.defaultLocations_=o),e.useProgram(s),t.enableVertexAttribArray(o.a_lastPos),t.vertexAttribPointer(o.a_lastPos,2,Ve.a.FLOAT,!1,28,0),t.enableVertexAttribArray(o.a_position),t.vertexAttribPointer(o.a_position,2,Ve.a.FLOAT,!1,28,8),t.enableVertexAttribArray(o.a_nextPos),t.vertexAttribPointer(o.a_nextPos,2,Ve.a.FLOAT,!1,28,16),t.enableVertexAttribArray(o.a_direction),t.vertexAttribPointer(o.a_direction,1,Ve.a.FLOAT,!1,28,24),t.uniform2fv(o.u_size,i),t.uniform1f(o.u_pixelRatio,n),o},Pi.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_lastPos),t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_nextPos),t.disableVertexAttribArray(e.a_direction)},Pi.prototype.drawReplay=function(t,e,i,n){var r=t.getParameter(t.DEPTH_FUNC),a=t.getParameter(t.DEPTH_WRITEMASK);if(n||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),W.a.isEmpty(i)){var o,s,l,u;for(l=this.startIndices[this.startIndices.length-1],o=this.styleIndices_.length-1;o>=0;--o)s=this.styleIndices_[o],u=this.styles_[o],this.setStrokeStyle_(t,u[0],u[1],u[2]),this.drawElements(t,e,s,l),t.clear(t.DEPTH_BUFFER_BIT),l=s}else this.drawReplaySkipping_(t,e,i);n||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(a),t.depthFunc(r))},Pi.prototype.drawReplaySkipping_=function(t,e,i){var r,a,o,s,l,u,h,c,f;for(c=this.startIndices.length-2,o=a=this.startIndices[c+1],r=this.styleIndices_.length-1;r>=0;--r){for(s=this.styles_[r],this.setStrokeStyle_(t,s[0],s[1],s[2]),l=this.styleIndices_[r];c>=0&&this.startIndices[c]>=l;)f=this.startIndices[c],u=this.startIndicesFeature[c],h=""+n.a.getUid(u),i[h]&&(a!==o&&(this.drawElements(t,e,a,o),t.clear(t.DEPTH_BUFFER_BIT)),o=f),c--,a=f;a!==o&&(this.drawElements(t,e,a,o),t.clear(t.DEPTH_BUFFER_BIT)),a=o=l}},Pi.prototype.drawHitDetectionReplayOneByOne=function(t,e,i,r,a){var o,s,l,u,h,c,f,d;for(d=this.startIndices.length-2,l=this.startIndices[d+1],o=this.styleIndices_.length-1;o>=0;--o)for(u=this.styles_[o],this.setStrokeStyle_(t,u[0],u[1],u[2]),h=this.styleIndices_[o];d>=0&&this.startIndices[d]>=h;){if(s=this.startIndices[d],c=this.startIndicesFeature[d],f=""+n.a.getUid(c),void 0===i[f]&&c.getGeometry()&&(void 0===a||Z.default.intersects(a,c.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,s,l);var p=r(c);if(p)return p}d--,l=s}},Pi.prototype.setStrokeStyle_=function(t,e,i,n){t.uniform4fv(this.defaultLocations_.u_color,e),t.uniform1f(this.defaultLocations_.u_lineWidth,i),t.uniform1f(this.defaultLocations_.u_miterLimit,n)},Pi.prototype.setFillStrokeStyle=function(t,e){var i=e.getLineCap();this.state_.lineCap=void 0!==i?i:si.defaultLineCap;var n=e.getLineDash();this.state_.lineDash=n||si.defaultLineDash;var r=e.getLineDashOffset();this.state_.lineDashOffset=r||si.defaultLineDashOffset;var a=e.getLineJoin();this.state_.lineJoin=void 0!==a?a:si.defaultLineJoin;var o=e.getColor();o=o instanceof CanvasGradient||o instanceof CanvasPattern?si.defaultStrokeStyle:Ce.a.asArray(o).map(function(t,e){return 3!=e?t/255:t})||si.defaultStrokeStyle;var s=e.getWidth();s=void 0!==s?s:si.defaultLineWidth;var l=e.getMiterLimit();l=void 0!==l?l:si.defaultMiterLimit,this.state_.strokeColor&&T.a.equals(this.state_.strokeColor,o)&&this.state_.lineWidth===s&&this.state_.miterLimit===l||(this.state_.changed=!0,this.state_.strokeColor=o,this.state_.lineWidth=s,this.state_.miterLimit=l,this.styles_.push([o,s,l]))},Pi.Instruction_={ROUND:2,BEGIN_LINE:3,END_LINE:5,BEGIN_LINE_CAP:7,END_LINE_CAP:11,BEVEL_FIRST:13,BEVEL_SECOND:17,MITER_BOTTOM:19,MITER_TOP:23};var Li=Pi,Ni=i("ZXW8"),Fi={};Fi.fragment=new Ke(n.a.DEBUG_WEBGL?"precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),Fi.vertex=new Je(n.a.DEBUG_WEBGL?"\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n":"attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}");var Di=Fi,ki=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_projectionMatrix":"b"),this.u_offsetScaleMatrix=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_offsetScaleMatrix":"c"),this.u_offsetRotateMatrix=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_offsetRotateMatrix":"d"),this.u_color=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_color":"e"),this.u_opacity=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_opacity":"f"),this.a_position=t.getAttribLocation(e,n.a.DEBUG_WEBGL?"a_position":"a")},Gi=ki,ji=i("lY9i"),Ui=function(t){this.first_=void 0,this.last_=void 0,this.head_=void 0,this.circular_=void 0===t||t,this.length_=0};Ui.prototype.insertItem=function(t){var e={prev:void 0,next:void 0,data:t},i=this.head_;if(i){var n=i.next;e.prev=i,e.next=n,i.next=e,n&&(n.prev=e),i===this.last_&&(this.last_=e)}else this.first_=e,this.last_=e,this.circular_&&(e.next=e,e.prev=e);this.head_=e,this.length_++},Ui.prototype.removeItem=function(){var t=this.head_;if(t){var e=t.next,i=t.prev;e&&(e.prev=i),i&&(i.next=e),this.head_=e||i,this.first_===this.last_?(this.head_=void 0,this.first_=void 0,this.last_=void 0):this.first_===t?this.first_=this.head_:this.last_===t&&(this.last_=i?this.head_.prev:this.head_),this.length_--}},Ui.prototype.firstItem=function(){if(this.head_=this.first_)return this.head_.data},Ui.prototype.lastItem=function(){if(this.head_=this.last_)return this.head_.data},Ui.prototype.nextItem=function(){if(this.head_&&this.head_.next)return this.head_=this.head_.next,this.head_.data},Ui.prototype.getNextItem=function(){if(this.head_&&this.head_.next)return this.head_.next.data},Ui.prototype.prevItem=function(){if(this.head_&&this.head_.prev)return this.head_=this.head_.prev,this.head_.data},Ui.prototype.getPrevItem=function(){if(this.head_&&this.head_.prev)return this.head_.prev.data},Ui.prototype.getCurrItem=function(){if(this.head_)return this.head_.data},Ui.prototype.setFirstItem=function(){this.circular_&&this.head_&&(this.first_=this.head_,this.last_=this.head_.prev)},Ui.prototype.concat=function(t){if(t.head_){if(this.head_){var e=this.head_.next;this.head_.next=t.first_,t.first_.prev=this.head_,e.prev=t.last_,t.last_.next=e,this.length_+=t.length_}else this.head_=t.head_,this.first_=t.first_,this.last_=t.last_,this.length_=t.length_;t.head_=void 0,t.first_=void 0,t.last_=void 0,t.length_=0}},Ui.prototype.getLength=function(){return this.length_};var Bi=Ui,Wi=i("6NQJ"),zi=function(t,e){ai.call(this,t,e),this.lineStringReplay=new Li(t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={fillColor:null,changed:!1}};n.a.inherits(zi,ai),zi.prototype.drawCoordinates_=function(t,e,i){var n=new Bi,r=new Wi.a;this.processFlatCoordinates_(t,i,n,r,!0);var a=this.getMaxCoords_(n);if(e.length){var o,s,l=[];for(o=0,s=e.length;s>o;++o){var u={list:new Bi,maxCoords:void 0,rtree:new Wi.a};l.push(u),this.processFlatCoordinates_(e[o],i,u.list,u.rtree,!1),this.classifyPoints_(u.list,u.rtree,!0),u.maxCoords=this.getMaxCoords_(u.list)}for(l.sort(function(t,e){return e.maxCoords[0]===t.maxCoords[0]?t.maxCoords[1]-e.maxCoords[1]:e.maxCoords[0]-t.maxCoords[0]}),o=0;l.length>o;++o){var h,c=l[o].list,f=c.firstItem(),d=f;do{if(this.getIntersections_(d,r).length){h=!0;break}d=c.nextItem()}while(f!==d);h||this.bridgeHole_(c,l[o].maxCoords[0],n,a[0],r)&&(r.concat(l[o].rtree),this.classifyPoints_(n,r,!1))}}else this.classifyPoints_(n,r,!1);this.triangulate_(n,r)},zi.prototype.processFlatCoordinates_=function(t,e,i,n,r){var a,o,s,l,u,h=Si.a.linearRingIsClockwise(t,0,t.length,e),c=this.vertices.length/2,f=[],d=[];if(r===h){for(s=this.createPoint_(t[0],t[1],c++),l=s,a=e,o=t.length;o>a;a+=e)u=this.createPoint_(t[a],t[a+1],c++),d.push(this.insertItem_(l,u,i)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),l=u;d.push(this.insertItem_(u,s,i)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)])}else{var p=t.length-e;for(s=this.createPoint_(t[p],t[p+1],c++),l=s,a=p-e,o=0;a>=o;a-=e)u=this.createPoint_(t[a],t[a+1],c++),d.push(this.insertItem_(l,u,i)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),l=u;d.push(this.insertItem_(u,s,i)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)])}n.load(f,d)},zi.prototype.getMaxCoords_=function(t){var e=t.firstItem(),i=e,n=[i.p0.x,i.p0.y];do{i=t.nextItem(),i.p0.x>n[0]&&(n=[i.p0.x,i.p0.y])}while(i!==e);return n},zi.prototype.classifyPoints_=function(t,e,i){var n=t.firstItem(),r=n,a=t.nextItem(),o=!1;do{var s=i?si.triangleIsCounterClockwise(a.p1.x,a.p1.y,r.p1.x,r.p1.y,r.p0.x,r.p0.y):si.triangleIsCounterClockwise(r.p0.x,r.p0.y,r.p1.x,r.p1.y,a.p1.x,a.p1.y);void 0===s?(this.removeItem_(r,a,t,e),o=!0,a===n&&(n=t.getNextItem()),a=r,t.prevItem()):r.p1.reflex!==s&&(r.p1.reflex=s,o=!0),r=a,a=t.nextItem()}while(r!==n);return o},zi.prototype.bridgeHole_=function(t,e,i,n,r){for(var a=t.firstItem();a.p1.x!==e;)a=t.nextItem();var o,s,l,u,h=a.p1,c={x:n,y:h.y,i:-1},f=1/0,d=this.getIntersections_({p0:h,p1:c},r,!0);for(o=0,s=d.length;s>o;++o){var p=d[o],g=this.calculateIntersection_(h,c,p.p0,p.p1,!0),m=Math.abs(h.x-g[0]);f>m&&void 0!==si.triangleIsCounterClockwise(h.x,h.y,p.p0.x,p.p0.y,p.p1.x,p.p1.y)&&(f=m,u={x:g[0],y:g[1],i:-1},a=p)}if(f===1/0)return!1;if(l=a.p1,f>0){var _=this.getPointsInTriangle_(h,u,a.p1,r);if(_.length){var y=1/0;for(o=0,s=_.length;s>o;++o){var v=_[o],E=Math.atan2(h.y-v.y,c.x-v.x);(y>E||E===y&&l.x>v.x)&&(y=E,l=v)}}}for(a=i.firstItem();a.p1.x!==l.x||a.p1.y!==l.y;)a=i.nextItem();var b={x:h.x,y:h.y,i:h.i,reflex:void 0},x={x:a.p1.x,y:a.p1.y,i:a.p1.i,reflex:void 0};return t.getNextItem().p0=b,this.insertItem_(h,a.p1,t,r),this.insertItem_(x,b,t,r),a.p1=x,t.setFirstItem(),i.concat(t),!0},zi.prototype.triangulate_=function(t,e){for(var i=!1,n=this.isSimple_(t,e);t.getLength()>3;)if(n){if(!this.clipEars_(t,e,n,i)&&!this.classifyPoints_(t,e,i)&&!this.resolveSelfIntersections_(t,e,!0))break}else if(!this.clipEars_(t,e,n,i)&&!this.classifyPoints_(t,e,i)&&!this.resolveSelfIntersections_(t,e)){if(!(n=this.isSimple_(t,e))){this.splitPolygon_(t,e);break}i=!this.isClockwise_(t),this.classifyPoints_(t,e,i)}if(3===t.getLength()){var r=this.indices.length;this.indices[r++]=t.getPrevItem().p0.i,this.indices[r++]=t.getCurrItem().p0.i,this.indices[r++]=t.getNextItem().p0.i}},zi.prototype.clipEars_=function(t,e,i,n){var r,a,o,s=this.indices.length,l=t.firstItem(),u=t.getPrevItem(),h=l,c=t.nextItem(),f=t.getNextItem(),d=!1;do{if(r=h.p0,a=h.p1,o=c.p1,!1===a.reflex){var p;p=i?0===this.getPointsInTriangle_(r,a,o,e,!0).length:n?this.diagonalIsInside_(f.p1,o,a,r,u.p0):this.diagonalIsInside_(u.p0,r,a,o,f.p1),(i||0===this.getIntersections_({p0:r,p1:o},e).length)&&p&&(i||!1===r.reflex||!1===o.reflex||Si.a.linearRingIsClockwise([u.p0.x,u.p0.y,r.x,r.y,a.x,a.y,o.x,o.y,f.p1.x,f.p1.y],0,10,2)===!n)&&(this.indices[s++]=r.i,this.indices[s++]=a.i,this.indices[s++]=o.i,this.removeItem_(h,c,t,e),c===l&&(l=f),d=!0)}u=t.getPrevItem(),h=t.getCurrItem(),c=t.nextItem(),f=t.getNextItem()}while(h!==l&&t.getLength()>3);return d},zi.prototype.resolveSelfIntersections_=function(t,e,i){var n=t.firstItem();t.nextItem();var r=n,a=t.nextItem(),o=!1;do{var s=this.calculateIntersection_(r.p0,r.p1,a.p0,a.p1,i);if(s){var l=!1,u=this.vertices.length,h=this.indices.length,c=u/2,f=t.prevItem();t.removeItem(),e.remove(f),l=f===n;var d;if(i?(s[0]===r.p0.x&&s[1]===r.p0.y?(t.prevItem(),d=r.p0,a.p0=d,e.remove(r),l=l||r===n):(d=a.p1,r.p1=d,e.remove(a),l=l||a===n),t.removeItem()):(d=this.createPoint_(s[0],s[1],c),r.p1=d,a.p0=d,e.update([Math.min(r.p0.x,r.p1.x),Math.min(r.p0.y,r.p1.y),Math.max(r.p0.x,r.p1.x),Math.max(r.p0.y,r.p1.y)],r),e.update([Math.min(a.p0.x,a.p1.x),Math.min(a.p0.y,a.p1.y),Math.max(a.p0.x,a.p1.x),Math.max(a.p0.y,a.p1.y)],a)),this.indices[h++]=f.p0.i,this.indices[h++]=f.p1.i,this.indices[h++]=d.i,o=!0,l)break}r=t.getPrevItem(),a=t.nextItem()}while(r!==n);return o},zi.prototype.isSimple_=function(t,e){var i=t.firstItem(),n=i;do{if(this.getIntersections_(n,e).length)return!1;n=t.nextItem()}while(n!==i);return!0},zi.prototype.isClockwise_=function(t){var e=2*t.getLength(),i=Array(e),n=t.firstItem(),r=n,a=0;do{i[a++]=r.p0.x,i[a++]=r.p0.y,r=t.nextItem()}while(r!==n);return Si.a.linearRingIsClockwise(i,0,e,2)},zi.prototype.splitPolygon_=function(t,e){var i=t.firstItem(),n=i;do{var r=this.getIntersections_(n,e);if(r.length){var a=r[0],o=this.vertices.length/2,s=this.calculateIntersection_(n.p0,n.p1,a.p0,a.p1),l=this.createPoint_(s[0],s[1],o),u=new Bi,h=new Wi.a;this.insertItem_(l,n.p1,u,h),n.p1=l,e.update([Math.min(n.p0.x,l.x),Math.min(n.p0.y,l.y),Math.max(n.p0.x,l.x),Math.max(n.p0.y,l.y)],n);for(var c=t.nextItem();c!==a;)this.insertItem_(c.p0,c.p1,u,h),e.remove(c),t.removeItem(),c=t.getCurrItem();this.insertItem_(a.p0,l,u,h),a.p0=l,e.update([Math.min(a.p1.x,l.x),Math.min(a.p1.y,l.y),Math.max(a.p1.x,l.x),Math.max(a.p1.y,l.y)],a),this.classifyPoints_(t,e,!1),this.triangulate_(t,e),this.classifyPoints_(u,h,!1),this.triangulate_(u,h);break}n=t.nextItem()}while(n!==i)},zi.prototype.createPoint_=function(t,e,i){var n=this.vertices.length;return this.vertices[n++]=t,this.vertices[n++]=e,{x:t,y:e,i:i,reflex:void 0}},zi.prototype.insertItem_=function(t,e,i,n){var r={p0:t,p1:e};return i.insertItem(r),n&&n.insert([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],r),r},zi.prototype.removeItem_=function(t,e,i,n){i.getCurrItem()===e&&(i.removeItem(),t.p1=e.p1,n.remove(e),n.update([Math.min(t.p0.x,t.p1.x),Math.min(t.p0.y,t.p1.y),Math.max(t.p0.x,t.p1.x),Math.max(t.p0.y,t.p1.y)],t))},zi.prototype.getPointsInTriangle_=function(t,e,i,n,r){var a,o,s,l,u=[],h=n.getInExtent([Math.min(t.x,e.x,i.x),Math.min(t.y,e.y,i.y),Math.max(t.x,e.x,i.x),Math.max(t.y,e.y,i.y)]);for(a=0,o=h.length;o>a;++a)for(s in h[a])"object"!=typeof(l=h[a][s])||r&&!l.reflex||l.x===t.x&&l.y===t.y||l.x===e.x&&l.y===e.y||l.x===i.x&&l.y===i.y||-1!==u.indexOf(l)||!Ni.a.linearRingContainsXY([t.x,t.y,e.x,e.y,i.x,i.y],0,6,2,l.x,l.y)||u.push(l);return u},zi.prototype.getIntersections_=function(t,e,i){var n,r,a=t.p0,o=t.p1,s=e.getInExtent([Math.min(a.x,o.x),Math.min(a.y,o.y),Math.max(a.x,o.x),Math.max(a.y,o.y)]),l=[];for(n=0,r=s.length;r>n;++n){var u=s[n];t!==u&&(i||u.p0!==o||u.p1!==a)&&this.calculateIntersection_(a,o,u.p0,u.p1,i)&&l.push(u)}return l},zi.prototype.calculateIntersection_=function(t,e,i,n,r){var a=(n.y-i.y)*(e.x-t.x)-(n.x-i.x)*(e.y-t.y);if(0!==a){var o=((n.x-i.x)*(t.y-i.y)-(n.y-i.y)*(t.x-i.x))/a,s=((e.x-t.x)*(t.y-i.y)-(e.y-t.y)*(t.x-i.x))/a;if(!r&&o>si.EPSILON&&1-si.EPSILON>o&&s>si.EPSILON&&1-si.EPSILON>s||r&&o>=0&&1>=o&&s>=0&&1>=s)return[t.x+o*(e.x-t.x),t.y+o*(e.y-t.y)]}},zi.prototype.diagonalIsInside_=function(t,e,i,n,r){if(void 0===e.reflex||void 0===n.reflex)return!1;var a=(i.x-n.x)*(e.y-n.y)>(i.y-n.y)*(e.x-n.x),o=(r.y-n.y)*(e.x-n.x)>(r.x-n.x)*(e.y-n.y),s=(t.x-e.x)*(n.y-e.y)>(t.y-e.y)*(n.x-e.x),l=(i.y-e.y)*(n.x-e.x)>(i.x-e.x)*(n.y-e.y),u=n.reflex?o||a:o&&a,h=e.reflex?l||s:l&&s;return u&&h},zi.prototype.drawMultiPolygon=function(t,e){var i,n,r,a,o=t.getEndss(),s=t.getStride(),l=this.indices.length,u=this.lineStringReplay.getCurrentIndex(),h=t.getFlatCoordinates(),c=0;for(i=0,n=o.length;n>i;++i){var f=o[i];if(f.length>0){var d=Pt.a.translate(h,c,f[0],s,-this.origin[0],-this.origin[1]);if(d.length){var p,g=[];for(r=1,a=f.length;a>r;++r)f[r]!==f[r-1]&&(p=Pt.a.translate(h,f[r-1],f[r],s,-this.origin[0],-this.origin[1]),g.push(p));this.lineStringReplay.drawPolygonCoordinates(d,g,s),this.drawCoordinates_(d,g,s)}}c=f[f.length-1]}this.indices.length>l&&(this.startIndices.push(l),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(l),this.state_.changed=!1)),this.lineStringReplay.getCurrentIndex()>u&&this.lineStringReplay.setPolygonStyle(e,u)},zi.prototype.drawPolygon=function(t,e){var i=t.getEnds(),n=t.getStride();if(i.length>0){var r=t.getFlatCoordinates().map(Number),a=Pt.a.translate(r,0,i[0],n,-this.origin[0],-this.origin[1]);if(a.length){var o,s,l,u=[];for(o=1,s=i.length;s>o;++o)i[o]!==i[o-1]&&(l=Pt.a.translate(r,i[o-1],i[o],n,-this.origin[0],-this.origin[1]),u.push(l));this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.lineStringReplay.setPolygonStyle(e),this.lineStringReplay.drawPolygonCoordinates(a,u,n),this.drawCoordinates_(a,u,n)}}},zi.prototype.finish=function(t){this.verticesBuffer=new ui(this.vertices),this.indicesBuffer=new ui(this.indices),this.startIndices.push(this.indices.length),this.lineStringReplay.finish(t),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},zi.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,i=this.indicesBuffer,n=this.lineStringReplay.getDeleteResourcesFunction(t);return function(){t.deleteBuffer(e),t.deleteBuffer(i),n()}},zi.prototype.setUpProgram=function(t,e,i,n){var r,a;r=Di.fragment,a=Di.vertex;var o,s=e.getProgram(r,a);return this.defaultLocations_?o=this.defaultLocations_:(o=new Gi(t,s),this.defaultLocations_=o),e.useProgram(s),t.enableVertexAttribArray(o.a_position),t.vertexAttribPointer(o.a_position,2,Ve.a.FLOAT,!1,8,0),o},zi.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position)},zi.prototype.drawReplay=function(t,e,i,n){var r=t.getParameter(t.DEPTH_FUNC),a=t.getParameter(t.DEPTH_WRITEMASK);if(n||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),W.a.isEmpty(i)){var o,s,l,u;for(l=this.startIndices[this.startIndices.length-1],o=this.styleIndices_.length-1;o>=0;--o)s=this.styleIndices_[o],u=this.styles_[o],this.setFillStyle_(t,u),this.drawElements(t,e,s,l),l=s}else this.drawReplaySkipping_(t,e,i);n||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(a),t.depthFunc(r))},zi.prototype.drawHitDetectionReplayOneByOne=function(t,e,i,r,a){var o,s,l,u,h,c,f,d;for(d=this.startIndices.length-2,l=this.startIndices[d+1],o=this.styleIndices_.length-1;o>=0;--o)for(u=this.styles_[o],this.setFillStyle_(t,u),h=this.styleIndices_[o];d>=0&&this.startIndices[d]>=h;){if(s=this.startIndices[d],c=this.startIndicesFeature[d],f=""+n.a.getUid(c),void 0===i[f]&&c.getGeometry()&&(void 0===a||Z.default.intersects(a,c.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,s,l);var p=r(c);if(p)return p}d--,l=s}},zi.prototype.drawReplaySkipping_=function(t,e,i){var r,a,o,s,l,u,h,c,f;for(c=this.startIndices.length-2,o=a=this.startIndices[c+1],r=this.styleIndices_.length-1;r>=0;--r){for(s=this.styles_[r],this.setFillStyle_(t,s),l=this.styleIndices_[r];c>=0&&this.startIndices[c]>=l;)f=this.startIndices[c],u=this.startIndicesFeature[c],h=""+n.a.getUid(u),i[h]&&(a!==o&&(this.drawElements(t,e,a,o),t.clear(t.DEPTH_BUFFER_BIT)),o=f),c--,a=f;a!==o&&(this.drawElements(t,e,a,o),t.clear(t.DEPTH_BUFFER_BIT)),a=o=l}},zi.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_color,e)},zi.prototype.setFillStrokeStyle=function(t,e){var i=t?t.getColor():[0,0,0,0];i=i instanceof CanvasGradient||i instanceof CanvasPattern?si.defaultFillStyle:Ce.a.asArray(i).map(function(t,e){return 3!=e?t/255:t})||si.defaultFillStyle,this.state_.fillColor&&T.a.equals(i,this.state_.fillColor)||(this.state_.fillColor=i,this.state_.changed=!0,this.styles_.push(i)),e?this.lineStringReplay.setFillStrokeStyle(null,e):this.lineStringReplay.setFillStrokeStyle(null,new ji.default({color:[0,0,0,0],lineWidth:0}))};var Xi=zi,Vi=function(t,e){this.space_=e,this.emptyBlocks_=[{x:0,y:0,width:t,height:t}],this.entries_={},this.context_=K.a.createCanvasContext2D(t,t),this.canvas_=this.context_.canvas};Vi.prototype.get=function(t){return this.entries_[t]||null},Vi.prototype.add=function(t,e,i,n,r){var a,o,s;for(o=0,s=this.emptyBlocks_.length;s>o;++o)if(a=this.emptyBlocks_[o],a.width>=e+this.space_&&a.height>=i+this.space_){var l={offsetX:a.x+this.space_,offsetY:a.y+this.space_,image:this.canvas_};return this.entries_[t]=l,n.call(r,this.context_,a.x+this.space_,a.y+this.space_),this.split_(o,a,e+this.space_,i+this.space_),l}return null},Vi.prototype.split_=function(t,e,i,n){var r,a;e.width-i>e.height-n?(r={x:e.x+i,y:e.y,width:e.width-i,height:e.height},a={x:e.x,y:e.y+n,width:i,height:e.height-n},this.updateBlocks_(t,r,a)):(r={x:e.x+i,y:e.y,width:e.width-i,height:n},a={x:e.x,y:e.y+n,width:e.width,height:e.height-n},this.updateBlocks_(t,r,a))},Vi.prototype.updateBlocks_=function(t,e,i){var n=[t,1];e.width>0&&e.height>0&&n.push(e),i.width>0&&i.height>0&&n.push(i),this.emptyBlocks_.splice.apply(this.emptyBlocks_,n)};var Yi=Vi,qi=function(t){var e=t||{};this.currentSize_=void 0!==e.initialSize?e.initialSize:n.a.INITIAL_ATLAS_SIZE,this.maxSize_=void 0!==e.maxSize?e.maxSize:-1!=n.a.MAX_ATLAS_SIZE?n.a.MAX_ATLAS_SIZE:void 0!==n.a.WEBGL_MAX_TEXTURE_SIZE?n.a.WEBGL_MAX_TEXTURE_SIZE:2048,this.space_=void 0!==e.space?e.space:1,this.atlases_=[new Yi(this.currentSize_,this.space_)],this.currentHitSize_=this.currentSize_,this.hitAtlases_=[new Yi(this.currentHitSize_,this.space_)]};qi.prototype.getInfo=function(t){var e=this.getInfo_(this.atlases_,t);return e?this.mergeInfos_(e,this.getInfo_(this.hitAtlases_,t)):null},qi.prototype.getInfo_=function(t,e){var i,n,r,a;for(r=0,a=t.length;a>r;++r)if(i=t[r],n=i.get(e))return n;return null},qi.prototype.mergeInfos_=function(t,e){return{offsetX:t.offsetX,offsetY:t.offsetY,image:t.image,hitImage:e.image}},qi.prototype.add=function(t,e,i,r,a,o){if(e+this.space_>this.maxSize_||i+this.space_>this.maxSize_)return null;var s=this.add_(!1,t,e,i,r,o);return s?this.mergeInfos_(s,this.add_(!0,t,e,i,void 0!==a?a:n.a.nullFunction,o)):null},qi.prototype.add_=function(t,e,i,n,r,a){var o,s,l,u,h=t?this.hitAtlases_:this.atlases_;for(l=0,u=h.length;u>l;++l){if(o=h[l],s=o.add(e,i,n,r,a))return s;if(!s&&l===u-1){var c;t?(c=Math.min(2*this.currentHitSize_,this.maxSize_),this.currentHitSize_=c):(c=Math.min(2*this.currentSize_,this.maxSize_),this.currentSize_=c),o=new Yi(c,this.space_),h.push(o),++u}}return null};var Hi=qi,Ki=function(t,e){bi.call(this,t,e),this.images_=[],this.textures_=[],this.measureCanvas_=K.a.createCanvasContext2D(0,0).canvas,this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.atlases_={},this.currAtlas_=void 0,this.scale=1,this.opacity=1};n.a.inherits(Ki,bi),Ki.prototype.drawText=function(t,e){if(this.text_){var i=null,r=2,a=2;switch(t.getType()){case At.a.POINT:case At.a.MULTI_POINT:i=t.getFlatCoordinates(),r=i.length,a=t.getStride();break;case At.a.CIRCLE:i=t.getCenter();break;case At.a.LINE_STRING:i=t.getFlatMidpoint();break;case At.a.MULTI_LINE_STRING:i=t.getFlatMidpoints(),r=i.length;break;case At.a.POLYGON:i=t.getFlatInteriorPoint();break;case At.a.MULTI_POLYGON:i=t.getFlatInteriorPoints(),r=i.length}this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var o,s,l,u,h,c,f,d,p=this.currAtlas_,g=this.text_.split("\n"),m=this.getTextSize_(g),_=Math.round(m[0]*this.textAlign_-this.offsetX_),y=Math.round(m[1]*this.textBaseline_-this.offsetY_),v=this.state_.lineWidth/2*this.state_.scale;for(o=0,s=g.length;s>o;++o)for(h=0,c=p.height*o,f=g[o].split(""),l=0,u=f.length;u>l;++l){if(d=p.atlas.getInfo(f[l])){var E=d.image;this.anchorX=_-h,this.anchorY=y-c,this.originX=0===l?d.offsetX-v:d.offsetX,this.originY=d.offsetY,this.height=p.height,this.width=0===l||l===f.length-1?p.width[f[l]]+v:p.width[f[l]],this.imageHeight=E.height,this.imageWidth=E.width;var b;0===this.images_.length?this.images_.push(E):(b=this.images_[this.images_.length-1],n.a.getUid(b)!=n.a.getUid(E)&&(this.groupIndices.push(this.indices.length),this.images_.push(E))),this.drawText_(i,0,r,a)}h+=this.width}}},Ki.prototype.getTextSize_=function(t){var e=this,i=this.currAtlas_,n=t.length*i.height;return[t.map(function(t){var n,r,a=0;for(n=0,r=t.length;r>n;++n){var o=t[n];i.width[o]||e.addCharToAtlas_(o),a+=i.width[o]?i.width[o]:0}return a}).reduce(function(t,e){return Math.max(t,e)}),n]},Ki.prototype.drawText_=function(t,e,i,n){var r,a;for(r=e,a=i;a>r;r+=n)this.drawCoordinates(t,e,i,n)},Ki.prototype.addCharToAtlas_=function(t){if(1===t.length){var e=this.currAtlas_,i=this.state_,n=this.measureCanvas_.getContext("2d");n.font=i.font;var r=Math.ceil(n.measureText(t).width*i.scale);e.atlas.add(t,r,e.height,function(e,n,r){e.font=i.font,e.fillStyle=i.fillColor,e.strokeStyle=i.strokeColor,e.lineWidth=i.lineWidth,e.lineCap=i.lineCap,e.lineJoin=i.lineJoin,e.miterLimit=i.miterLimit,e.textAlign="left",e.textBaseline="top",s.a.CANVAS_LINE_DASH&&i.lineDash&&(e.setLineDash(i.lineDash),e.lineDashOffset=i.lineDashOffset),1!==i.scale&&e.setTransform(i.scale,0,0,i.scale,0,0),i.strokeColor&&e.strokeText(t,n,r),i.fillColor&&e.fillText(t,n,r)})&&(e.width[t]=r)}},Ki.prototype.finish=function(t){var e=t.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices=this.groupIndices,this.verticesBuffer=new ui(this.vertices),this.indicesBuffer=new ui(this.indices),this.createTextures(this.textures_,this.images_,{},e),this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.images_=null,this.atlases_={},this.currAtlas_=void 0,bi.prototype.finish.call(this,t)},Ki.prototype.setTextStyle=function(t){var e=this.state_,i=t.getFill(),n=t.getStroke();if(t&&t.getText()&&(i||n)){if(i){var r=i.getColor();e.fillColor=Ot.a.asColorLike(r||si.defaultFillStyle)}else e.fillColor=null;if(n){var a=n.getColor();e.strokeColor=Ot.a.asColorLike(a||si.defaultStrokeStyle),e.lineWidth=n.getWidth()||si.defaultLineWidth,e.lineCap=n.getLineCap()||si.defaultLineCap,e.lineDashOffset=n.getLineDashOffset()||si.defaultLineDashOffset,e.lineJoin=n.getLineJoin()||si.defaultLineJoin,e.miterLimit=n.getMiterLimit()||si.defaultMiterLimit;var o=n.getLineDash();e.lineDash=o?o.slice():si.defaultLineDash}else e.strokeColor=null,e.lineWidth=0;e.font=t.getFont()||si.defaultFont,e.scale=t.getScale()||1,this.text_=t.getText();var s=Ae.TEXT_ALIGN[t.getTextAlign()],l=Ae.TEXT_ALIGN[t.getTextBaseline()];this.textAlign_=void 0===s?si.defaultTextAlign:s,this.textBaseline_=void 0===l?si.defaultTextBaseline:l,this.offsetX_=t.getOffsetX()||0,this.offsetY_=t.getOffsetY()||0,this.rotateWithView=!!t.getRotateWithView(),this.rotation=t.getRotation()||0,this.currAtlas_=this.getAtlas_(e)}else this.text_=""},Ki.prototype.getAtlas_=function(t){var e,i=[];for(e in t)(t[e]||0===t[e])&&(Array.isArray(t[e])?i=i.concat(t[e]):i.push(t[e]));var n=this.calculateHash_(i);if(!this.atlases_[n]){var r=this.measureCanvas_.getContext("2d");r.font=t.font;var a=Math.ceil((1.5*r.measureText("M").width+t.lineWidth/2)*t.scale);this.atlases_[n]={atlas:new Hi({space:t.lineWidth+1}),width:{},height:a}}return this.atlases_[n]},Ki.prototype.calculateHash_=function(t){var e,i,n="";for(e=0,i=t.length;i>e;++e)n+=t[e];return n},Ki.prototype.getTextures=function(t){return this.textures_},Ki.prototype.getHitDetectionTextures=function(){return this.textures_};var Zi=Ki,Ji=function(t,e,i){oe.call(this),this.maxExtent_=e,this.tolerance_=t,this.renderBuffer_=i,this.replaysByZIndex_={}};n.a.inherits(Ji,oe),Ji.prototype.addDeclutter=function(t,e){},Ji.prototype.getDeleteResourcesFunction=function(t){var e,i=[];for(e in this.replaysByZIndex_){var n,r=this.replaysByZIndex_[e];for(n in r)i.push(r[n].getDeleteResourcesFunction(t))}return function(){for(var t,e=i.length,n=0;e>n;n++)t=i[n].apply(this,arguments);return t}},Ji.prototype.finish=function(t){var e;for(e in this.replaysByZIndex_){var i,n=this.replaysByZIndex_[e];for(i in n)n[i].finish(t)}},Ji.prototype.getReplay=function(t,e){var i=void 0!==t?""+t:"0",n=this.replaysByZIndex_[i];void 0===n&&(n={},this.replaysByZIndex_[i]=n);var r=n[e];return void 0===r&&(r=new(0,Ji.BATCH_CONSTRUCTORS_[e])(this.tolerance_,this.maxExtent_),n[e]=r),r},Ji.prototype.isEmpty=function(){return W.a.isEmpty(this.replaysByZIndex_)},Ji.prototype.replay=function(t,e,i,n,r,a,o,s){var l=Object.keys(this.replaysByZIndex_).map(Number);l.sort(T.a.numberSafeCompareFunction);var u,h,c,f,d,p;for(u=0,h=l.length;h>u;++u)for(d=this.replaysByZIndex_[""+l[u]],c=0,f=Ae.ORDER.length;f>c;++c)void 0!==(p=d[Ae.ORDER[c]])&&p.replay(t,e,i,n,r,a,o,s,void 0,!1)},Ji.prototype.replayHitDetection_=function(t,e,i,n,r,a,o,s,l,u,h){var c=Object.keys(this.replaysByZIndex_).map(Number);c.sort(function(t,e){return e-t});var f,d,p,g,m,_;for(f=0,d=c.length;d>f;++f)for(g=this.replaysByZIndex_[""+c[f]],p=Ae.ORDER.length-1;p>=0;--p)if(void 0!==(m=g[Ae.ORDER[p]])&&(_=m.replay(t,e,i,n,r,a,o,s,l,u,h)))return _},Ji.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r,a,o,s,l,u){var h=e.getGL();h.bindFramebuffer(h.FRAMEBUFFER,e.getHitDetectionFramebuffer());var c;return void 0!==this.renderBuffer_&&(c=Z.default.buffer(Z.default.createOrUpdateFromCoordinate(t),n*this.renderBuffer_)),this.replayHitDetection_(e,t,n,r,Ji.HIT_DETECTION_SIZE_,o,s,l,function(t){var e=new Uint8Array(4);if(h.readPixels(0,0,1,1,h.RGBA,h.UNSIGNED_BYTE,e),e[3]>0){var i=u(t);if(i)return i}},!0,c)},Ji.prototype.hasFeatureAtCoordinate=function(t,e,i,n,r,a,o,s,l){var u=e.getGL();return u.bindFramebuffer(u.FRAMEBUFFER,e.getHitDetectionFramebuffer()),void 0!==this.replayHitDetection_(e,t,n,r,Ji.HIT_DETECTION_SIZE_,o,s,l,function(t){var e=new Uint8Array(4);return u.readPixels(0,0,1,1,u.RGBA,u.UNSIGNED_BYTE,e),e[3]>0},!1)},Ji.HIT_DETECTION_SIZE_=[1,1],Ji.BATCH_CONSTRUCTORS_={Circle:ci,Image:Ci,LineString:Li,Polygon:Xi,Text:Zi};var Qi=Ji,$i=function(t,e,i,n,r,a,o){Nt.call(this),this.context_=t,this.center_=e,this.extent_=a,this.pixelRatio_=o,this.size_=r,this.rotation_=n,this.resolution_=i,this.imageStyle_=null,this.fillStyle_=null,this.strokeStyle_=null,this.textStyle_=null};n.a.inherits($i,Nt),$i.prototype.drawText_=function(t,e){var i=this.context_,n=t.getReplay(0,le.TEXT);n.setTextStyle(this.textStyle_),n.drawText(e,null),n.finish(i);var r={};n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,r,void 0,!1),n.getDeleteResourcesFunction(i)()},$i.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},$i.prototype.drawGeometry=function(t){switch(t.getType()){case At.a.POINT:this.drawPoint(t,null);break;case At.a.LINE_STRING:this.drawLineString(t,null);break;case At.a.POLYGON:this.drawPolygon(t,null);break;case At.a.MULTI_POINT:this.drawMultiPoint(t,null);break;case At.a.MULTI_LINE_STRING:this.drawMultiLineString(t,null);break;case At.a.MULTI_POLYGON:this.drawMultiPolygon(t,null);break;case At.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(t,null);break;case At.a.CIRCLE:this.drawCircle(t,null)}},$i.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);i&&Z.default.intersects(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))},$i.prototype.drawGeometryCollection=function(t,e){var i,n,r=t.getGeometriesArray();for(i=0,n=r.length;n>i;++i)this.drawGeometry(r[i])},$i.prototype.drawPoint=function(t,e){var i=this.context_,n=new Qi(1,this.extent_),r=n.getReplay(0,le.IMAGE);r.setImageStyle(this.imageStyle_),r.drawPoint(t,e),r.finish(i);var a={};r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,a,void 0,!1),r.getDeleteResourcesFunction(i)(),this.textStyle_&&this.drawText_(n,t)},$i.prototype.drawMultiPoint=function(t,e){var i=this.context_,n=new Qi(1,this.extent_),r=n.getReplay(0,le.IMAGE);r.setImageStyle(this.imageStyle_),r.drawMultiPoint(t,e),r.finish(i);var a={};r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,a,void 0,!1),r.getDeleteResourcesFunction(i)(),this.textStyle_&&this.drawText_(n,t)},$i.prototype.drawLineString=function(t,e){var i=this.context_,n=new Qi(1,this.extent_),r=n.getReplay(0,le.LINE_STRING);r.setFillStrokeStyle(null,this.strokeStyle_),r.drawLineString(t,e),r.finish(i);var a={};r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,a,void 0,!1),r.getDeleteResourcesFunction(i)(),this.textStyle_&&this.drawText_(n,t)},$i.prototype.drawMultiLineString=function(t,e){var i=this.context_,n=new Qi(1,this.extent_),r=n.getReplay(0,le.LINE_STRING);r.setFillStrokeStyle(null,this.strokeStyle_),r.drawMultiLineString(t,e),r.finish(i);var a={};r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,a,void 0,!1),r.getDeleteResourcesFunction(i)(),this.textStyle_&&this.drawText_(n,t)},$i.prototype.drawPolygon=function(t,e){var i=this.context_,n=new Qi(1,this.extent_),r=n.getReplay(0,le.POLYGON);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawPolygon(t,e),r.finish(i);var a={};r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,a,void 0,!1),r.getDeleteResourcesFunction(i)(),this.textStyle_&&this.drawText_(n,t)},$i.prototype.drawMultiPolygon=function(t,e){var i=this.context_,n=new Qi(1,this.extent_),r=n.getReplay(0,le.POLYGON);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawMultiPolygon(t,e),r.finish(i);var a={};r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,a,void 0,!1),r.getDeleteResourcesFunction(i)(),this.textStyle_&&this.drawText_(n,t)},$i.prototype.drawCircle=function(t,e){var i=this.context_,n=new Qi(1,this.extent_),r=n.getReplay(0,le.CIRCLE);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawCircle(t,e),r.finish(i);var a={};r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,a,void 0,!1),r.getDeleteResourcesFunction(i)(),this.textStyle_&&this.drawText_(n,t)},$i.prototype.setImageStyle=function(t){this.imageStyle_=t},$i.prototype.setFillStrokeStyle=function(t,e){this.fillStyle_=t,this.strokeStyle_=e},$i.prototype.setTextStyle=function(t){this.textStyle_=t};var tn=$i,en={};en.fragment=new Ke(n.a.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n":"precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"),en.vertex=new Je(n.a.DEBUG_WEBGL?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}");var nn=en,rn=function(t,e){this.u_texCoordMatrix=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_texCoordMatrix":"d"),this.u_projectionMatrix=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_projectionMatrix":"e"),this.u_opacity=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_opacity":"f"),this.u_texture=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_texture":"g"),this.a_position=t.getAttribLocation(e,n.a.DEBUG_WEBGL?"a_position":"b"),this.a_texCoord=t.getAttribLocation(e,n.a.DEBUG_WEBGL?"a_texCoord":"c")},an=rn,on=function(t,e){Bt.call(this,e),this.mapRenderer=t,this.arrayBuffer_=new ui([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0,this.texCoordMatrix=ot.a.create(),this.projectionMatrix=ot.a.create(),this.tmpMat4_=ni.create(),this.defaultLocations_=null};n.a.inherits(on,Bt),on.prototype.bindFramebuffer=function(t,e){var i=this.mapRenderer.getGL();if(void 0===this.framebufferDimension||this.framebufferDimension!=e){t.postRenderFunctions.push(function(t,e,i){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(i))}.bind(null,i,this.framebuffer,this.texture));var n=vi.createEmptyTexture(i,e,e),r=i.createFramebuffer();i.bindFramebuffer(Ve.a.FRAMEBUFFER,r),i.framebufferTexture2D(Ve.a.FRAMEBUFFER,Ve.a.COLOR_ATTACHMENT0,Ve.a.TEXTURE_2D,n,0),this.texture=n,this.framebuffer=r,this.framebufferDimension=e}else i.bindFramebuffer(Ve.a.FRAMEBUFFER,this.framebuffer)},on.prototype.composeFrame=function(t,e,i){this.dispatchComposeEvent_(Mt.a.PRECOMPOSE,i,t),i.bindBuffer(Ve.a.ARRAY_BUFFER,this.arrayBuffer_);var n,r=i.getGL(),a=nn.fragment,o=nn.vertex,s=i.getProgram(a,o);this.defaultLocations_?n=this.defaultLocations_:(n=new an(r,s),this.defaultLocations_=n),i.useProgram(s)&&(r.enableVertexAttribArray(n.a_position),r.vertexAttribPointer(n.a_position,2,Ve.a.FLOAT,!1,16,0),r.enableVertexAttribArray(n.a_texCoord),r.vertexAttribPointer(n.a_texCoord,2,Ve.a.FLOAT,!1,16,8),r.uniform1i(n.u_texture,0)),r.uniformMatrix4fv(n.u_texCoordMatrix,!1,ni.fromTransform(this.tmpMat4_,this.getTexCoordMatrix())),r.uniformMatrix4fv(n.u_projectionMatrix,!1,ni.fromTransform(this.tmpMat4_,this.getProjectionMatrix())),r.uniform1f(n.u_opacity,e.opacity),r.bindTexture(Ve.a.TEXTURE_2D,this.getTexture()),r.drawArrays(Ve.a.TRIANGLE_STRIP,0,4),this.dispatchComposeEvent_(Mt.a.POSTCOMPOSE,i,t)},on.prototype.dispatchComposeEvent_=function(t,e,i){var n=this.getLayer();if(n.hasListener(t)){var r=i.viewState,a=r.resolution,o=i.pixelRatio,s=i.extent,l=r.center,u=r.rotation,h=i.size,c=new tn(e,l,a,u,h,s,o);n.dispatchEvent(new Rt(t,c,i,null,e))}},on.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix},on.prototype.getTexture=function(){return this.texture},on.prototype.getProjectionMatrix=function(){return this.projectionMatrix},on.prototype.handleWebGLContextLost=function(){this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0},on.prototype.prepareFrame=function(t,e,i){},on.prototype.forEachLayerAtPixel=function(t,e,i,n){};var sn=on,ln=i("8r3X"),un=function(t,e,i,n,r){this.loader_=void 0!==r?r:null,ln.a.call(this,t,e,i,void 0!==r?kt.a.IDLE:kt.a.LOADED),this.canvas_=n,this.error_=null};n.a.inherits(un,ln.a),un.prototype.getError=function(){return this.error_},un.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=kt.a.ERROR):this.state=kt.a.LOADED,this.changed()},un.prototype.load=function(){this.state==kt.a.IDLE&&(this.state=kt.a.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},un.prototype.getImage=function(){return this.canvas_};var hn=un,cn=i("Zww1"),fn=function(t){cn.default.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions,state:t.state}),this.canvasFunction_=t.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=void 0!==t.ratio?t.ratio:1.5};n.a.inherits(fn,cn.default),fn.prototype.getImageInternal=function(t,e,i,n){e=this.findNearestResolution(e);var r=this.canvas_;if(r&&this.renderedRevision_==this.getRevision()&&r.getResolution()==e&&r.getPixelRatio()==i&&Z.default.containsExtent(r.getExtent(),t))return r;t=t.slice(),Z.default.scaleFromCenter(t,this.ratio_);var a=Z.default.getWidth(t)/e,o=Z.default.getHeight(t)/e,s=[a*i,o*i],l=this.canvasFunction_(t,e,i,s,n);return l&&(r=new hn(t,e,i,l)),this.canvas_=r,this.renderedRevision_=this.getRevision(),r};var dn=fn,pn=i("tOEd"),gn=function(t){this.source_=t.source,this.transform_=ot.a.create(),this.canvasContext_=K.a.createCanvasContext2D(),this.canvasSize_=[0,0],this.declutterTree_=re()(9),this.renderBuffer_=void 0==t.renderBuffer?100:t.renderBuffer,this.replayGroup_=null,dn.call(this,{attributions:t.attributions,canvasFunction:this.canvasFunctionInternal_.bind(this),logo:t.logo,projection:t.projection,ratio:t.ratio,resolutions:t.resolutions,state:this.source_.getState()}),this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),h.a.listen(this.source_,U.a.CHANGE,this.handleSourceChange_,this)};n.a.inherits(gn,dn),gn.prototype.canvasFunctionInternal_=function(t,e,i,n,r){var a=new Fe(ke.getTolerance(e,i),t,e,i,this.source_.getOverlaps(),this.declutterTree_,this.renderBuffer_);this.source_.loadFeatures(t,e,r);var o=!1;if(this.source_.forEachFeatureInExtent(t,function(t){o=o||this.renderFeature_(t,e,i,a)},this),a.finish(),o)return null;this.canvasSize_[0]!=n[0]||this.canvasSize_[1]!=n[1]?(this.canvasContext_.canvas.width=n[0],this.canvasContext_.canvas.height=n[1],this.canvasSize_[0]=n[0],this.canvasSize_[1]=n[1]):this.canvasContext_.clearRect(0,0,n[0],n[1]);var s=this.getTransform_(Z.default.getCenter(t),e,i,n);return a.replay(this.canvasContext_,s,0,{}),this.replayGroup_=a,this.declutterTree_.clear(),this.canvasContext_.canvas},gn.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,a,o){if(this.replayGroup_){var s={},l=this.replayGroup_.forEachFeatureAtCoordinate(t,e,0,r,a,function(t){var e=""+n.a.getUid(t);if(!(e in s))return s[e]=!0,o(t)},null);return this.declutterTree_.clear(),l}},gn.prototype.getSource=function(){return this.source_},gn.prototype.getStyle=function(){return this.style_},gn.prototype.getStyleFunction=function(){return this.styleFunction_},gn.prototype.getTransform_=function(t,e,i,n){var r=n[0]/2,a=n[1]/2,o=i/e;return ot.a.compose(this.transform_,r,a,o,-o,0,-t[0],-t[1])},gn.prototype.handleImageChange_=function(t){this.changed()},gn.prototype.handleSourceChange_=function(){this.setState(this.source_.getState())},gn.prototype.renderFeature_=function(t,e,i,n){var r,a=t.getStyleFunction();if(a?r=a.call(t,e):this.styleFunction_&&(r=this.styleFunction_(t,e)),!r)return!1;var o,s,l=!1;for(Array.isArray(r)||(r=[r]),o=0,s=r.length;s>o;++o)l=ke.renderFeature(n,t,r[o],ke.getSquaredTolerance(e,i),this.handleImageChange_,this)||l;return l},gn.prototype.setStyle=function(t){this.style_=void 0!==t?t:pn.default.defaultFunction,this.styleFunction_=t?pn.default.createFunction(this.style_):void 0,this.changed()};var mn=gn,_n=function(t,e){sn.call(this,t,e),this.image_=null,this.hitCanvasContext_=null,this.hitTransformationMatrix_=null};n.a.inherits(_n,sn),_n.handles=function(t,e){return t===rt.WEBGL&&e.getType()===Ct.a.IMAGE},_n.create=function(t,e){return new _n(t,e)},_n.prototype.createTexture_=function(t){var e=t.getImage(),i=this.mapRenderer.getGL();return vi.createTexture(i,e,Ve.a.CLAMP_TO_EDGE,Ve.a.CLAMP_TO_EDGE)},_n.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r){var a=this.getLayer();return a.getSource().forEachFeatureAtCoordinate(t,e.viewState.resolution,e.viewState.rotation,i,e.skippedFeatureUids,function(t){return n.call(r,t,a)})},_n.prototype.prepareFrame=function(t,e,i){var r=this.mapRenderer.getGL(),a=t.pixelRatio,o=t.viewState,s=o.center,l=o.resolution,u=o.rotation,h=this.image_,c=this.texture,f=this.getLayer(),d=f.getSource(),p=t.viewHints,g=t.extent;if(void 0!==e.extent&&(g=Z.default.getIntersection(g,e.extent)),!p[H.a.ANIMATING]&&!p[H.a.INTERACTING]&&!Z.default.isEmpty(g)){var m=o.projection;if(!n.a.ENABLE_RASTER_REPROJECTION){var _=d.getProjection();_&&(m=_)}var y=d.getImage(g,l,a,m);y&&this.loadImage(y)&&(h=y,c=this.createTexture_(y),this.texture)&&t.postRenderFunctions.push(function(t,e){t.isContextLost()||t.deleteTexture(e)}.bind(null,r,this.texture))}if(h){var v=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(v.width,v.height,a,s,l,u,h.getExtent()),this.hitTransformationMatrix_=null;var E=this.texCoordMatrix;ot.a.reset(E),ot.a.scale(E,1,-1),ot.a.translate(E,0,-1),this.image_=h,this.texture=c,this.updateLogos(t,d)}return!!h},_n.prototype.updateProjectionMatrix_=function(t,e,i,n,r,a,o){var s=t*r,l=e*r,u=this.projectionMatrix;ot.a.reset(u),ot.a.scale(u,2*i/s,2*i/l),ot.a.rotate(u,-a),ot.a.translate(u,o[0]-n[0],o[1]-n[1]),ot.a.scale(u,(o[2]-o[0])/2,(o[3]-o[1])/2),ot.a.translate(u,1,1)},_n.prototype.hasFeatureAtCoordinate=function(t,e){return void 0!==this.forEachFeatureAtCoordinate(t,e,0,J.a.TRUE,this)},_n.prototype.forEachLayerAtPixel=function(t,e,i,n){if(this.image_&&this.image_.getImage()){if(this.getLayer().getSource()instanceof mn)return this.forEachFeatureAtCoordinate(ot.a.apply(e.pixelToCoordinateTransform,t.slice()),e,0,J.a.TRUE,this)?i.call(n,this.getLayer(),null):void 0;var r=[this.image_.getImage().width,this.image_.getImage().height];this.hitTransformationMatrix_||(this.hitTransformationMatrix_=this.getHitTransformationMatrix_(e.size,r));var a=ot.a.apply(this.hitTransformationMatrix_,t.slice());if(!(0>a[0]||a[0]>r[0]||0>a[1]||a[1]>r[1])){this.hitCanvasContext_||(this.hitCanvasContext_=K.a.createCanvasContext2D(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.image_.getImage(),a[0],a[1],1,1,0,0,1,1);var o=this.hitCanvasContext_.getImageData(0,0,1,1).data;return o[3]>0?i.call(n,this.getLayer(),o):void 0}}},_n.prototype.getHitTransformationMatrix_=function(t,e){var i=ot.a.create();ot.a.translate(i,-1,-1),ot.a.scale(i,2/t[0],2/t[1]),ot.a.translate(i,0,t[1]),ot.a.scale(i,1,-1);var n=ot.a.invert(this.projectionMatrix.slice()),r=ot.a.create();return ot.a.translate(r,0,e[1]),ot.a.scale(r,1,-1),ot.a.scale(r,e[0]/2,e[1]/2),ot.a.translate(r,1,1),ot.a.multiply(r,n),ot.a.multiply(r,i),r};var yn=_n,vn=i("7h3G"),En=function(t,e){Jt.call(this,t,e),this.canvas_=document.createElement("CANVAS"),this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=ct.a.CLASS_UNSELECTABLE,t.insertBefore(this.canvas_,t.childNodes[0]||null),this.clipTileCanvasWidth_=0,this.clipTileCanvasHeight_=0,this.clipTileContext_=K.a.createCanvasContext2D(),this.renderedVisible_=!0,this.gl_=Ve.a.getContext(this.canvas_,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.context_=new vi(this.canvas_,this.gl_),h.a.listen(this.canvas_,_i.LOST,this.handleWebGLContextLost,this),h.a.listen(this.canvas_,_i.RESTORED,this.handleWebGLContextRestored,this),this.textureCache_=new vn.a,this.focus_=null,this.tileTextureQueue_=new X(function(t){var e=t[1],i=t[2],n=e[0]-this.focus_[0],r=e[1]-this.focus_[1];return 65536*Math.log(i)+Math.sqrt(n*n+r*r)/i}.bind(this),function(t){return t[0].getKey()}),this.loadNextTileTexture_=function(t,e){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();var i=this.tileTextureQueue_.dequeue();this.bindTileTexture(i[0],i[3],i[4],Ve.a.LINEAR,Ve.a.LINEAR)}return!1}.bind(this),this.textureCacheFrameMarkerCount_=0,this.initializeGL_()};n.a.inherits(En,Jt),En.handles=function(t){return s.a.WEBGL&&t===rt.WEBGL},En.create=function(t,e){return new En(t,e)},En.prototype.bindTileTexture=function(t,e,i,n,r){var a=this.getGL(),o=t.getKey();if(this.textureCache_.containsKey(o)){var s=this.textureCache_.get(o);a.bindTexture(Ve.a.TEXTURE_2D,s.texture),s.magFilter!=n&&(a.texParameteri(Ve.a.TEXTURE_2D,Ve.a.TEXTURE_MAG_FILTER,n),s.magFilter=n),s.minFilter!=r&&(a.texParameteri(Ve.a.TEXTURE_2D,Ve.a.TEXTURE_MIN_FILTER,r),s.minFilter=r)}else{var l=a.createTexture();if(a.bindTexture(Ve.a.TEXTURE_2D,l),i>0){var u=this.clipTileContext_.canvas,h=this.clipTileContext_;this.clipTileCanvasWidth_!==e[0]||this.clipTileCanvasHeight_!==e[1]?(u.width=e[0],u.height=e[1],this.clipTileCanvasWidth_=e[0],this.clipTileCanvasHeight_=e[1]):h.clearRect(0,0,e[0],e[1]),h.drawImage(t.getImage(),i,i,e[0],e[1],0,0,e[0],e[1]),a.texImage2D(Ve.a.TEXTURE_2D,0,Ve.a.RGBA,Ve.a.RGBA,Ve.a.UNSIGNED_BYTE,u)}else a.texImage2D(Ve.a.TEXTURE_2D,0,Ve.a.RGBA,Ve.a.RGBA,Ve.a.UNSIGNED_BYTE,t.getImage());a.texParameteri(Ve.a.TEXTURE_2D,Ve.a.TEXTURE_MAG_FILTER,n),a.texParameteri(Ve.a.TEXTURE_2D,Ve.a.TEXTURE_MIN_FILTER,r),a.texParameteri(Ve.a.TEXTURE_2D,Ve.a.TEXTURE_WRAP_S,Ve.a.CLAMP_TO_EDGE),a.texParameteri(Ve.a.TEXTURE_2D,Ve.a.TEXTURE_WRAP_T,Ve.a.CLAMP_TO_EDGE),this.textureCache_.set(o,{texture:l,magFilter:n,minFilter:r})}},En.prototype.dispatchComposeEvent_=function(t,e){var i=this.getMap();if(i.hasListener(t)){var n=this.context_,r=e.extent,a=e.size,o=e.viewState,s=e.pixelRatio,l=o.resolution,u=o.center,h=o.rotation,c=new tn(n,u,l,h,a,r,s);i.dispatchEvent(new Rt(t,c,e,null,n))}},En.prototype.disposeInternal=function(){var t=this.getGL();t.isContextLost()||this.textureCache_.forEach(function(e){e&&t.deleteTexture(e.texture)}),this.context_.dispose(),Jt.prototype.disposeInternal.call(this)},En.prototype.expireCache_=function(t,e){for(var i,r=this.getGL();this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>n.a.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK;){if(i=this.textureCache_.peekLast())r.deleteTexture(i.texture);else{if(+this.textureCache_.peekLastKey()==e.index)break;--this.textureCacheFrameMarkerCount_}this.textureCache_.pop()}},En.prototype.getContext=function(){return this.context_},En.prototype.getGL=function(){return this.gl_},En.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_},En.prototype.getType=function(){return rt.WEBGL},En.prototype.handleWebGLContextLost=function(t){t.preventDefault(),this.textureCache_.clear(),this.textureCacheFrameMarkerCount_=0;var e=this.getLayerRenderers();for(var i in e)e[i].handleWebGLContextLost()},En.prototype.handleWebGLContextRestored=function(){this.initializeGL_(),this.getMap().render()},En.prototype.initializeGL_=function(){var t=this.gl_;t.activeTexture(Ve.a.TEXTURE0),t.blendFuncSeparate(Ve.a.SRC_ALPHA,Ve.a.ONE_MINUS_SRC_ALPHA,Ve.a.ONE,Ve.a.ONE_MINUS_SRC_ALPHA),t.disable(Ve.a.CULL_FACE),t.disable(Ve.a.DEPTH_TEST),t.disable(Ve.a.SCISSOR_TEST),t.disable(Ve.a.STENCIL_TEST)},En.prototype.isTileTextureLoaded=function(t){return this.textureCache_.containsKey(t.getKey())},En.prototype.renderFrame=function(t){var e=this.getContext(),i=this.getGL();if(i.isContextLost())return!1;if(!t)return this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1),!1;this.focus_=t.focus,this.textureCache_.set(""+-t.index,null),++this.textureCacheFrameMarkerCount_,this.dispatchComposeEvent_(Mt.a.PRECOMPOSE,t);var r=[],a=t.layerStatesArray;T.a.stableSort(a,Jt.sortByZIndex);var o,s,l,u,h=t.viewState.resolution;for(o=0,s=a.length;s>o;++o)u=a[o],ft.default.visibleAtResolution(u,h)&&u.sourceState==jt.a.READY&&(l=this.getLayerRenderer(u.layer),l.prepareFrame(t,u,e)&&r.push(u));var c=t.size[0]*t.pixelRatio,f=t.size[1]*t.pixelRatio;for(this.canvas_.width==c&&this.canvas_.height==f||(this.canvas_.width=c,this.canvas_.height=f),i.bindFramebuffer(Ve.a.FRAMEBUFFER,null),i.clearColor(0,0,0,0),i.clear(Ve.a.COLOR_BUFFER_BIT),i.enable(Ve.a.BLEND),i.viewport(0,0,this.canvas_.width,this.canvas_.height),o=0,s=r.length;s>o;++o)u=r[o],l=this.getLayerRenderer(u.layer),l.composeFrame(t,u,e);this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.calculateMatrices2D(t),this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>n.a.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK&&t.postRenderFunctions.push(this.expireCache_.bind(this)),this.tileTextureQueue_.isEmpty()||(t.postRenderFunctions.push(this.loadNextTileTexture_),t.animate=!0),this.dispatchComposeEvent_(Mt.a.POSTCOMPOSE,t),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)},En.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r,a,o){var s;if(this.getGL().isContextLost())return!1;var l,u=e.viewState,h=e.layerStatesArray,c=h.length;for(l=c-1;l>=0;--l){var f=h[l],d=f.layer;if(ft.default.visibleAtResolution(f,u.resolution)&&a.call(o,d)&&(s=this.getLayerRenderer(d).forEachFeatureAtCoordinate(t,e,i,n,r)))return s}},En.prototype.hasFeatureAtCoordinate=function(t,e,i,n,r){var a=!1;if(this.getGL().isContextLost())return!1;var o,s=e.viewState,l=e.layerStatesArray,u=l.length;for(o=u-1;o>=0;--o){var h=l[o],c=h.layer;if(ft.default.visibleAtResolution(h,s.resolution)&&n.call(r,c)&&(a=this.getLayerRenderer(c).hasFeatureAtCoordinate(t,e)))return!0}return a},En.prototype.forEachLayerAtPixel=function(t,e,i,n,r,a){if(this.getGL().isContextLost())return!1;var o,s,l=e.viewState,u=e.layerStatesArray,h=u.length;for(s=h-1;s>=0;--s){var c=u[s],f=c.layer;if(ft.default.visibleAtResolution(c,l.resolution)&&r.call(n,f)&&(o=this.getLayerRenderer(f).forEachLayerAtPixel(t,e,i,n)))return o}};var bn=En,xn={};xn.fragment=new Ke(n.a.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n":"precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"),xn.vertex=new Je(n.a.DEBUG_WEBGL?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}");var Cn=xn,Sn=function(t,e){this.u_tileOffset=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_tileOffset":"d"),this.u_texture=t.getUniformLocation(e,n.a.DEBUG_WEBGL?"u_texture":"e"),this.a_position=t.getAttribLocation(e,n.a.DEBUG_WEBGL?"a_position":"b"),this.a_texCoord=t.getAttribLocation(e,n.a.DEBUG_WEBGL?"a_texCoord":"c")},Tn=Sn,Rn=function(t,e){sn.call(this,t,e),this.fragmentShader_=Cn.fragment,this.vertexShader_=Cn.vertex,this.locations_=null,this.renderArrayBuffer_=new ui([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,this.tmpSize_=[0,0]};n.a.inherits(Rn,sn),Rn.handles=function(t,e){return t===rt.WEBGL&&e.getType()===Ct.a.TILE},Rn.create=function(t,e){return new Rn(t,e)},Rn.prototype.disposeInternal=function(){this.mapRenderer.getContext().deleteBuffer(this.renderArrayBuffer_),sn.prototype.disposeInternal.call(this)},Rn.prototype.createLoadedTileFinder=function(t,e,i){var n=this.mapRenderer;return function(r,a){function o(t){var e=n.isTileTextureLoaded(t);return e&&(i[r]||(i[r]={}),i[r][""+t.tileCoord]=t),e}return t.forEachLoadedTile(e,r,a,o)}},Rn.prototype.handleWebGLContextLost=function(){sn.prototype.handleWebGLContextLost.call(this),this.locations_=null},Rn.prototype.prepareFrame=function(t,e,i){var n,r=this.mapRenderer,a=i.getGL(),o=t.viewState,s=o.projection,l=this.getLayer(),u=l.getSource(),h=u.getTileGridForProjection(s),c=h.getZForResolution(o.resolution),f=h.getResolution(c),d=u.getTilePixelSize(c,t.pixelRatio,s),p=d[0]/at.a.toSize(h.getTileSize(c),this.tmpSize_)[0],g=f/p,m=u.getTilePixelRatio(p)*u.getGutter(s),_=o.center,y=t.extent,v=h.getTileRangeForExtentAndZ(y,c);if(this.renderedTileRange_&&this.renderedTileRange_.equals(v)&&this.renderedRevision_==u.getRevision())n=this.renderedFramebufferExtent_;else{var E=v.getSize(),b=Math.max(E[0]*d[0],E[1]*d[1]),x=fe.a.roundUpToPowerOfTwo(b),C=g*x,S=h.getOrigin(c),R=S[0]+v.minX*d[0]*g,M=S[1]+v.minY*d[1]*g;n=[R,M,R+C,M+C],this.bindFramebuffer(t,x),a.viewport(0,0,x,x),a.clearColor(0,0,0,0),a.clear(Ve.a.COLOR_BUFFER_BIT),a.disable(Ve.a.BLEND);var w=i.getProgram(this.fragmentShader_,this.vertexShader_);i.useProgram(w),this.locations_||(this.locations_=new Tn(a,w)),i.bindBuffer(Ve.a.ARRAY_BUFFER,this.renderArrayBuffer_),a.enableVertexAttribArray(this.locations_.a_position),a.vertexAttribPointer(this.locations_.a_position,2,Ve.a.FLOAT,!1,16,0),a.enableVertexAttribArray(this.locations_.a_texCoord),a.vertexAttribPointer(this.locations_.a_texCoord,2,Ve.a.FLOAT,!1,16,8),a.uniform1i(this.locations_.u_texture,0);var O={};O[c]={};var A,I,P,L,N,F,D,k=this.createLoadedTileFinder(u,s,O),G=l.getUseInterimTilesOnError(),U=!0,B=Z.default.createEmpty(),W=new te.a(0,0,0,0);for(N=v.minX;v.maxX>=N;++N)for(F=v.minY;v.maxY>=F;++F)if(P=u.getTile(c,N,F,p,s),void 0===e.extent||(D=h.getTileCoordExtent(P.tileCoord,B),Z.default.intersects(D,e.extent))){if(L=P.getState(),I=L==j.a.LOADED||L==j.a.EMPTY||L==j.a.ERROR&&!G,I||(P=P.getInterimTile()),(L=P.getState())==j.a.LOADED){if(r.isTileTextureLoaded(P)){O[c][""+P.tileCoord]=P;continue}}else if(L==j.a.EMPTY||L==j.a.ERROR&&!G)continue;U=!1,h.forEachTileCoordParentTileRange(P.tileCoord,k,null,W,B)||(A=h.getTileCoordChildTileRange(P.tileCoord,W,B))&&k(c+1,A)}var z=Object.keys(O).map(Number);z.sort(T.a.numberSafeCompareFunction);var X,V,Y,q,H=new Float32Array(4);for(X=0,V=z.length;V>X;++X){q=O[z[X]];for(Y in q)P=q[Y],D=h.getTileCoordExtent(P.tileCoord,B),H[0]=2*(D[2]-D[0])/C,H[1]=2*(D[3]-D[1])/C,H[2]=2*(D[0]-n[0])/C-1,H[3]=2*(D[1]-n[1])/C-1,a.uniform4fv(this.locations_.u_tileOffset,H),r.bindTileTexture(P,d,m*p,Ve.a.LINEAR,Ve.a.LINEAR),a.drawArrays(Ve.a.TRIANGLE_STRIP,0,4)}U?(this.renderedTileRange_=v,this.renderedFramebufferExtent_=n,this.renderedRevision_=u.getRevision()):(this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,t.animate=!0)}this.updateUsedTiles(t.usedTiles,u,c,v);var K=r.getTileTextureQueue();this.manageTilePyramid(t,u,h,p,s,y,c,l.getPreload(),function(t){t.getState()!=j.a.LOADED||r.isTileTextureLoaded(t)||K.isKeyQueued(t.getKey())||K.enqueue([t,h.getTileCoordCenter(t.tileCoord),h.getResolution(t.tileCoord[0]),d,m*p])},this),this.scheduleExpireCache(t,u),this.updateLogos(t,u);var J=this.texCoordMatrix;return ot.a.reset(J),ot.a.translate(J,(Math.round(_[0]/f)*f-n[0])/(n[2]-n[0]),(Math.round(_[1]/f)*f-n[1])/(n[3]-n[1])),0!==o.rotation&&ot.a.rotate(J,o.rotation),ot.a.scale(J,t.size[0]*o.resolution/(n[2]-n[0]),t.size[1]*o.resolution/(n[3]-n[1])),ot.a.translate(J,-.5,-.5),!0},Rn.prototype.forEachLayerAtPixel=function(t,e,i,n){if(this.framebuffer){var r=[t[0]/e.size[0],(e.size[1]-t[1])/e.size[1]],a=ot.a.apply(this.texCoordMatrix,r.slice()),o=[a[0]*this.framebufferDimension,a[1]*this.framebufferDimension],s=this.mapRenderer.getContext().getGL();s.bindFramebuffer(s.FRAMEBUFFER,this.framebuffer);var l=new Uint8Array(4);return s.readPixels(o[0],o[1],1,1,s.RGBA,s.UNSIGNED_BYTE,l),l[3]>0?i.call(n,this.getLayer(),l):void 0}};var Mn=Rn,wn=function(t,e){sn.call(this,t,e),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Z.default.createEmpty(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.layerState_=null};n.a.inherits(wn,sn),wn.handles=function(t,e){return t===rt.WEBGL&&e.getType()===Ct.a.VECTOR},wn.create=function(t,e){return new wn(t,e)},wn.prototype.composeFrame=function(t,e,i){this.layerState_=e;var n=t.viewState,r=this.replayGroup_,a=t.size,o=t.pixelRatio,s=this.mapRenderer.getGL();r&&!r.isEmpty()&&(s.enable(s.SCISSOR_TEST),s.scissor(0,0,a[0]*o,a[1]*o),r.replay(i,n.center,n.resolution,n.rotation,a,o,e.opacity,e.managed?t.skippedFeatureUids:{}),s.disable(s.SCISSOR_TEST))},wn.prototype.disposeInternal=function(){var t=this.replayGroup_;t&&(t.getDeleteResourcesFunction(this.mapRenderer.getContext())(),this.replayGroup_=null),sn.prototype.disposeInternal.call(this)},wn.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,a){if(this.replayGroup_&&this.layerState_){var o=this.mapRenderer.getContext(),s=e.viewState,l=this.getLayer(),u=this.layerState_,h={};return this.replayGroup_.forEachFeatureAtCoordinate(t,o,s.center,s.resolution,s.rotation,e.size,e.pixelRatio,u.opacity,{},function(t){var e=""+n.a.getUid(t);if(!(e in h))return h[e]=!0,r.call(a,t,l)})}},wn.prototype.hasFeatureAtCoordinate=function(t,e){if(this.replayGroup_&&this.layerState_){var i=this.mapRenderer.getContext(),n=e.viewState;return this.replayGroup_.hasFeatureAtCoordinate(t,i,n.center,n.resolution,n.rotation,e.size,e.pixelRatio,this.layerState_.opacity,e.skippedFeatureUids)}return!1},wn.prototype.forEachLayerAtPixel=function(t,e,i,n){return this.hasFeatureAtCoordinate(ot.a.apply(e.pixelToCoordinateTransform,t.slice()),e)?i.call(n,this.getLayer(),null):void 0},wn.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},wn.prototype.prepareFrame=function(t,e,i){var n=this.getLayer(),r=n.getSource();this.updateLogos(t,r);var a=t.viewHints[H.a.ANIMATING],o=t.viewHints[H.a.INTERACTING],s=n.getUpdateWhileAnimating(),l=n.getUpdateWhileInteracting();if(!this.dirty_&&!s&&a||!l&&o)return!0;var u=t.extent,h=t.viewState,c=h.projection,f=h.resolution,d=t.pixelRatio,p=n.getRevision(),g=n.getRenderBuffer(),m=n.getRenderOrder();void 0===m&&(m=ke.defaultOrder);var _=Z.default.buffer(u,g*f);if(!this.dirty_&&this.renderedResolution_==f&&this.renderedRevision_==p&&this.renderedRenderOrder_==m&&Z.default.containsExtent(this.renderedExtent_,_))return!0;this.replayGroup_&&t.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(i)),this.dirty_=!1;var y=new Qi(ke.getTolerance(f,d),_,n.getRenderBuffer());r.loadFeatures(_,f,c);var v=function(t){var e,i=t.getStyleFunction();if(i?e=i.call(t,f):(i=n.getStyleFunction())&&(e=i(t,f)),e){var r=this.renderFeature(t,f,d,e,y);this.dirty_=this.dirty_||r}};if(m){var E=[];r.forEachFeatureInExtent(_,function(t){E.push(t)},this),E.sort(m),E.forEach(v,this)}else r.forEachFeatureInExtent(_,v,this);return y.finish(i),this.renderedResolution_=f,this.renderedRevision_=p,this.renderedRenderOrder_=m,this.renderedExtent_=_,this.replayGroup_=y,!0},wn.prototype.renderFeature=function(t,e,i,n,r){if(!n)return!1;var a=!1;if(Array.isArray(n))for(var o=n.length-1;o>=0;--o)a=ke.renderFeature(r,t,n[o],ke.getSquaredTolerance(e,i),this.handleStyleImageChange_,this)||a;else a=ke.renderFeature(r,t,n,ke.getSquaredTolerance(e,i),this.handleStyleImageChange_,this)||a;return a};var On=wn;n.a.ENABLE_CANVAS&&(it.register(tt.MAP_RENDERER,$t),it.registerMultiple(tt.LAYER_RENDERER,[qt,ie,je,Xe])),n.a.ENABLE_WEBGL&&(it.register(tt.MAP_RENDERER,bn),it.registerMultiple(tt.LAYER_RENDERER,[yn,Mn,On]));var An=function(t){t=W.a.assign({},t),t.controls||(t.controls=bt.defaults()),t.interactions||(t.interactions=xt.default.defaults()),lt.call(this,t)};n.a.inherits(An,lt),e.default=An},A4of:function(t,e,i){"use strict";t.exports=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},A6q1:function(t,e,i){"use strict";var n=i("CXX0"),r=i("sR3l"),a=i("/LWt"),o=i("V2dr"),s=i("RUSk"),l=i("yGLh"),u=i("Ae3H"),h=i("azsZ"),c=function(){r.a.call(this),this.extent_=a.default.createEmpty(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.tmpTransform_=h.a.create()};n.a.inherits(c,r.a),c.prototype.clone=function(){},c.prototype.closestPointXY=function(t,e,i,n){},c.prototype.getClosestPoint=function(t,e){var i=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],i,1/0),i},c.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},c.prototype.computeExtent=function(t){},c.prototype.containsXY=o.a.FALSE,c.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),a.default.returnOrUpdate(this.extent_,t)},c.prototype.rotate=function(t,e){},c.prototype.scale=function(t,e,i){},c.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},c.prototype.getSimplifiedGeometry=function(t){},c.prototype.getType=function(){},c.prototype.applyTransform=function(t){},c.prototype.intersectsExtent=function(t){},c.prototype.translate=function(t,e){},c.prototype.transform=function(t,e){var i=this.tmpTransform_;return t=l.default.get(t),this.applyTransform(t.getUnits()==u.a.TILE_PIXELS?function(n,r,o){var u=t.getExtent(),c=t.getWorldExtent(),f=a.default.getHeight(c)/a.default.getHeight(u);return h.a.compose(i,c[0],c[3],f,-f,0,0,0),s.a.transform2D(n,0,n.length,o,i,r),l.default.getTransform(t,e)(n,r,o)}:l.default.getTransform(t,e)),this},e.a=c},AAKd:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i("GiK3"),l=n(s),u=i("KSGD"),h=n(u),c=i("03MR"),f=n(c),d=f.default.struct({x:f.default.Number,y:f.default.Number}),p={fields:{x:{label:"Longitude (X)",type:"number"},y:{label:"Latitude (Y)",type:"number"}}},g=function(t){function e(i){return r(this,e),a(this,t.call(this,i))}return o(e,t),e.prototype.componentDidUpdate=function(t,e){this.props.map.updateSize()},e.prototype.componentDidMount=function(){var t=this.props,e=t.map,i=t.mapInit;e.setTarget(this.mapDiv),i()},e.prototype.render=function(){var t=this,e=this.props,i=e.locationValue,n=e.toggleComponent,r=e.onSave;return l.default.createElement("div",{className:e.extraClasses},l.default.createElement("div",{className:"panel panel-primary"},l.default.createElement("div",{className:"panel-heading"},"Set Location"),l.default.createElement("div",{className:"panel-body"},l.default.createElement(f.default.form.Form,{ref:function(e){return t.xyForm=e},type:d,options:p,value:i,onChange:function(t){return r(t)}}),l.default.createElement("div",{id:"map-ct",ref:function(e){return t.mapDiv=e},className:" map-ct"}))),l.default.createElement("div",{className:"row"},l.default.createElement("div",{className:"col-xs-12 col-sm-6 col-md-6col-lg-6 text-center"},l.default.createElement("button",{onClick:function(){return n("fileForm")},className:"btn btn-block  btn-primary"},"Previous")),l.default.createElement("div",{className:"col-xs-12 col-sm-6 col-md-6 col-lg-6  text-center"},l.default.createElement("button",{onClick:function(){return n("detailsPage")},className:"btn btn-block  btn-primary"},"Next"))))},e}(s.Component);e.default=g,g.propTypes={toggleComponent:h.default.func.isRequired,locationValue:h.default.object,map:h.default.object.isRequired,extraClasses:h.default.string,onSave:h.default.func.isRequired,mapInit:h.default.func.isRequired}},APD3:function(t,e,i){"use strict";function n(t){return t.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;t.exports=n},Aa1x:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i("GiK3"),l=n(s),u=i("d9W9"),h=n(u),c=i("KSGD"),f=n(c),d=function(t){function e(i){r(this,e);var n=a(this,t.call(this,i));return n.save=function(){var t=n.props,e=t.onSave,i=t.toggleComponent,r=t.file;r&&(e(r),i("locationForm"))},n.state={messages:""},n}return o(e,t),e.prototype.getFiles=function(t){var e=this;RegExp("^image/*","i").test(t.type)?Math.ceil(t.file.size/Math.pow(1024,2),2)>5?this.setState({messages:"Max File Size is 5 MB"},function(){return e.props.onSave(null)}):this.setState({messages:""},function(){return e.props.onSave(t)}):this.setState({messages:"this file isn't an image"},function(){return e.props.onSave(null)})},e.prototype.render=function(){var t=this,e=this.state.messages,i=this.props,n=i.file,r=i.toggleComponent;return l.default.createElement("div",{className:i.extraClasses},l.default.createElement("div",{className:"panel panel-primary"},l.default.createElement("div",{className:"panel-heading"},"Images"),l.default.createElement("div",{className:"panel-body"},l.default.createElement(h.default,{multiple:!1,onDone:this.getFiles.bind(this)}),l.default.createElement("h4",{style:{color:"red"}},e),n&&l.default.createElement("div",{className:"row",style:{marginTop:"5%"}},l.default.createElement("div",{className:"col-xs-12 col-sm-12 col-md-6 col-md-offset-3"},l.default.createElement("img",{className:"img-responsive",src:n.base64}))))),l.default.createElement("div",{className:"row"},l.default.createElement("div",{className:"col-xs-12 col-sm-6 col-md-6col-lg-6 text-center"},l.default.createElement("button",{onClick:function(){return r("attrsForm")},className:"btn btn-block  btn-primary"},"Previous")),l.default.createElement("div",{className:"col-xs-12 col-sm-6 col-md-6 col-lg-6  text-center"},l.default.createElement("button",{onClick:function(){return t.save()},className:n?"btn btn-block btn-primary":"btn btn-block btn-primary disabled"},"Next"))))},e}(s.Component);e.default=d,d.propTypes={toggleComponent:f.default.func.isRequired,onSave:f.default.func.isRequired,file:f.default.object,extraClasses:f.default.string}},Ae3H:function(t,e,i){"use strict";var n={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};n.METERS_PER_UNIT={},n.METERS_PER_UNIT[n.DEGREES]=2*Math.PI*6370997/360,n.METERS_PER_UNIT[n.FEET]=.3048,n.METERS_PER_UNIT[n.METERS]=1,n.METERS_PER_UNIT[n.USFEET]=1200/3937,e.a=n},ApDP:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("ECY+"),a=i("bHOE"),o=function(t){a.default.call(this,t||{}),this.type=r.a.IMAGE};n.a.inherits(o,a.default),e.default=o},B87n:function(t,e,i){"use strict";e.a={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},BV9W:function(t,e,i){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3}},CTDj:function(t,e,i){"use strict";var n={};n.CLASS_HIDDEN="ol-hidden",n.CLASS_SELECTABLE="ol-selectable",n.CLASS_UNSELECTABLE="ol-unselectable",n.CLASS_UNSUPPORTED="ol-unsupported",n.CLASS_CONTROL="ol-control",n.getFontFamilies=function(){var t,e={};return function(i){if(t||(t=document.createElement("div").style),!(i in e)){t.font=i;var n=t.fontFamily;if(t.font="",!n)return null;e[i]=n.split(/,\s?/)}return e[i]}}(),e.a=n},CXX0:function(t,e,i){"use strict";var n={};n.ASSUME_TOUCH=!1,n.DEFAULT_MAX_ZOOM=42,n.DEFAULT_MIN_ZOOM=0,n.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD=.5,n.DEFAULT_TILE_SIZE=256,n.DEFAULT_WMS_VERSION="1.3.0",n.ENABLE_CANVAS=!0,n.ENABLE_PROJ4JS=!0,n.ENABLE_RASTER_REPROJECTION=!0,n.ENABLE_WEBGL=!0,n.DEBUG_WEBGL=!0,n.INITIAL_ATLAS_SIZE=256,n.MAX_ATLAS_SIZE=-1,n.MOUSEWHEELZOOM_MAXDELTA=1,n.OVERVIEWMAP_MAX_RATIO=.75,n.OVERVIEWMAP_MIN_RATIO=.1,n.RASTER_REPROJECTION_MAX_SOURCE_TILES=100,n.RASTER_REPROJECTION_MAX_SUBDIVISION=10,n.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH=.25,n.SIMPLIFY_TOLERANCE=.5,n.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK=1024,n.VERSION="v4.5.0",n.inherits=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},n.nullFunction=function(){},n.getUid=function(t){return t.ol_uid||(t.ol_uid=++n.uidCounter_)},n.uidCounter_=0,e.a=n},"D+Oo":function(t,e,i){"use strict";function n(t){return t.replace(r,function(t,e){return e.toUpperCase()})}var r=/-(.)/g;t.exports=n},D9NH:function(t,e,i){t.exports=i.p+"1a54725b54a72d093dd9f64864c76ec0.png"},DGJA:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};i("Lf3R");var l=i("GiK3"),u=n(l),h=i("clia"),c=i("c5ES"),f=n(c),d=i("ngwR"),p=n(d),g=i("l87I"),m=n(g),_=i("jTtL"),y=n(_),v=i("I+CZ"),E=n(v),b=i("KSGD"),x=n(b),C=i("pXBX"),S=n(C),T=i("v6PS"),R=function(t){function e(i){r(this,e);var n=a(this,t.call(this,i));return M.call(n),n.state={currentComponent:"attrsForm",showHistory:!1,file:null,feature:null,locationValue:null,schema:null,fields:null,value:null,targetNameSpace:null,saving:!1,geometryName:null,geometryType:null,selectionLayer:!1,map:p.default.getMap()},n.urls=new S.default(n.props.urls),n}return o(e,t),e.prototype.componentWillMount=function(){var t=this.props.config,e=p.default.buildForm(t.config.attributes);this.setState(s({},e))},e.prototype.render=function(){var t=this;return u.default.createElement(f.default,{ref:function(e){return t.geoCollect=e},childrenProps:this.getChildrenProps()})},e}(l.Component),M=function(){var t=this;this.setFeatureAttibutes=function(){var e=t.state,i=e.feature,n=e.value;Object.keys(n).map(function(t){i.set(t,n[t])}),t.setState({feature:i})},this.saveLog=function(){var e=t.props,i=e.urls,n=e.config,r=t.state.value,a=i.historyListCreate,o=JSON.stringify({layer:n.config.layer,data:r});fetch(a,{method:"POST",credentials:"same-origin",headers:new Headers({"Content-Type":"application/json; charset=UTF-8","X-CSRFToken":(0,T.getCRSFToken)()}),body:o}).then(function(e){t.setState({saving:!1}),t.geoCollect.showMessage("Your Data Saved successfully","success")})},this.showHistoryModal=function(){t.setState({showHistory:!t.state.showHistory})},this.saveAttachments=function(e){var i=t.state.file,n=t.props,r=n.username,a=n.config,o=n.urls,s=m.default.layerName(a.config.layer),l={file:i.base64,file_name:i.name,username:r,is_image:!0,feature_id:e,tags:["geo_collect_"+s]};(0,h.doPost)(o.attachmentUploadUrl(s),JSON.stringify(l),{"Content-Type":"application/json; charset=UTF-8"}).then(function(e){return t.saveLog()})},this.sendRequest=function(){var e=t.props,i=e.urls,n=e.config,r=n.config.layer,a=t.state,o=a.feature,s=a.map,l=a.targetNameSpace,u=p.default.wfsTransaction(o,r,l,s.getView().getProjection().getCode()),c=t.urls.getProxiedURL(i.wfsURL);return(0,h.doPost)(c,u,{"Content-Type":"text/xml"},"xml").then(function(e){var i=new DOMParser,n=i.parseFromString(e,"text/xml"),r=n.getElementsByTagNameNS("http://www.opengis.net/ogc","FeatureId");if(r.length>0){var a=r[0].getAttribute("fid");t.saveAttachments(a)}}).catch(function(e){t.geoCollect.showMessage("Error while saving Data please Contact our Support","error")})},this.saveAll=function(){var e=t.state,i=e.feature,n=e.value;Object.keys(n).map(function(t){i.set(t,n[t])}),t.setState({feature:i,saving:!0,currentComponent:"savingPanel"},t.sendRequest)},this.setFormValue=function(e){t.setState({value:e})},this.setFileFormValue=function(e){t.setState({file:e})},this.changeLocationValue=function(e){var i=t.state;i.feature.setGeometry(p.default.getGeomerty([e.x,e.y],i.geometryType)),t.setState({locationValue:e})},this.onFeatureMove=function(e){var i=t.state,n=i.feature,r=i.geometryType,a=n.getGeometry().getCoordinates();"MultiPoint"===r&&(a=a[0]),t.setState({locationValue:{x:a[0],y:a[1]}})},this.buildDescribeFeatureTypeURL=function(e){return t.urls.wfsQueryBuilder(t.props.urls.wfsURL,{version:"1.3.0",request:"describeFeatureType",outputFormat:"application/json",service:"WFS",typeName:e})},this.getGeometryName=function(){var e=t.props.config,i=t.state.map,n=t.buildDescribeFeatureTypeURL(e.config.layer);(0,h.doGet)(n).then(function(e){e.featureTypes[0].properties.forEach(function(n){if(n.type.includes("gml:")){var r={targetNameSpace:e.targetNamespace,geometryName:n.name,geometryType:n.type.split(":").pop()};t.setState(s({},r),function(){return t.onMapReady(i.getView().getCenter())})}})})},this.onMapReady=function(e){var i=t.state,n=i.map,r=i.selectionLayer,a=i.geometryName,o=i.geometryType,s={x:e[0],y:e[1]},l=p.default.getPointFeature(e,a,o),u=p.default.getVectorLayer(l),h=p.default.getModifyInteraction(l);r||(n.addLayer(u),h.on("modifyend",t.onFeatureMove),n.addInteraction(h),h.setActive(!0),t.setState({feature:l,selectionLayer:!0,map:n,locationValue:s}))},this.mapInit=function(){var e=t.props.urls,i=t.state.map;fetch(e.mapJsonUrl,{method:"GET",credentials:"include"}).then(function(t){return t.json()}).then(function(n){y.default.load(E.default.transform(n),i,e.proxy),t.getGeometryName()})},this.toggleComponent=function(e){t.setState({currentComponent:e})},this.getChildrenProps=function(){var e=t.props;return s({},t.state,{config:e.config,urls:e.urls,username:e.username,toggleComponent:t.toggleComponent,setFormValue:t.setFormValue,setFileFormValue:t.setFileFormValue,changeLocationValue:t.changeLocationValue,mapInit:t.mapInit,saveAll:t.saveAll,showHistoryModal:t.showHistoryModal})}};R.propTypes={urls:x.default.object.isRequired,config:x.default.object.isRequired,username:x.default.string.isRequired},e.default=R},"ECY+":function(t,e,i){"use strict";e.a={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"}},EnGD:function(t,e,i){"use strict";e.__esModule=!0;var n=i("yGLh"),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={getProxiedUrl:function(t,e){return e?e+encodeURIComponent(t):t},getResolutionForScale:function(t,e){var i=r.default.METERS_PER_UNIT[e];return parseFloat(t)/(39.37*i*(25.4/.28))},getTimeInfo:function(t){if(t.Dimension)for(var e=0,i=t.Dimension.length;i>e;++e){var n=t.Dimension[e];if("time"===n.name)return n.values}},rgbToHex:function(t){return t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),t&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""},hexToRgb:function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},transformColor:function(t){var e=t.rgb?t.rgb:t;return[e.r,e.g,e.b,e.a]},doJSONP:function(t,e,i,n){var r="fn"+Date.now()+function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t}(1,1e4),a=document.createElement("script");a.onerror=function(){i&&i.call(n)},a.src=t.replace("__cbname__",r),window[r]=function(t){e.call(n,t),delete window[r]},document.head.appendChild(a)},doGET:function(t,e,i,n,r){var a=new XMLHttpRequest;if(a.onreadystatechange=function(){4===a.readyState&&(200===a.status?e&&e.call(n,a):i&&i.call(n,a))},a.open("GET",t,!0),r)for(var o in r)r.hasOwnProperty(o)&&a.setRequestHeader(o,r[o]);return a.send(),a},doPOST:function(t,e,i,n,r,a,o,s){var l=new XMLHttpRequest;if(l.open(o?"PUT":"POST",t,!0),l.setRequestHeader("Content-Type",a||"text/xml"),l.onreadystatechange=function(){4===l.readyState&&(200===l.status||201===l.status?i.call(r,l):n.call(r,l))},s)for(var u in s)s.hasOwnProperty(u)&&l.setRequestHeader(u,s[u]);return l.send(e),l}}},EqHm:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i){return null==e||"boolean"==typeof e||""===e?"":isNaN(e)||0===e||l.hasOwnProperty(t)&&l[t]?""+e:("string"==typeof e&&(e=e.trim()),e+"px")}Object.defineProperty(e,"__esModule",{value:!0});var a=i("FMau"),o=n(a),s=i("YyeZ"),l=(n(s),o.default.isUnitlessNumber);e.default=r},F0gO:function(t,e,i){var n=i("6jsf");t.exports=function(t){t=t||22;for(var e="",i=n(t),r=0;t>r;r++)e+="_~0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[63&i[r]];return e}},FL23:function(t,e,i){"use strict";t.exports={current:null}},FMau:function(t,e,i){"use strict";function n(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}Object.defineProperty(e,"__esModule",{value:!0});var r={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowStart:!0,gridRowEnd:!0,gridColumn:!0,gridColumnStart:!0,gridColumnEnd:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(t){a.forEach(function(e){r[n(e,t)]=r[t]})}),e.default={isUnitlessNumber:r,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}}},FeXB:function(t,e,i){"use strict";var n=i("OEyb"),r=i("o1z/"),a={};a.HEX_COLOR_RE_=/^#(?:[0-9a-f]{3,4}){1,2}$/i,a.NAMED_COLOR_RE_=/^([a-z]*)$/i,a.asArray=function(t){return Array.isArray(t)?t:a.fromString(t)},a.asString=function(t){return"string"==typeof t?t:a.toString(t)},a.fromNamed=function(t){var e=document.createElement("div");e.style.color=t,document.body.appendChild(e);var i=getComputedStyle(e).color;return document.body.removeChild(e),i},a.fromString=function(){var t={},e=0;return function(i){var n;if(t.hasOwnProperty(i))n=t[i];else{if(e>=1024){var r,o=0;for(r in t)0==(3&o++)&&(delete t[r],--e)}n=a.fromStringInternal_(i),t[i]=n,++e}return n}}(),a.fromStringInternal_=function(t){var e,i,r,o,s,l;if(a.NAMED_COLOR_RE_.exec(t)&&(t=a.fromNamed(t)),a.HEX_COLOR_RE_.exec(t)){var u,h=t.length-1;u=h>4?2:1;var c=4===h||8===h;e=parseInt(t.substr(1+0*u,u),16),i=parseInt(t.substr(1+1*u,u),16),r=parseInt(t.substr(1+2*u,u),16),o=c?parseInt(t.substr(1+3*u,u),16):255,1==u&&(e=(e<<4)+e,i=(i<<4)+i,r=(r<<4)+r,c&&(o=(o<<4)+o)),s=[e,i,r,o/255]}else 0==t.indexOf("rgba(")?(l=t.slice(5,-1).split(",").map(Number),s=a.normalize(l)):0==t.indexOf("rgb(")?(l=t.slice(4,-1).split(",").map(Number),l.push(1),s=a.normalize(l)):n.a.assert(!1,14);return s},a.normalize=function(t,e){var i=e||[];return i[0]=r.a.clamp(t[0]+.5|0,0,255),i[1]=r.a.clamp(t[1]+.5|0,0,255),i[2]=r.a.clamp(t[2]+.5|0,0,255),i[3]=r.a.clamp(t[3],0,1),i},a.toString=function(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var i=t[1];i!=(0|i)&&(i=i+.5|0);var n=t[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+e+","+i+","+n+","+(void 0===t[3]?1:t[3])+")"},e.a=a},GvBW:function(t,e,i){"use strict";var n=function(){};t.exports=n},HEWY:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);t.length>e;e++)i[e]=t[e];return i}return Array.from(t)}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t){return Vt.speedy(t)}function s(){Zt=!(arguments.length>0&&void 0!==arguments[0]&&!arguments[0])}function l(){for(var t=arguments.length,e=Array(t),i=0;t>i;i++)e[i]=arguments[i];return e=(0,Bt.default)(e),e?Zt?e.reduce(function(t,e){return t["data-simulate-"+h(e)]="",t},{}):(Jt||(console.warn("can't simulate without once calling simulations(true)"),Jt=!0),qt||Ht||Qt||(console.warn("don't use simulation outside dev"),Qt=!0),{}):{}}function u(t){$t=!!t}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.toLowerCase().replace(/[^a-z0-9]/g,e)}function c(t){var e=JSON.stringify(t),i=(0,Xt.default)(e).toString(36);return t.label&&t.label.length>0&&qt?h(t.label.join("."),"-")+"-"+i:i}function f(t){var e=Object.keys(t).filter(function(t){return"toString"!==t});return 1===e.length&&!!/data\-css\-([a-zA-Z0-9\-_]+)/.exec(e[0])}function d(t){var e=Object.keys(t).filter(function(t){return"toString"!==t});if(1!==e.length)throw Error("not a rule");var i=/data\-css\-([a-zA-Z0-9\-_]+)/,n=i.exec(e[0]);if(!n)throw Error("not a rule");return n[1]}function p(t){if(-1===t.indexOf(","))return[t];for(var e,i=[],n=[],r=0;e=te.exec(t);)switch(e[0]){case"(":r++;break;case")":r--;break;case",":if(r)break;i.push(e.index)}for(e=i.length;e--;)n.unshift(t.slice(i[e]+1)),t=t.slice(0,i[e]);return n.unshift(t),n}function g(t,e){if(!t)return e.replace(/\&/g,"");if(!e)return".css-"+t+",[data-css-"+t+"]";var i=p(e).map(function(e){return 0>e.indexOf("&")?".css-"+t+e+",[data-css-"+t+"]"+e:[e.replace(/\&/gm,".css-"+t),e.replace(/\&/gm,"[data-css-"+t+"]")].join(",")}).join(",");return Zt&&/^\&\:/.exec(e)&&!/\s/.exec(e)&&(i+=",.css-"+t+"[data-simulate-"+h(e)+"],[data-css-"+t+"][data-simulate-"+h(e)+"]"),i}function m(t){var e=t.selector,i=t.style,n=Yt.transform({selector:e,style:i});return n.selector+"{"+(0,jt.createMarkupForStyles)(n.style)+"}"}function _(t){var e=void 0,i=void 0,n=void 0,r=void 0;return Object.keys(t).forEach(function(a){0>a.indexOf("&")?0===a.indexOf("@media")?(n=n||{},n[a]=_(t[a])):0===a.indexOf("@supports")?(r=r||{},r[a]=_(t[a])):"label"===a?t.label.length>0&&(e=e||{},e.label=$t?t.label.join("."):""):(e=e||{},e[a]=t[a]):(i=i||{},i[a]=t[a])}),{plain:e,selects:i,medias:n,supports:r}}function y(t,e){var i=[],n=e.plain,r=e.selects,a=e.medias,o=e.supports;return n&&i.push(m({style:n,selector:g(t)})),r&&Object.keys(r).forEach(function(e){return i.push(m({style:r[e],selector:g(t,e)}))}),a&&Object.keys(a).forEach(function(e){return i.push(e+"{"+y(t,a[e]).join("")+"}")}),o&&Object.keys(o).forEach(function(e){return i.push(e+"{"+y(t,o[e]).join("")+"}")}),i}function v(t){if(!ee[t.id]){ee[t.id]=!0;var e=_(t.style),i=y(t.id,e);ee[t.id]=!!Kt||i,i.forEach(function(t){return Vt.insert(t)})}}function E(t){ie[t.id]||(ie[t.id]=t)}function b(t){if(f(t)){var e=ie[d(t)];if(null==e)throw Error("[glamor] an unexpected rule cache miss occurred. This is probably a sign of multiple glamor instances in your app. See https://github.com/threepointone/glamor/issues/79");return e}return t}function x(t){if(E(t),v(t),ne[t.id])return ne[t.id];var e=a({},"data-css-"+t.id,$t?t.label||"":"");return Object.defineProperty(e,"toString",{enumerable:!1,value:function(){return"css-"+t.id}}),ne[t.id]=e,e}function C(t){for(var e=[":",".","[",">"," "],i=!1,n=t.charAt(0),r=0;5>r;r++)if(n===e[r]){i=!0;break}return i||t.indexOf("&")>=0}function S(t,e){var i=p(t).map(function(t){return t.indexOf("&")<0?"&"+t:t});return p(e).map(function(t){return t.indexOf("&")<0?"&"+t:t}).reduce(function(t,e){return t.concat(i.map(function(t){return e.replace(/\&/g,t)}))},[]).join(",")}function T(t,e){return t?"@media "+t.substring(6)+" and "+e.substring(6):e}function R(t){return 0===t.indexOf("@media")}function M(t){return 0===t.indexOf("@supports")}function w(t,e){return t?"@supports "+t.substring(9)+" and "+e.substring(9):e}function O(t){for(var e=[],i=0;t.length>i;i++)e=e.concat(Array.isArray(t[i])?O(t[i]):t[i]);return e}function A(t,e){var i=e.selector,n=void 0===i?"":i,r=e.mq,a=void 0===r?"":r,o=e.supp,s=void 0===o?"":o,l=e.src,u=void 0===l?{}:l;Array.isArray(u)||(u=[u]),u=O(u),u.forEach(function(e){if(f(e)){var i=b(e);if("css"!==i.type)throw Error("cannot merge this rule");e=i.style}e=(0,Bt.default)(e),e&&e.composes&&A(t,{selector:n,mq:a,supp:s,src:e.composes}),Object.keys(e||{}).forEach(function(i){if(C(i))re[i]&&re[i].forEach(function(r){return A(t,{selector:S(n,r),mq:a,supp:s,src:e[i]})}),A(t,{selector:S(n,i),mq:a,supp:s,src:e[i]});else if(R(i))A(t,{selector:n,mq:T(a,i),supp:s,src:e[i]});else if(M(i))A(t,{selector:n,mq:a,supp:w(s,i),src:e[i]});else if("composes"===i);else{var r=t;s&&(r[s]=r[s]||{},r=r[s]),a&&(r[a]=r[a]||{},r=r[a]),n&&(r[n]=r[n]||{},r=r[n]),"label"===i?$t&&(t.label=t.label.concat(e.label)):r[i]=e[i]}})})}function I(t){var e={label:[]};return A(e,{src:t}),x({id:c(e),style:e,label:$t?e.label.join("."):"",type:"css"})}function P(){for(var t=arguments.length,e=Array(t),i=0;t>i;i++)e[i]=arguments[i];if(e[0]&&e[0].length&&e[0].raw)throw Error("you forgot to include glamor/babel in your babel plugins.");return e=(0,Bt.default)(e),e?le(e):ae}function L(t){if(!ee[t.id]){var e=Object.keys(t.keyframes).map(function(e){var i=Yt.keyframes.transform({id:t.id,name:e,style:t.keyframes[e]});return i.name+"{"+(0,jt.createMarkupForStyles)(i.style)+"}"}).join(""),i=["-webkit-","-moz-","-o-",""].map(function(i){return"@"+i+"keyframes "+t.name+"_"+t.id+"{"+e+"}"});i.forEach(function(t){return Vt.insert(t)}),ee[t.id]=!!Kt||i}}function N(t){if(!ee[t.id]){var e="@font-face{"+(0,jt.createMarkupForStyles)(t.font)+"}";Vt.insert(e),ee[t.id]=!!Kt||[e]}}function F(t){(0,kt.default)(ee,t.reduce(function(t,e){return t[e]=!0,t},{}))}function D(){ee=Vt.inserted={},ie=Vt.registered={},ne={},Vt.flush(),Vt.inject()}function k(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;e>n;n++)i[n-1]=arguments[n];return t?P(a({},t,i)):ue(i)}function G(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;e>n;n++)i[n-1]=arguments[n];return P(a({},t+" &",i))}function j(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;e>n;n++)i[n-1]=arguments[n];return P(a({},"@media "+t,i))}function U(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;e>n;n++)i[n-1]=arguments[n];return P(a({},t,i))}function B(t){return U(":active",t)}function W(t){return U(":any",t)}function z(t){return U(":checked",t)}function X(t){return U(":disabled",t)}function V(t){return U(":empty",t)}function Y(t){return U(":enabled",t)}function q(t){return U(":default",t)}function H(t){return U(":first",t)}function K(t){return U(":first-child",t)}function Z(t){return U(":first-of-type",t)}function J(t){return U(":fullscreen",t)}function Q(t){return U(":focus",t)}function $(t){return U(":hover",t)}function tt(t){return U(":indeterminate",t)}function et(t){return U(":in-range",t)}function it(t){return U(":invalid",t)}function nt(t){return U(":last-child",t)}function rt(t){return U(":last-of-type",t)}function at(t){return U(":left",t)}function ot(t){return U(":link",t)}function st(t){return U(":only-child",t)}function lt(t){return U(":only-of-type",t)}function ut(t){return U(":optional",t)}function ht(t){return U(":out-of-range",t)}function ct(t){return U(":read-only",t)}function ft(t){return U(":read-write",t)}function dt(t){return U(":required",t)}function pt(t){return U(":right",t)}function gt(t){return U(":root",t)}function mt(t){return U(":scope",t)}function _t(t){return U(":target",t)}function yt(t){return U(":valid",t)}function vt(t){return U(":visited",t)}function Et(t,e){return U(":dir("+t+")",e)}function bt(t,e){return U(":lang("+t+")",e)}function xt(t,e){var i=t.split(",").map(function(t){return t.trim()}).map(function(t){return":not("+t+")"});return 1===i.length?U(":not("+t+")",e):k(i.join(""),e)}function Ct(t,e){return U(":nth-child("+t+")",e)}function St(t,e){return U(":nth-last-child("+t+")",e)}function Tt(t,e){return U(":nth-last-of-type("+t+")",e)}function Rt(t,e){return U(":nth-of-type("+t+")",e)}function Mt(t){return U("::after",t)}function wt(t){return U("::before",t)}function Ot(t){return U("::first-letter",t)}function At(t){return U("::first-line",t)}function It(t){return U("::selection",t)}function Pt(t){return U("::backdrop",t)}function Lt(t){return P({"::placeholder":t})}function Nt(){for(var t=arguments.length,e=Array(t),i=0;t>i;i++)e[i]=arguments[i];return e=(0,Bt.default)(e),e?e.map(function(t){var e={label:[]};return A(e,{src:t}),y(c(e),_(e)).join("")}).join(""):""}function Ft(){for(var t=arguments.length,e=Array(t),i=0;t>i;i++)e[i]=arguments[i];return e=(0,Bt.default)(e),e?e.map(function(t){d(t);var e=Object.keys(t)[0];return e+'="'+(t[e]||"")+'"'}).join(" "):""}Object.defineProperty(e,"__esModule",{value:!0}),e.compose=e.merge=e.$=e.style=e.presets=e.keyframes=e.fontFace=e.insertGlobal=e.insertRule=e.plugins=e.styleSheet=void 0,e.speedy=o,e.simulations=s,e.simulate=l,e.cssLabels=u,e.isLikeRule=f,e.idFor=d,e.css=P,e.rehydrate=F,e.flush=D,e.select=k,e.parent=G,e.media=j,e.pseudo=U,e.active=B,e.any=W,e.checked=z,e.disabled=X,e.empty=V,e.enabled=Y,e._default=q,e.first=H,e.firstChild=K,e.firstOfType=Z,e.fullscreen=J,e.focus=Q,e.hover=$,e.indeterminate=tt,e.inRange=et,e.invalid=it,e.lastChild=nt,e.lastOfType=rt,e.left=at,e.link=ot,e.onlyChild=st,e.onlyOfType=lt,e.optional=ut,e.outOfRange=ht,e.readOnly=ct,e.readWrite=ft,e.required=dt,e.right=pt,e.root=gt,e.scope=mt,e.target=_t,e.valid=yt,e.visited=vt,e.dir=Et,e.lang=bt,e.not=xt,e.nthChild=Ct,e.nthLastChild=St,e.nthLastOfType=Tt,e.nthOfType=Rt,e.after=Mt,e.before=wt,e.firstLetter=Ot,e.firstLine=At,e.selection=It,e.backdrop=Pt,e.placeholder=Lt,e.cssFor=Nt,e.attribsFor=Ft;var Dt=i("BEQ0"),kt=n(Dt),Gt=i("g32j"),jt=i("t6ee"),Ut=i("/oxx"),Bt=n(Ut),Wt=i("fIT1"),zt=i("whD8"),Xt=n(zt),Vt=e.styleSheet=new Gt.StyleSheet;Vt.inject();var Yt=e.plugins=Vt.plugins=new Wt.PluginSet([Wt.prefixes,Wt.contentWrap,Wt.fallbacks]);Yt.media=new Wt.PluginSet,Yt.fontFace=new Wt.PluginSet,Yt.keyframes=new Wt.PluginSet([Wt.prefixes,Wt.fallbacks]);var qt=!1,Ht=!1,Kt="undefined"!=typeof window,Zt=qt,Jt=!1,Qt=!1,$t=qt,te=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g,ee=Vt.inserted={},ie=Vt.registered={},ne={},re={"::placeholder":["::-webkit-input-placeholder","::-moz-placeholder","::-ms-input-placeholder"],":fullscreen":[":-webkit-full-screen",":-moz-full-screen",":-ms-fullscreen"]},ae={};Object.defineProperty(ae,"toString",{enumerable:!1,value:function(){return"css-nil"}});var oe="undefined"!=typeof WeakMap?[ae,new WeakMap,new WeakMap,new WeakMap]:[ae],se=!1,le="undefined"!=typeof WeakMap?function(t){return function(e){if(oe[e.length]){for(var i=oe[e.length],n=0;e.length-1>n;)i.has(e[n])||i.set(e[n],new WeakMap),i=i.get(e[n]),n++;if(i.has(e[e.length-1])){var a=i.get(e[n]);if(ie[(""+a).substring(4)])return a}}var o=t(e);if(oe[e.length]){for(var s=0,l=oe[e.length];e.length-1>s;)l=l.get(e[s]),s++;try{l.set(e[s],o)}catch(t){if(qt&&!se){var u;se=!0,(u=console).warn.apply(u,["failed setting the WeakMap cache for args:"].concat(r(e))),console.warn("this should NOT happen, please file a bug on the github repo.")}}}return o}}(I):I;P.insert=function(t){var e={id:c(t),css:t,type:"raw"};E(e),ee[e.id]||(Vt.insert(e.css),ee[e.id]=!!Kt||[e.css])},e.insertRule=P.insert,P.global=function(t,e){if(e=(0,Bt.default)(e))return P.insert(m({selector:t,style:e}))},e.insertGlobal=P.global,P.keyframes=function(t,e){e||(e=t,t="animation"),e=(0,Bt.default)(e)||{};var i={id:c({name:t,kfs:e}),type:"keyframes",name:t,keyframes:e};return E(i),L(i),t+"_"+i.id},P.fontFace=function(t){t=(0,Bt.default)(t);var e={id:c(t),type:"font-face",font:t};return E(e),N(e),t.fontFamily};var ue=(e.fontFace=P.fontFace,e.keyframes=P.keyframes,e.presets={mobile:"(min-width: 400px)",Mobile:"@media (min-width: 400px)",phablet:"(min-width: 550px)",Phablet:"@media (min-width: 550px)",tablet:"(min-width: 750px)",Tablet:"@media (min-width: 750px)",desktop:"(min-width: 1000px)",Desktop:"@media (min-width: 1000px)",hd:"(min-width: 1200px)",Hd:"@media (min-width: 1200px)"},e.style=P);e.$=k,e.merge=P,e.compose=P},HWXU:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("6HMI"),r=i("YyS4"),a=function(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new n.default({color:a.DEFAULT_FILL_COLOR_}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:r.a.POINT,this.exceedLength_=void 0!==e.exceedLength&&e.exceedLength,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0};a.DEFAULT_FILL_COLOR_="#333",a.prototype.clone=function(){return new a({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),exceedLength:this.getExceedLength(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY()})},a.prototype.getExceedLength=function(){return this.exceedLength_},a.prototype.getFont=function(){return this.font_},a.prototype.getMaxAngle=function(){return this.maxAngle_},a.prototype.getPlacement=function(){return this.placement_},a.prototype.getOffsetX=function(){return this.offsetX_},a.prototype.getOffsetY=function(){return this.offsetY_},a.prototype.getFill=function(){return this.fill_},a.prototype.getRotateWithView=function(){return this.rotateWithView_},a.prototype.getRotation=function(){return this.rotation_},a.prototype.getScale=function(){return this.scale_},a.prototype.getStroke=function(){return this.stroke_},a.prototype.getText=function(){return this.text_},a.prototype.getTextAlign=function(){return this.textAlign_},a.prototype.getTextBaseline=function(){return this.textBaseline_},a.prototype.setExceedLength=function(t){this.exceedLength_=t},a.prototype.setFont=function(t){this.font_=t},a.prototype.setMaxAngle=function(t){this.maxAngle_=t},a.prototype.setOffsetX=function(t){this.offsetX_=t},a.prototype.setOffsetY=function(t){this.offsetY_=t},a.prototype.setPlacement=function(t){this.placement_=t},a.prototype.setFill=function(t){this.fill_=t},a.prototype.setRotation=function(t){this.rotation_=t},a.prototype.setScale=function(t){this.scale_=t},a.prototype.setStroke=function(t){this.stroke_=t},a.prototype.setText=function(t){this.text_=t},a.prototype.setTextAlign=function(t){this.textAlign_=t},a.prototype.setTextBaseline=function(t){this.textBaseline_=t},e.default=a},Hgtn:function(t,e,i){"use strict";function n(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+t.className+" ").indexOf(" "+e+" ")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n,t.exports=e.default},Hlta:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("796y"),a=i("zF6X"),o=i("/LWt"),s=i("tFCN"),l=i("yGLh"),u=i("NUc0"),h={KVP:"KVP",REST:"REST"},c=h,f=i("fJST"),d=function(t){this.matrixIds_=t.matrixIds,f.a.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})};n.a.inherits(d,f.a),d.prototype.getMatrixId=function(t){return this.matrixIds_[t]},d.prototype.getMatrixIds=function(){return this.matrixIds_},d.createFromCapabilitiesMatrixSet=function(t,e,i){var n,r=[],o=[],s=[],u=[],h=[],c=void 0!==i?i:[];n=l.default.get(t.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var f=n.getMetersPerUnit(),p="ne"==n.getAxisOrientation().substr(0,2);return t.TileMatrix.sort(function(t,e){return e.ScaleDenominator-t.ScaleDenominator}),t.TileMatrix.forEach(function(t,e,i){if(0>=c.length||a.a.find(c,function(e,i,n){return t.Identifier==e.TileMatrix})){o.push(t.Identifier);var n=28e-5*t.ScaleDenominator/f,l=t.TileWidth,d=t.TileHeight;s.push(p?[t.TopLeftCorner[1],t.TopLeftCorner[0]]:t.TopLeftCorner),r.push(n),u.push(l==d?l:[l,d]),h.push([t.MatrixWidth,-t.MatrixHeight])}}),new d({extent:e,origins:s,resolutions:r,matrixIds:o,tileSizes:u,sizes:h})};var p=d,g=i("iFba"),m=function(t){function e(t){return t=n==c.KVP?g.a.appendParams(t,o):t.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in o?o[e.toLowerCase()]:t}),function(e,i,r){if(e){var o={TileMatrix:a.getMatrixId(e[0]),TileCol:e[1],TileRow:-e[2]-1};s.a.assign(o,l);var u=t;return u=n==c.KVP?g.a.appendParams(u,o):u.replace(/\{(\w+?)\}/g,function(t,e){return o[e]})}}}this.version_=void 0!==t.version?t.version:"1.0.0",this.format_=void 0!==t.format?t.format:"image/jpeg",this.dimensions_=void 0!==t.dimensions?t.dimensions:{},this.layer_=t.layer,this.matrixSet_=t.matrixSet,this.style_=t.style;var i=t.urls;void 0===i&&void 0!==t.url&&(i=r.a.expandUrl(t.url)),this.requestEncoding_=void 0!==t.requestEncoding?t.requestEncoding:c.KVP;var n=this.requestEncoding_,a=t.tileGrid,o={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};n==c.KVP&&s.a.assign(o,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_});var l=this.dimensions_,h=i&&i.length>0?r.a.createFromTileUrlFunctions(i.map(e)):r.a.nullTileUrlFunction;u.a.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:a,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:h,urls:i,wrapX:void 0!==t.wrapX&&t.wrapX,transition:t.transition}),this.setKey(this.getKeyForDimensions_())};n.a.inherits(m,u.a),m.prototype.getDimensions=function(){return this.dimensions_},m.prototype.getFormat=function(){return this.format_},m.prototype.getLayer=function(){return this.layer_},m.prototype.getMatrixSet=function(){return this.matrixSet_},m.prototype.getRequestEncoding=function(){return this.requestEncoding_},m.prototype.getStyle=function(){return this.style_},m.prototype.getVersion=function(){return this.version_},m.prototype.getKeyForDimensions_=function(){var t=0,e=[];for(var i in this.dimensions_)e[t++]=i+"-"+this.dimensions_[i];return e.join("/")},m.prototype.updateDimensions=function(t){s.a.assign(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())},m.optionsFromCapabilities=function(t,e){var i=t.Contents.Layer,n=a.a.find(i,function(t,i,n){return t.Identifier==e.layer});if(null===n)return null;var r,s,u,h=t.Contents.TileMatrixSet;r=n.TileMatrixSetLink.length>1?"projection"in e?a.a.findIndex(n.TileMatrixSetLink,function(t,i,n){var r=a.a.find(h,function(e){return e.Identifier==t.TileMatrixSet}),o=r.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"),s=l.default.get(o),u=l.default.get(e.projection);return s&&u?l.default.equivalent(s,u):o==e.projection}):a.a.findIndex(n.TileMatrixSetLink,function(t,i,n){return t.TileMatrixSet==e.matrixSet}):0,0>r&&(r=0),s=n.TileMatrixSetLink[r].TileMatrixSet,u=n.TileMatrixSetLink[r].TileMatrixSetLimits;var f=n.Format[0];"format"in e&&(f=e.format),0>(r=a.a.findIndex(n.Style,function(t,i,n){return"style"in e?t.Title==e.style:t.isDefault}))&&(r=0);var d=n.Style[r].Identifier,g={};"Dimension"in n&&n.Dimension.forEach(function(t,e,i){var n=t.Identifier,r=t.Default;void 0===r&&(r=t.Value[0]),g[n]=r});var m,_=t.Contents.TileMatrixSet,y=a.a.find(_,function(t,e,i){return t.Identifier==s});m=l.default.get("projection"in e?e.projection:y.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var v,E,b=n.WGS84BoundingBox;if(void 0!==b){var x=l.default.get("EPSG:4326").getExtent();E=b[0]==x[0]&&b[2]==x[2],v=l.default.transformExtent(b,"EPSG:4326",m);var C=m.getExtent();C&&(o.default.containsExtent(C,v)||(v=void 0))}var S=p.createFromCapabilitiesMatrixSet(y,v,u),T=[],R=e.requestEncoding;if(R=void 0!==R?R:"","OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata)for(var M=t.OperationsMetadata.GetTile.DCP.HTTP.Get,w=0,O=M.length;O>w;++w){var A=a.a.find(M[w].Constraint,function(t){return"GetEncoding"==t.name}),I=A.AllowedValues.Value;if(""===R&&(R=I[0]),R!==c.KVP)break;a.a.includes(I,c.KVP)&&T.push(M[w].href)}return 0===T.length&&(R=c.REST,n.ResourceURL.forEach(function(t){"tile"===t.resourceType&&(f=t.format,T.push(t.template))})),{urls:T,layer:e.layer,matrixSet:s,format:f,projection:m,requestEncoding:R,tileGrid:S,style:d,dimensions:g,wrapX:E,crossOrigin:e.crossOrigin}},e.default=m},"I+CZ":function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r,a=i("yGLh"),o=function(t){return t&&t.__esModule?t:{default:t}}(a);e.default=new(function(){function t(){n(this,t)}return t.prototype._writeLayer=function(t,e,i,n){var a,o={};if(o.name=t.properties.name||t.properties.title.split(" ").join("_"),o.title=t.properties.title,o.visibility=t.properties.visible,n&&(o.group=n),i.push(o),"XYZ"===t.source.type){o.type="OpenLayers.Layer.XYZ";var s;t.source.properties.attributions&&t.source.properties.attributions.length>0&&(s={attribution:t.source.properties.attributions[0]}),o.args=[t.properties.title,t.source.properties.urls[0]],s&&o.args.push(s),r++,e[r]={ptype:"gxp_olsource"}}else if("TileArcGISRest"===t.source.type)o.layerid=t.source.properties.params.LAYERS,r++,e[r]={url:t.source.properties.urls[0],ptype:"gxp_arcrestsource"};else if("BingMaps"===t.source.type){var l=!1;for(a in e)if("gxp_bingsource"==e[a].ptype&&e[a].apiKey===t.source.properties.key){l=!0;break}l||(r++,e[r]={ptype:"gxp_bingsource",apiKey:t.source.properties.key})}else if("TMS"===t.source.type){if(-1!==t.source.properties.urls[0].indexOf("tiles.mapbox.com/v1/mapbox")){var u=!1;for(a in e)if("gxp_mapboxsource"==e[a].ptype){u=!0;break}u||(r++,e[r]={ptype:"gxp_mapboxsource"})}}else if("TileWMS"===t.source.type){t.source.properties.params.SLD_BODY&&(o.params={TILED:"false",SLD_BODY:t.source.properties.params.SLD_BODY}),o.queryable=t.properties.isSelectable,o.capability={queryable:t.properties.isSelectable,styles:[{name:t.properties.styleName,legend:{href:t.properties.legendUrl}}],llbbox:t.properties.EX_GeographicBoundingBox};var h=!1;for(a in e)if("gxp_wmscsource"==e[a].ptype&&e[a].url===t.source.url){h=!0;break}h||(r++,e[r]={ptype:"gxp_wmscsource",url:t.source.properties.urls[0]})}else if("OSM"===t.source.type){var c=!1;for(a in e)if("gxp_osmsource"==e[a].ptype){c=!0;break}c||(r++,e[r]={ptype:"gxp_osmsource"}),o.name||(o.name="mapnik")}o.source=""+r},t.prototype.write=function(t){var e=t.view,i=t.layers,n=[],a={};r=-1;for(var o=0,s=i.length;s>o;++o)if("Group"===i[o].type)for(var l=0,u=i[o].children.length;u>l;++l){var h=i[o].children[l];this._writeLayer(h,a,n,i[o].properties.title.replace("Base Maps","background"))}else this._writeLayer(i[o],a,n);var c={sources:a};return c.map={layers:n,center:e.center,projection:e.projection,zoom:e.zoom},c},t.prototype._transformTileService=function(t){var e;return"OSM"===t.source.type?e="https://a.tile.openstreetmap.org/0/0/0.png":t.source.properties.urls&&(e=t.source.properties.urls[0].replace("{z}","0").replace("{y}","0").replace("{x}","0")),{name:t.properties.name,description:t.properties.title,standard:t.source.type,attribution:t.source.properties.attributions?t.source.properties.attributions[0]:void 0,endpoint:t.source.properties.urls?t.source.properties.urls[0]:void 0,thumbnail:e}},t.prototype.transform=function(t,e,i,n){var r="anonymous";!0===n&&(r="use-credentials");var a,s,l=[],u={};for(a=0,s=t.map.layers.length;s>a;++a){var h=t.map.layers[a],c=t.sources[h.source],f=c.url,d={properties:{isRemovable:!0,visible:h.visibility,title:h.title||(h.name?h.name.split(":").pop():void 0),id:h.name,name:h.name}};if("gxp_olsource"===c.ptype&&"OpenLayers.Layer.XYZ"===h.type){d.type="Tile",d.properties.title=h.args[0],d.properties.name=d.properties.title.split(" ").join("_");var p,g=h.args[1];p=Array.isArray(g)?g:[g];for(var m=0,_=p.length;_>m;++m)p[m]=p[m].replace(/\$/g,""),-1!==p[m].indexOf("cartocdn")&&(p[m]=p[m].replace("https:","http:"));d.source={type:"XYZ",properties:{crossOrigin:r,urls:p}},3===h.args.length&&h.args[2].attribution&&(d.source.properties.attributions=[h.args[2].attribution])}else if("gxp_osmsource"===c.ptype)h.group||(d.properties.type="base"),d.type="Tile",d.source={type:"OSM",properties:{crossOrigin:"anonymous"}};else if("gxp_arcrestsource"===c.ptype)d.type="Tile",d.source={type:"TileArcGISRest",properties:{crossOrigin:r,urls:[f],params:{LAYERS:h.layerid,FORMAT:h.format}}};else if("gxp_wmscsource"===c.ptype&&h.name){d.properties.popupInfo="#AllAttributes",d.properties.isSelectable=h.queryable,d.properties.isWFST=h.queryable,h.capability&&(void 0===h.queryable&&(d.properties.isSelectable=h.capability.queryable,d.properties.isWFST=h.capability.queryable),d.properties.styleName=h.capability.styles[0].name,d.properties.legendUrl=h.capability.styles[0].legend.href,d.properties.EX_GeographicBoundingBox=h.capability.llbbox),d.properties.EX_GeographicBoundingBox||h.bbox&&h.srs&&o.default.get(h.srs)&&(d.properties.EX_GeographicBoundingBox=o.default.transformExtent(h.bbox,h.srs,"EPSG:4326")),d.type="Tile";var y=h.params||{};y.LAYERS=h.name,void 0===y.TILED&&(y.TILED="TRUE"),h.styles&&(y.STYLES=h.styles),h.format&&(y.FORMAT=h.format),void 0!==h.transparent&&(y.TRANSPARENT=h.transparent),d.source={type:"TileWMS",properties:{crossOrigin:r,params:y,urls:[f]}}}else if("gxp_mapboxsource"===c.ptype){var v=["http://a.tiles.mapbox.com/v1/mapbox."+h.name+"/","http://b.tiles.mapbox.com/v1/mapbox."+h.name+"/","http://c.tiles.mapbox.com/v1/mapbox."+h.name+"/","http://d.tiles.mapbox.com/v1/mapbox."+h.name+"/"],E=/^world/.test(h.name)?'<a href="http://mapbox.com">MapBox</a> | Some Data &copy; OSM CC-BY-SA | <a href="http://mapbox.com/tos">Terms of Service</a>':'<a href="http://mapbox.com">MapBox</a> | <a href="http://mapbox.com/tos">Terms of Service</a>',b={"blue-marble-topo-bathy-jan":8,"blue-marble-topo-bathy-jul":8,"blue-marble-topo-jan":8,"blue-marble-topo-jul":8,"control-room":8,"geography-class":8,"natural-earth-hypso":6,"natural-earth-hypso-bathy":6,"natural-earth-1":6,"natural-earth-2":6,"world-dark":11,"world-light":11,"world-glass":10,"world-print":9};d.type="Tile",d.source={type:"TMS",properties:{attributions:[E],format:"png",urls:v,maxZoom:b[h.name]}}}else"gxp_bingsource"===c.ptype?(d.type="Tile",d.source={type:"BingMaps",properties:{key:c.apiKey,imagerySet:h.name}}):(e&&e.push({msg:"Unable to load layer "+d.properties.title,layer:h,source:c}),d=void 0);if(void 0!==d)if(h.group){if("background"===h.group&&(d.properties.type="base",i)){var x=this._transformTileService(d);x&&i.push(x)}u[h.group]||(u[h.group]={type:"Group",properties:{name:h.group,title:"background"===h.group?"Base Maps":h.group,type:"background"===h.group?"base-group":void 0},children:[]},l.push(u[h.group])),u[h.group].children.push(d)}else l.push(d)}return{layers:l,view:{center:t.map.center,projection:t.map.projection,zoom:t.map.zoom}}},t}())},IIJD:function(t,e,i){"use strict";function n(t,e,i,n,r){for(var a=0,o=t.length;o>a;++a){var s=t[a](e,i,n,r);if(s)return s}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n,t.exports=e.default},ILa1:function(t,e,i){"use strict";function n(t,e,i,o,s){for(i=i||0,o=o||t.length-1,s=s||a;o>i;){if(o-i>600){var l=o-i+1,u=e-i+1,h=Math.log(l),c=.5*Math.exp(2*h/3),f=.5*Math.sqrt(h*c*(l-c)/l)*(0>u-l/2?-1:1);n(t,e,Math.max(i,Math.floor(e-u*c/l+f)),Math.min(o,Math.floor(e+(l-u)*c/l+f)),s)}var d=t[e],p=i,g=o;for(r(t,i,e),s(t[o],d)>0&&r(t,i,o);g>p;){for(r(t,p,g),p++,g--;0>s(t[p],d);)p++;for(;s(t[g],d)>0;)g--}0===s(t[i],d)?r(t,i,g):(g++,r(t,g,o)),g>e||(i=g+1),e>g||(o=g-1)}}function r(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function a(t,e){return e>t?-1:t>e?1:0}t.exports=n},IZoy:function(t,e,i){"use strict";var n=i("o1z/"),r=i("J23v"),a={};a.add=function(t,e){return t[0]+=e[0],t[1]+=e[1],t},a.closestOnCircle=function(t,e){var i=e.getRadius(),n=e.getCenter(),r=n[0],a=n[1],o=t[0],s=t[1],l=o-r,u=s-a;0===l&&0===u&&(l=1);var h,c,f=Math.sqrt(l*l+u*u);return h=r+i*l/f,c=a+i*u/f,[h,c]},a.closestOnSegment=function(t,e){var i,n,r=t[0],a=t[1],o=e[0],s=e[1],l=o[0],u=o[1],h=s[0],c=s[1],f=h-l,d=c-u,p=0===f&&0===d?0:(f*(r-l)+d*(a-u))/(f*f+d*d||0);return p>0?1>p?(i=l+p*f,n=u+p*d):(i=h,n=c):(i=l,n=u),[i,n]},a.createStringXY=function(t){return function(e){return a.toStringXY(e,t)}},a.degreesToStringHDMS=function(t,e,i){var a=n.a.modulo(e+180,360)-180,o=Math.abs(3600*a),s=i||0,l=Math.pow(10,s),u=Math.floor(o/3600),h=Math.floor((o-3600*u)/60),c=o-3600*u-60*h;return c=Math.ceil(c*l)/l,60>c||(c=0,h+=1),60>h||(h=0,u+=1),u+" "+r.a.padNumber(h,2)+" "+r.a.padNumber(c,2,s)+""+(0==a?"":" "+t.charAt(0>a?1:0))},a.format=function(t,e,i){return t?e.replace("{x}",t[0].toFixed(i)).replace("{y}",t[1].toFixed(i)):""},a.equals=function(t,e){for(var i=!0,n=t.length-1;n>=0;--n)if(t[n]!=e[n]){i=!1;break}return i},a.rotate=function(t,e){var i=Math.cos(e),n=Math.sin(e),r=t[0]*i-t[1]*n,a=t[1]*i+t[0]*n;return t[0]=r,t[1]=a,t},a.scale=function(t,e){return t[0]*=e,t[1]*=e,t},a.sub=function(t,e){return t[0]-=e[0],t[1]-=e[1],t},a.squaredDistance=function(t,e){var i=t[0]-e[0],n=t[1]-e[1];return i*i+n*n},a.distance=function(t,e){return Math.sqrt(a.squaredDistance(t,e))},a.squaredDistanceToSegment=function(t,e){return a.squaredDistance(t,a.closestOnSegment(t,e))},a.toStringHDMS=function(t,e){return t?a.degreesToStringHDMS("NS",t[1],e)+" "+a.degreesToStringHDMS("EW",t[0],e):""},a.toStringXY=function(t,e){return a.format(t,"{x}, {y}",e)},e.a=a},J23v:function(t,e,i){"use strict";var n={};n.padNumber=function(t,e,i){var n=void 0!==i?t.toFixed(i):""+t,r=n.indexOf(".");return r=-1===r?n.length:r,r>e?n:Array(1+e-r).join("0")+n},n.compareVersions=function(t,e){for(var i=(""+t).split("."),n=(""+e).split("."),r=0;r<Math.max(i.length,n.length);r++){var a=parseInt(i[r]||"0",10),o=parseInt(n[r]||"0",10);if(a>o)return 1;if(o>a)return-1}return 0},e.a=n},J25b:function(t,e,i){"use strict";var n=function(t){this.type=t,this.target=null};n.prototype.preventDefault=n.prototype.stopPropagation=function(){this.propagationStopped=!0},n.stopPropagation=function(t){t.stopPropagation()},n.preventDefault=function(t){t.preventDefault()},e.a=n},J6J5:function(t,e,i){"use strict";function n(t,e){if("string"==typeof e&&!(0,a.default)(e)&&e.indexOf("cross-fade(")>-1)return o.map(function(t){return e.replace(/cross-fade\(/g,t+"cross-fade(")})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r=i("g86Z"),a=function(t){return t&&t.__esModule?t:{default:t}}(r),o=["-webkit-",""];t.exports=e.default},JdA6:function(t,e,i){"use strict";var n=i("A6q1"),r=i("tFCN"),a=i("yGLh"),o=function(){this.defaultDataProjection=null,this.defaultFeatureProjection=null};o.prototype.getReadOptions=function(t,e){var i;return e&&(i={dataProjection:e.dataProjection?e.dataProjection:this.readProjection(t),featureProjection:e.featureProjection}),this.adaptOptions(i)},o.prototype.adaptOptions=function(t){return r.a.assign({dataProjection:this.defaultDataProjection,featureProjection:this.defaultFeatureProjection},t)},o.prototype.getLastExtent=function(){return null},o.prototype.getType=function(){},o.prototype.readFeature=function(t,e){},o.prototype.readFeatures=function(t,e){},o.prototype.readGeometry=function(t,e){},o.prototype.readProjection=function(t){},o.prototype.writeFeature=function(t,e){},o.prototype.writeFeatures=function(t,e){},o.prototype.writeGeometry=function(t,e){},o.transformWithOptions=function(t,e,i){var r,o=i?a.default.get(i.featureProjection):null,s=i?a.default.get(i.dataProjection):null;if(r=o&&s&&!a.default.equivalent(o,s)?t instanceof n.a?(e?t.clone():t).transform(e?o:s,e?s:o):a.default.transformExtent(t,s,o):t,e&&i&&void 0!==i.decimals){var l=Math.pow(10,i.decimals),u=function(t){for(var e=0,i=t.length;i>e;++e)t[e]=Math.round(t[e]*l)/l;return t};r===t&&(r=r.clone()),r.applyTransform(u)}return r},e.a=o},"Jl+d":function(t,e,i){"use strict";function n(t){var e={};return function(i){return e.hasOwnProperty(i)||(e[i]=t.call(this,i)),e[i]}}t.exports=n},JmQP:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("OEyb"),a=i("p8Td"),o=i("IZoy"),s=i("ZVo0"),l=i("/LWt"),u=i("qxxq"),h=i("86p+"),c=function(t){h.default.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,wrapX:t.wrapX}),this.resolution=void 0,this.distance=void 0!==t.distance?t.distance:20,this.features=[],this.geometryFunction=t.geometryFunction||function(t){var e=t.getGeometry();return r.a.assert(e instanceof u.default,10),e},this.source=t.source,this.source.on(s.a.CHANGE,c.prototype.refresh,this)};n.a.inherits(c,h.default),c.prototype.getDistance=function(){return this.distance},c.prototype.getSource=function(){return this.source},c.prototype.loadFeatures=function(t,e,i){this.source.loadFeatures(t,e,i),e!==this.resolution&&(this.clear(),this.resolution=e,this.cluster(),this.addFeatures(this.features))},c.prototype.setDistance=function(t){this.distance=t,this.refresh()},c.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features),h.default.prototype.refresh.call(this)},c.prototype.cluster=function(){if(void 0!==this.resolution){this.features.length=0;for(var t=l.default.createEmpty(),e=this.distance*this.resolution,i=this.source.getFeatures(),r={},a=0,o=i.length;o>a;a++){var s=i[a];if(!(""+n.a.getUid(s)in r)){var u=this.geometryFunction(s);if(u){var h=u.getCoordinates();l.default.createOrUpdateFromCoordinate(h,t),l.default.buffer(t,e,t);var c=this.source.getFeaturesInExtent(t);c=c.filter(function(t){var e=""+n.a.getUid(t);return!(e in r||(r[e]=!0,0))}),this.features.push(this.createCluster(c))}}}}},c.prototype.createCluster=function(t){for(var e=[0,0],i=t.length-1;i>=0;--i){var n=this.geometryFunction(t[i]);n?o.a.add(e,n.getCoordinates()):t.splice(i,1)}o.a.scale(e,1/t.length);var r=new a.default(new u.default(e));return r.set("features",t),r},e.default=c},Jopg:function(t,e,i){"use strict";e.a={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render"}},JouG:function(t,e,i){"use strict";var n={};n.ONE=1,n.SRC_ALPHA=770,n.COLOR_ATTACHMENT0=36064,n.COLOR_BUFFER_BIT=16384,n.TRIANGLES=4,n.TRIANGLE_STRIP=5,n.ONE_MINUS_SRC_ALPHA=771,n.ARRAY_BUFFER=34962,n.ELEMENT_ARRAY_BUFFER=34963,n.STREAM_DRAW=35040,n.STATIC_DRAW=35044,n.DYNAMIC_DRAW=35048,n.CULL_FACE=2884,n.BLEND=3042,n.STENCIL_TEST=2960,n.DEPTH_TEST=2929,n.SCISSOR_TEST=3089,n.UNSIGNED_BYTE=5121,n.UNSIGNED_SHORT=5123,n.UNSIGNED_INT=5125,n.FLOAT=5126,n.RGBA=6408,n.FRAGMENT_SHADER=35632,n.VERTEX_SHADER=35633,n.LINK_STATUS=35714,n.LINEAR=9729,n.TEXTURE_MAG_FILTER=10240,n.TEXTURE_MIN_FILTER=10241,n.TEXTURE_WRAP_S=10242,n.TEXTURE_WRAP_T=10243,n.TEXTURE_2D=3553,n.TEXTURE0=33984,n.CLAMP_TO_EDGE=33071,n.COMPILE_STATUS=35713,n.FRAMEBUFFER=36160,n.CONTEXT_IDS_=["experimental-webgl","webgl","webkit-3d","moz-webgl"],n.getContext=function(t,e){var i,r,a=n.CONTEXT_IDS_.length;for(r=0;a>r;++r)try{if(i=t.getContext(n.CONTEXT_IDS_[r],e))return i}catch(t){}return null},e.a=n},KSE5:function(t,e,i){!function(e,n){t.exports=function(t){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=54)}([function(e,i){e.exports=t},function(t,e,i){"use strict";function n(t,e,i){return t||console.error("theme has not been set"),c(t)(e,i)}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.default=n;var a=i(58),o=i(59),s=function(t){return t&&t.__esModule?t:{default:t}}(o),l=i(60),u=function(t){return{backgroundColor:t.base00,ellipsisColor:t.base09,braceColor:t.base07,expandedIcon:t.base0D,collapsedIcon:t.base0E,keyColor:t.base07,arrayKeyColor:t.base0C,objectSize:t.base04,copyToClipboard:t.base0F,objectBorder:t.base02,dataTypes:{boolean:t.base0E,date:t.base0D,float:t.base0B,function:t.base0D,integer:t.base0F,string:t.base09,nan:t.base08,null:t.base0A,undefined:t.base05,background:t.base02},editVariable:{editIcon:t.base0E,cancelIcon:t.base09,removeIcon:t.base09,addIcon:t.base0E,checkIcon:t.base0E,background:t.base01,color:t.base0A,border:t.base07},addKeyModal:{background:t.base05,border:t.base04,color:t.base0A,labelColor:t.base01},validationFailure:{background:t.base09,iconColor:t.base01,fontColor:t.base01}}},h=function(t){var e=u(t);return{"app-container":{fontFamily:s.default.globalFontFamily,cursor:s.default.globalCursor,backgroundColor:e.backgroundColor,position:"relative"},ellipsis:{display:"inline-block",color:e.ellipsisColor,fontSize:s.default.ellipsisFontSize,lineHeight:s.default.ellipsisLineHeight,cursor:s.default.ellipsisCursor},"brace-row":{display:"inline-block",cursor:"pointer"},brace:{display:"inline-block",cursor:s.default.braceCursor,fontWeight:s.default.braceFontWeight,color:e.braceColor},"expanded-icon":{color:e.expandedIcon},"collapsed-icon":{color:e.collapsedIcon},colon:{display:"inline-block",margin:s.default.keyMargin,color:e.keyColor},objectKeyVal:function(t,i){return{style:r({paddingTop:s.default.keyValPaddingTop,paddingRight:s.default.keyValPaddingRight,paddingBottom:s.default.keyValPaddingBottom,borderLeft:s.default.keyValBorderLeft+" "+e.objectBorder,":hover":{paddingLeft:i.paddingLeft-1+"px",borderLeft:s.default.keyValBorderHover+" "+e.objectBorder}},i)}},"object-key-val-no-border":{padding:s.default.keyValPadding},"pushed-content":{marginLeft:s.default.pushedContentMarginLeft},variableValue:function(t,e){return{style:r({display:"inline-block",paddingRight:s.default.variableValuePaddingRight,position:"relative"},e)}},"object-name":{display:"inline-block",color:e.keyColor,letterSpacing:s.default.keyLetterSpacing,fontStyle:s.default.keyFontStyle,verticalAlign:s.default.keyVerticalAlign,opacity:s.default.keyOpacity,":hover":{opacity:s.default.keyOpacityHover}},"array-key":{display:"inline-block",color:e.arrayKeyColor,letterSpacing:s.default.keyLetterSpacing,fontStyle:s.default.keyFontStyle,verticalAlign:s.default.keyVerticalAlign,opacity:s.default.keyOpacity,":hover":{opacity:s.default.keyOpacityHover}},"object-size":{color:e.objectSize,borderRadius:s.default.objectSizeBorderRadius,fontStyle:s.default.objectSizeFontStyle,margin:s.default.objectSizeMargin},"data-type-label":{fontSize:s.default.dataTypeFontSize,marginRight:s.default.dataTypeMarginRight,opacity:s.default.datatypeOpacity},boolean:{display:"inline-block",color:e.dataTypes.boolean},date:{display:"inline-block",color:e.dataTypes.date},"date-value":{marginLeft:s.default.dateValueMarginLeft},float:{display:"inline-block",color:e.dataTypes.float},function:{display:"inline-block",color:e.dataTypes.function,cursor:"pointer",whiteSpace:"pre-line"},integer:{display:"inline-block",color:e.dataTypes.integer},string:{display:"inline-block",color:e.dataTypes.string},nan:{display:"inline-block",color:e.dataTypes.nan,fontSize:s.default.nanFontSize,fontWeight:s.default.nanFontWeight,backgroundColor:e.dataTypes.background,padding:s.default.nanPadding,borderRadius:s.default.nanBorderRadius},null:{display:"inline-block",color:e.dataTypes.null,fontSize:s.default.nullFontSize,fontWeight:s.default.nullFontWeight,backgroundColor:e.dataTypes.background,padding:s.default.nullPadding,borderRadius:s.default.nullBorderRadius},undefined:{display:"inline-block",color:e.dataTypes.undefined,fontSize:s.default.undefinedFontSize,padding:s.default.undefinedPadding,borderRadius:s.default.undefinedBorderRadius,backgroundColor:e.dataTypes.background},"copy-to-clipboard":{cursor:s.default.clipboardCursor},"copy-icon":{color:e.copyToClipboard,fontSize:s.default.iconFontSize,marginRight:s.default.iconMarginRight,verticalAlign:"top"},"object-meta-data":{display:"inline-block",padding:s.default.metaDataPadding},"icon-container":{display:"inline-block",width:s.default.iconContainerWidth},tooltip:{padding:s.default.tooltipPadding},removeVarIcon:{verticalAlign:"top",display:"inline-block",color:e.editVariable.removeIcon,cursor:s.default.iconCursor,fontSize:s.default.iconFontSize,marginRight:s.default.iconMarginRight},addVarIcon:{verticalAlign:"top",display:"inline-block",color:e.editVariable.addIcon,cursor:s.default.iconCursor,fontSize:s.default.iconFontSize,marginRight:s.default.iconMarginRight},editVarIcon:{verticalAlign:"top",display:"inline-block",color:e.editVariable.editIcon,cursor:s.default.iconCursor,fontSize:s.default.iconFontSize,marginRight:s.default.iconMarginRight},"edit-icon-container":{display:"inline-block",verticalAlign:"top"},"check-icon":{display:"inline-block",cursor:s.default.iconCursor,color:e.editVariable.checkIcon,fontSize:s.default.iconFontSize,paddingRight:s.default.iconPaddingRight},"cancel-icon":{display:"inline-block",cursor:s.default.iconCursor,color:e.editVariable.cancelIcon,fontSize:s.default.iconFontSize,paddingRight:s.default.iconPaddingRight},"edit-input":{display:"inline-block",minHeight:s.default.editInputHeight,minWidth:s.default.editInputMinWidth,borderRadius:s.default.editInputBorderRadius,backgroundColor:e.editVariable.background,color:e.editVariable.color,padding:s.default.editInputPadding,marginRight:s.default.editInputMarginRight,fontFamily:s.default.editInputFontFamily},"detected-row":{paddingTop:s.default.detectedRowPaddingTop},"key-modal-request":{position:s.default.addKeyCoverPosition,top:s.default.addKeyCoverPositionPx,left:s.default.addKeyCoverPositionPx,right:s.default.addKeyCoverPositionPx,bottom:s.default.addKeyCoverPositionPx,backgroundColor:s.default.addKeyCoverBackground},"key-modal":{width:s.default.addKeyModalWidth,backgroundColor:e.addKeyModal.background,marginLeft:s.default.addKeyModalMargin,marginRight:s.default.addKeyModalMargin,padding:s.default.addKeyModalPadding,borderRadius:s.default.addKeyModalRadius,marginTop:"15px",position:"relative"},"key-modal-label":{color:e.addKeyModal.labelColor,marginLeft:"2px",marginBottom:"5px",fontSize:"11px"},"key-modal-input-container":{overflow:"hidden"},"key-modal-input":{width:"100%",padding:"3px 6px",fontFamily:"monospace",color:e.addKeyModal.color,border:"none",boxSizing:"border-box",borderRadius:"2px"},"key-modal-cancel":{backgroundColor:e.editVariable.removeIcon,position:"absolute",top:"0px",right:"0px",borderRadius:"0px 3px 0px 3px",cursor:"pointer"},"key-modal-cancel-icon":{color:e.addKeyModal.labelColor,fontSize:s.default.iconFontSize,transform:"rotate(45deg)"},"key-modal-submit":{color:e.editVariable.addIcon,fontSize:s.default.iconFontSize,position:"absolute",right:"2px",top:"3px",cursor:"pointer"},"function-ellipsis":{display:"inline-block",color:e.ellipsisColor,fontSize:s.default.ellipsisFontSize,lineHeight:s.default.ellipsisLineHeight,cursor:s.default.ellipsisCursor},"validation-failure":{float:"right",padding:"3px 6px",borderRadius:"2px",cursor:"pointer",color:e.validationFailure.fontColor,backgroundColor:e.validationFailure.background},"validation-failure-label":{marginRight:"6px"},"validation-failure-clear":{position:"relative",verticalAlign:"top",cursor:"pointer",color:e.validationFailure.iconColor,fontSize:s.default.iconFontSize,transform:"rotate(45deg)"}}},c=function(t){var e=a.rjv_default;return!1!==t&&"none"!==t||(e=a.rjv_grey),(0,l.createStyling)(h,{defaultBase16:e})(t)}},function(t,e){var i=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=i)},function(t,e,i){var n=i(31)("wks"),r=i(22),a=i(4).Symbol,o="function"==typeof a;(t.exports=function(t){return n[t]||(n[t]=o&&a[t]||(o?a:r)("Symbol."+t))}).store=n},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e,i){"use strict";function n(t){var e=r(t);return"number"==e&&(e=isNaN(t)?"nan":(0|t)!=t?"float":"integer"),e}function r(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function a(t){var e=["base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0F","base0E"];if("object"==n(t))for(var i=0;16>i;i++)if(!(e[i]in t))return!1;return!0}Object.defineProperty(e,"__esModule",{value:!0}),e.toType=n,e.isTheme=a},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},l=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(0),h=n(u),c=i(1),f=n(c);e.default=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,[{key:"render",value:function(){var t=this.props,e=t.type_name,i=t.displayDataTypes,n=t.theme;return i?h.default.createElement("span",s({className:"data-type-label"},(0,f.default)(n,"data-type-label")),e):h.default.createElement("span",{className:"data-type-label hidden"})}}]),e}(h.default.Component)},function(t,e,i){var n=i(9),r=i(21);t.exports=i(10)?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(15),r=i(43),a=i(28),o=Object.defineProperty;e.f=i(10)?Object.defineProperty:function(t,e,i){if(n(t),e=a(e,!0),n(i),r)try{return o(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){t.exports=!i(11)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){var n=i(48),r=i(26);t.exports=function(t){return n(r(t))}},function(t,e,i){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);t.length>e;e++)i[e]=t[e];return i}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},l=i(155),u=i(14),h=function(t){return t&&t.__esModule?t:{default:t}}(u),c=i(5),f=function(t){function e(){var t,i,o,l;r(this,e);for(var u=arguments.length,h=Array(u),f=0;u>f;f++)h[f]=arguments[f];return i=o=a(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(h))),o.objects={},o.set=function(t,e,i,n){void 0===o.objects[t]&&(o.objects[t]={}),void 0===o.objects[t][e]&&(o.objects[t][e]={}),o.objects[t][e][i]=n},o.get=function(t,e,i,n){return void 0===o.objects[t]||void 0===o.objects[t][e]||void 0==o.objects[t][e][i]?n:o.objects[t][e][i]},o.handleAction=function(t){var e=t.rjvId,i=t.data;switch(t.name){case"RESET":o.emit("reset-"+e);break;case"VARIABLE_UPDATED":t.data.updated_src=o.updateSrc(e,i),o.set(e,"action","variable-update",s({},i,{type:"variable-edited"})),o.emit("variable-update-"+e);break;case"VARIABLE_REMOVED":t.data.updated_src=o.updateSrc(e,i),o.set(e,"action","variable-update",s({},i,{type:"variable-removed"})),o.emit("variable-update-"+e);break;case"VARIABLE_ADDED":t.data.updated_src=o.updateSrc(e,i),o.set(e,"action","variable-update",s({},i,{type:"variable-added"})),o.emit("variable-update-"+e);break;case"ADD_VARIABLE_KEY_REQUEST":o.set(e,"action","new-key-request",i),o.emit("add-key-request-"+e)}},o.updateSrc=function(t,e){var i=e.name,r=e.namespace,a=e.new_value,s=e.variable_removed;r.shift();var l=o.get(t,"global","src"),u=o.deepCopy(l,[].concat(n(r))),h=u,f=!0,d=!1,p=void 0;try{for(var g,m=r[Symbol.iterator]();!(f=(g=m.next()).done);f=!0)h=h[g.value]}catch(t){d=!0,p=t}finally{try{!f&&m.return&&m.return()}finally{if(d)throw p}}return s?"array"==(0,c.toType)(h)?h.splice(i,1):delete h[i]:null!==i?h[i]=a:u=a,o.set(t,"global","src",u),u},o.deepCopy=function(t,e){var i=(0,c.toType)(t),r=void 0,a=e.shift();return"array"==i?r=[].concat(n(t)):"object"==i&&(r=s({},t)),void 0!==a&&(r[a]=o.deepCopy(t[a],e)),r},l=i,a(o,l)}return o(e,t),e}(l.EventEmitter),d=new f;h.default.register(d.handleAction.bind(d)),e.default=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=new(i(156).Dispatcher)},function(t,e,i){var n=i(20);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports={}},function(t,e,i){var n=i(47),r=i(32);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e,i){"use strict";function n(t,e){var i={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return t||(t={}),{style:l({verticalAlign:"middle"},t,{color:t.color?t.color:f,height:"1em",width:"1em"})}}Object.defineProperty(e,"__esModule",{value:!0}),e.CheckCircle=e.Edit=e.Add=e.AddCircle=e.RemoveCircle=e.Clippy=e.ArrowDown=e.ArrowRight=e.SquarePlus=e.SquareMinus=e.CirclePlus=e.CircleMinus=void 0;var l=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},u=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),h=i(0),c=function(t){return t&&t.__esModule?t:{default:t}}(h),f="#000000";e.CircleMinus=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),u(e,[{key:"render",value:function(){var t=this.props,e=t.style,i=n(t,["style"]);return c.default.createElement("span",i,c.default.createElement("svg",l({},s(e),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),c.default.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"})))}}]),e}(c.default.Component),e.CirclePlus=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),u(e,[{key:"render",value:function(){var t=this.props,e=t.style,i=n(t,["style"]);return c.default.createElement("span",i,c.default.createElement("svg",l({},s(e),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),c.default.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"})))}}]),e}(c.default.Component),e.SquareMinus=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),u(e,[{key:"render",value:function(){var t=this.props,e=t.style,i=n(t,["style"]),r=s(e).style;return c.default.createElement("span",i,c.default.createElement("svg",{fill:r.color,width:r.height,height:r.width,style:r,viewBox:"0 0 1792 1792"},c.default.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),e}(c.default.Component),e.SquarePlus=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),u(e,[{key:"render",value:function(){var t=this.props,e=t.style,i=n(t,["style"]),r=s(e).style;return c.default.createElement("span",i,c.default.createElement("svg",{fill:r.color,width:r.height,height:r.width,style:r,viewBox:"0 0 1792 1792"},c.default.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),e}(c.default.Component),e.ArrowRight=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),u(e,[{key:"render",value:function(){var t=this.props,e=t.style,i=n(t,["style"]);return c.default.createElement("span",i,c.default.createElement("svg",{style:l({},s(e).style,{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},c.default.createElement("path",{d:"M0 14l6-6-6-6z"})))}}]),e}(c.default.Component),e.ArrowDown=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),u(e,[{key:"render",value:function(){var t=this.props,e=t.style,i=n(t,["style"]);return c.default.createElement("span",i,c.default.createElement("svg",{style:l({},s(e).style,{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},c.default.createElement("path",{d:"M0 5l6 6 6-6z"})))}}]),e}(c.default.Component),e.Clippy=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),u(e,[{key:"render",value:function(){var t=this.props,e=t.style,i=n(t,["style"]);return c.default.createElement("span",i,c.default.createElement("svg",l({},s(e),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),c.default.createElement("g",null,c.default.createElement("path",{d:"m30 35h-25v-22.5h25v7.5h2.5v-12.5c0-1.4-1.1-2.5-2.5-2.5h-7.5c0-2.8-2.2-5-5-5s-5 2.2-5 5h-7.5c-1.4 0-2.5 1.1-2.5 2.5v27.5c0 1.4 1.1 2.5 2.5 2.5h25c1.4 0 2.5-1.1 2.5-2.5v-5h-2.5v5z m-20-27.5h2.5s2.5-1.1 2.5-2.5 1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5 1.3 2.5 2.5 2.5h2.5s2.5 1.1 2.5 2.5h-20c0-1.5 1.1-2.5 2.5-2.5z m-2.5 20h5v-2.5h-5v2.5z m17.5-5v-5l-10 7.5 10 7.5v-5h12.5v-5h-12.5z m-17.5 10h7.5v-2.5h-7.5v2.5z m12.5-17.5h-12.5v2.5h12.5v-2.5z m-7.5 5h-5v2.5h5v-2.5z"}))))}}]),e}(c.default.Component),e.RemoveCircle=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),u(e,[{key:"render",value:function(){var t=this.props,e=t.style,i=n(t,["style"]);return c.default.createElement("span",i,c.default.createElement("svg",l({},s(e),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),c.default.createElement("g",null,c.default.createElement("path",{d:"m28.6 25q0-0.5-0.4-1l-4-4 4-4q0.4-0.5 0.4-1 0-0.6-0.4-1.1l-2-2q-0.4-0.4-1-0.4-0.6 0-1 0.4l-4.1 4.1-4-4.1q-0.4-0.4-1-0.4-0.6 0-1 0.4l-2 2q-0.5 0.5-0.5 1.1 0 0.5 0.5 1l4 4-4 4q-0.5 0.5-0.5 1 0 0.7 0.5 1.1l2 2q0.4 0.4 1 0.4 0.6 0 1-0.4l4-4.1 4.1 4.1q0.4 0.4 1 0.4 0.6 0 1-0.4l2-2q0.4-0.4 0.4-1z m8.7-5q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),e}(c.default.Component),e.AddCircle=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),u(e,[{key:"render",value:function(){var t=this.props,e=t.style,i=n(t,["style"]);return c.default.createElement("span",i,c.default.createElement("svg",l({},s(e),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),c.default.createElement("g",null,c.default.createElement("path",{d:"m30.1 21.4v-2.8q0-0.6-0.4-1t-1-0.5h-5.7v-5.7q0-0.6-0.4-1t-1-0.4h-2.9q-0.6 0-1 0.4t-0.4 1v5.7h-5.7q-0.6 0-1 0.5t-0.5 1v2.8q0 0.6 0.5 1t1 0.5h5.7v5.7q0 0.5 0.4 1t1 0.4h2.9q0.6 0 1-0.4t0.4-1v-5.7h5.7q0.6 0 1-0.5t0.4-1z m7.2-1.4q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),e}(c.default.Component),e.Add=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),u(e,[{key:"render",value:function(){var t=this.props,e=t.style,i=n(t,["style"]);return c.default.createElement("span",i,c.default.createElement("svg",l({},s(e),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),c.default.createElement("g",null,c.default.createElement("path",{d:"m31.6 21.6h-10v10h-3.2v-10h-10v-3.2h10v-10h3.2v10h10v3.2z"}))))}}]),e}(c.default.Component),e.Edit=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),u(e,[{key:"render",value:function(){var t=this.props,e=t.style,i=n(t,["style"]);return c.default.createElement("span",i,c.default.createElement("svg",l({},s(e),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),c.default.createElement("g",null,c.default.createElement("path",{d:"m19.8 26.4l2.6-2.6-3.4-3.4-2.6 2.6v1.3h2.2v2.1h1.2z m9.8-16q-0.3-0.4-0.7 0l-7.8 7.8q-0.4 0.4 0 0.7t0.7 0l7.8-7.8q0.4-0.4 0-0.7z m1.8 13.2v4.3q0 2.6-1.9 4.5t-4.5 1.9h-18.6q-2.6 0-4.5-1.9t-1.9-4.5v-18.6q0-2.7 1.9-4.6t4.5-1.8h18.6q1.4 0 2.6 0.5 0.3 0.2 0.4 0.5 0.1 0.4-0.2 0.7l-1.1 1.1q-0.3 0.3-0.7 0.1-0.5-0.1-1-0.1h-18.6q-1.4 0-2.5 1.1t-1 2.5v18.6q0 1.4 1 2.5t2.5 1h18.6q1.5 0 2.5-1t1.1-2.5v-2.9q0-0.2 0.2-0.4l1.4-1.5q0.3-0.3 0.8-0.1t0.4 0.6z m-2.1-16.5l6.4 6.5-15 15h-6.4v-6.5z m9.9 3l-2.1 2-6.4-6.4 2.1-2q0.6-0.7 1.5-0.7t1.5 0.7l3.4 3.4q0.6 0.6 0.6 1.5t-0.6 1.5z"}))))}}]),e}(c.default.Component),e.CheckCircle=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),u(e,[{key:"render",value:function(){var t=this.props,e=t.style,i=n(t,["style"]);return c.default.createElement("span",i,c.default.createElement("svg",l({},s(e),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),c.default.createElement("g",null,c.default.createElement("path",{d:"m31.7 16.4q0-0.6-0.4-1l-2.1-2.1q-0.4-0.4-1-0.4t-1 0.4l-9.1 9.1-5-5q-0.5-0.4-1-0.4t-1 0.4l-2.1 2q-0.4 0.4-0.4 1 0 0.6 0.4 1l8.1 8.1q0.4 0.4 1 0.4 0.6 0 1-0.4l12.2-12.1q0.4-0.4 0.4-1z m5.6 3.6q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),e}(c.default.Component)},function(t,e,i){var n=i(4),r=i(2),a=i(65),o=i(8),s=function(t,e,i){var l,u,h,c=t&s.F,f=t&s.G,d=t&s.S,p=t&s.P,g=t&s.B,m=t&s.W,_=f?r:r[e]||(r[e]={}),y=_.prototype,v=f?n:d?n[e]:(n[e]||{}).prototype;f&&(i=e);for(l in i)(u=!c&&v&&void 0!==v[l])&&l in _||(h=u?v[l]:i[l],_[l]=f&&"function"!=typeof v[l]?i[l]:g&&u?a(h,n):m&&v[l]==h?function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):p&&"function"==typeof h?a(Function.call,h):h,p&&((_.virtual||(_.virtual={}))[l]=h,t&s.R&&y&&!y[l]&&o(y,l,h)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){"use strict";var n=i(64)(!0);i(42)(String,"String",function(t){this._t=t+"",this._i=0},function(){var t,e=this._t,i=this._i;return e.length>i?(t=n(e,i),this._i+=t.length,{value:t,done:!1}):{value:void 0,done:!0}})},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=!0},function(t,e,i){var n=i(20);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){var n=i(31)("keys"),r=i(22);t.exports=function(t){return n[t]||(n[t]=r(t))}},function(t,e,i){var n=i(4),r=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var n=i(9).f,r=i(6),a=i(3)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,a)&&n(t,a,{configurable:!0,value:e})}},function(t,e,i){var n=i(26);t.exports=function(t){return Object(n(t))}},function(t,e,i){i(74);for(var n=i(4),r=i(8),a=i(16),o=i(3)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;s.length>l;l++){var u=s[l],h=n[u],c=h&&h.prototype;c&&!c[o]&&r(c,o,u),a[u]=a.Array}},function(t,e,i){e.f=i(3)},function(t,e,i){var n=i(4),r=i(2),a=i(27),o=i(36),s=i(9).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=a?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){function i(t,e,i){return Math.min(Math.max(t,e),i)}t.exports=i},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var i={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},u=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),h=i(0),c=n(h),f=i(5),d=i(41),p=i(163),g=n(p),m=i(171),_=n(m),y=i(13),v=n(y),E=i(18),b=i(1),x=n(b),C=function(){var t=this;this.state={},this.initializeState=function(e){var i=Object.keys(e.src).length,n=(!1===e.collapsed||!0!==e.collapsed&&e.collapsed>e.depth)&&0!==i,r={rjvId:e.rjvId,state_key:e.namespace.join("."),namespace:e.namespace,indentWidth:e.indentWidth,expanded:v.default.get(e.rjvId,e.namespace,"expanded",n),object_type:"array"==e.type?"array":"object",parent_type:"array"==e.type?"array":"object",display_name:e.name?e.name:"",size:i};return l({},t.state,r)},this.toggleCollapsed=function(){t.state.expanded=!t.state.expanded,v.default.set(t.state.rjvId,t.state.namespace,"expanded",t.state.expanded),t.setState(t.state)},this.getObjectContent=function(e,i,n){return c.default.createElement("div",{className:"pushed-content object-container"},c.default.createElement("div",l({className:"object-content"},(0,x.default)(t.props.theme,"pushed-content")),t.renderObjectContents(i,n)))},this.getEllipsis=function(){return 0===t.state.size?null:c.default.createElement("div",l({},(0,x.default)(t.props.theme,"ellipsis"),{className:"node-ellipsis",onClick:t.toggleCollapsed}),"...")},this.getObjectMetaData=function(e){return c.default.createElement(_.default,l({size:t.state.size},t.props))},this.renderObjectContents=function(e,i){var n=t.props,r=n.depth,a=t.state,o=a.namespace,s=a.object_type,u=[],h=void 0;for(var f in e)h=new S(f,e[f]),e.hasOwnProperty(f)&&u.push("object"==h.type?c.default.createElement(d.JsonObject,l({key:h.name,depth:r+1,name:h.name,src:h.value,namespace:o.concat(h.name),parent_type:s},i)):"array"==h.type?c.default.createElement(d.JsonObject,l({key:h.name,depth:r+1,name:h.name,src:h.value,namespace:o.concat(h.name),type:"array",parent_type:s},i)):c.default.createElement(g.default,l({key:h.name+"_"+o,variable:h,singleIndent:5,namespace:o,type:t.props.type},i)));return u},this.getObjectName=function(){var e=t.props,i=e.parent_type,n=e.namespace,r=e.theme,a=e.jsvRoot,o=e.name,s=t.state.display_name;return!a||!1!==o&&null!==o?"array"==i?c.default.createElement("span",l({},(0,x.default)(r,"array-key"),{key:n}),c.default.createElement("span",{className:"array-key"},s),c.default.createElement("span",(0,x.default)(r,"colon"),":")):c.default.createElement("span",l({},(0,x.default)(r,"object-name"),{key:n}),c.default.createElement("span",{className:"object-key"},c.default.createElement("span",{style:{verticalAlign:"top"}},'"'),c.default.createElement("span",null,s),c.default.createElement("span",{style:{verticalAlign:"top"}},'"')),c.default.createElement("span",(0,x.default)(r,"colon"),":")):c.default.createElement("span",null)},this.getCollapsedIcon=function(){var e=t.props,i=e.theme;switch(e.iconStyle){case"triangle":return c.default.createElement(E.ArrowRight,l({},(0,x.default)(i,"collapsed-icon"),{className:"collapsed-icon"}));case"square":return c.default.createElement(E.SquarePlus,l({},(0,x.default)(i,"collapsed-icon"),{className:"collapsed-icon"}));default:return c.default.createElement(E.CirclePlus,l({},(0,x.default)(i,"collapsed-icon"),{className:"collapsed-icon"}))}},this.getExpandedIcon=function(){var e=t.props,i=e.theme;switch(e.iconStyle){case"triangle":return c.default.createElement(E.ArrowDown,l({},(0,x.default)(i,"expanded-icon"),{className:"expanded-icon"}));case"square":return c.default.createElement(E.SquareMinus,l({},(0,x.default)(i,"expanded-icon"),{className:"expanded-icon"}));default:return c.default.createElement(E.CircleMinus,l({},(0,x.default)(i,"expanded-icon"),{className:"expanded-icon"}))}}},S=function t(e,i){a(this,t),this.name=e,this.value=i,this.type=(0,f.toType)(i)};e.default=function(t){function e(t){a(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return C.call(i),i.state=i.initializeState(t),i}return s(e,t),u(e,[{key:"componentWillReceiveProps",value:function(t){this.setState(this.initializeState(t))}},{key:"render",value:function(){var t=this,e=this.props,i=e.depth,n=e.src,a=e.theme,o=e.jsvRoot,s=r(e,["depth","src","namespace","name","type","parent_type","theme","jsvRoot"]),u=this.state,h=u.object_type,f=u.expanded,d=void 0,p=0;return d=f?this.getExpandedIcon():this.getCollapsedIcon(),o||(p=5*this.props.indentWidth),c.default.createElement("div",l({className:"object-key-val"},(0,x.default)(a,o?"jsv-root":"objectKeyVal",{paddingLeft:p})),c.default.createElement("span",null,c.default.createElement("span",l({onClick:function(e){t.toggleCollapsed()}},(0,x.default)(a,"brace-row")),c.default.createElement("div",l({className:"icon-container"},(0,x.default)(a,"icon-container")),d),this.getObjectName(),c.default.createElement("span",(0,x.default)(a,"brace"),"array"==h?"[":"{")),f?this.getObjectMetaData(n):null),f?this.getObjectContent(i,n,l({theme:a},s)):this.getEllipsis(),c.default.createElement("span",{className:"brace-row"},c.default.createElement("span",{style:l({},(0,x.default)(a,"brace").style,{paddingLeft:f?"3px":"0px"})},"array"==h?"]":"}"),f?null:this.getObjectMetaData(n)))}}]),e}(c.default.Component)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(57);Object.defineProperty(e,"JsonBoolean",{enumerable:!0,get:function(){return n(r).default}});var a=i(152);Object.defineProperty(e,"JsonDate",{enumerable:!0,get:function(){return n(a).default}});var o=i(153);Object.defineProperty(e,"JsonFloat",{enumerable:!0,get:function(){return n(o).default}});var s=i(154);Object.defineProperty(e,"JsonFunction",{enumerable:!0,get:function(){return n(s).default}});var l=i(158);Object.defineProperty(e,"JsonNan",{enumerable:!0,get:function(){return n(l).default}});var u=i(159);Object.defineProperty(e,"JsonNull",{enumerable:!0,get:function(){return n(u).default}});var h=i(160);Object.defineProperty(e,"JsonInteger",{enumerable:!0,get:function(){return n(h).default}});var c=i(40);Object.defineProperty(e,"JsonObject",{enumerable:!0,get:function(){return n(c).default}});var f=i(161);Object.defineProperty(e,"JsonString",{enumerable:!0,get:function(){return n(f).default}});var d=i(162);Object.defineProperty(e,"JsonUndefined",{enumerable:!0,get:function(){return n(d).default}})},function(t,e,i){"use strict";var n=i(27),r=i(19),a=i(45),o=i(8),s=i(6),l=i(16),u=i(67),h=i(33),c=i(73),f=i(3)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,i,g,m,_,y){u(i,e,g);var v,E,b,x=function(t){if(!d&&t in R)return R[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},C=e+" Iterator",S="values"==m,T=!1,R=t.prototype,M=R[f]||R["@@iterator"]||m&&R[m],w=M||x(m),O=m?S?x("entries"):w:void 0,A="Array"==e?R.entries||M:M;if(A&&(b=c(A.call(new t)))!==Object.prototype&&b.next&&(h(b,C,!0),n||s(b,f)||o(b,f,p)),S&&M&&"values"!==M.name&&(T=!0,w=function(){return M.call(this)}),n&&!y||!d&&!T&&R[f]||o(R,f,w),l[e]=w,l[C]=p,m)if(v={values:S?w:x("values"),keys:_?w:x("keys"),entries:O},y)for(E in v)E in R||a(R,E,v[E]);else r(r.P+r.F*(d||T),e,v);return v}},function(t,e,i){t.exports=!i(10)&&!i(11)(function(){return 7!=Object.defineProperty(i(44)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(20),r=i(4).document,a=n(r)&&n(r.createElement);t.exports=function(t){return a?r.createElement(t):{}}},function(t,e,i){t.exports=i(8)},function(t,e,i){var n=i(15),r=i(68),a=i(32),o=i(30)("IE_PROTO"),s=function(){},l=function(){var t,e=i(44)("iframe"),n=a.length;for(e.style.display="none",i(72).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l.prototype[a[n]];return l()};t.exports=Object.create||function(t,e){var i;return null!==t?(s.prototype=n(t),i=new s,s.prototype=null,i[o]=t):i=l(),void 0===e?i:r(i,e)}},function(t,e,i){var n=i(6),r=i(12),a=i(69)(!1),o=i(30)("IE_PROTO");t.exports=function(t,e){var i,s=r(t),l=0,u=[];for(i in s)i!=o&&n(s,i)&&u.push(i);for(;e.length>l;)n(s,i=e[l++])&&(~a(u,i)||u.push(i));return u}},function(t,e,i){var n=i(29);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,i){var n=i(47),r=i(32).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},function(t,e,i){var n=i(29),r=i(3)("toStringTag"),a="Arguments"==n(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,i,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=o(e=Object(t),r))?i:a?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){function i(t){return t.match(n)}var n=/-?\d+(\.\d+)?%?/g;t.exports=i},function(t,e,i){"use strict";function n(t,e,i,n,a,o,s,l){if(r(e),!t){var u;if(void 0===e)u=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[i,n,a,o,s,l],c=0;u=Error(e.replace(/%s/g,function(){return h[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var r=function(t){};t.exports=n},function(t,e,i){t.exports=i(55)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var i={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},u=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),h=i(0),c=n(h),f=i(56),d=n(f),p=i(180),g=n(p),m=i(182),_=n(m),y=i(5),v=i(13),E=n(v),b=i(1),x=n(b);i(183);var C=function(){var t=this;this.state={addKeyRequest:!1,validationFailure:!1},this.rjvId=""+Date.now(),this.defaults={src:{},name:"root",theme:"rjv-default",collapsed:!1,collapseStringsAfterLength:!1,indentWidth:4,enableClipboard:!0,displayObjectSize:!0,displayDataTypes:!0,onEdit:!1,onDelete:!1,onAdd:!1,onSelect:!1,iconStyle:"triangle",style:{},validationMessage:"Validation Error"},this.getListeners=function(){return{reset:t.resetState,"variable-update":t.updateSrc,"add-key-request":t.addKeyRequest}},this.init=function(e){for(var i in t.defaults)t.state[i]=void 0!==e[i]?e[i]:t.defaults[i];t.validateInput(),E.default.set(t.rjvId,"global","src",t.state.src)},this.validateInput=function(){"object"!==(0,y.toType)(t.state.theme)||(0,y.isTheme)(t.state.theme)||(console.error("react-json-view error:","theme prop must be a theme name or valid base-16 theme object.",'defaulting to "rjv-default" theme'),t.state.theme="rjv-default"),"object"!==(0,y.toType)(t.state.src)&&"array"!==(0,y.toType)(t.state.src)&&(console.error("react-json-view error:","src property must be a valid json object"),t.state.name="ERROR",t.state.src={message:"src property must be a valid json object"})},this.updateSrc=function(){var e=E.default.get(t.rjvId,"action","variable-update"),i=e.name,n=e.namespace,r=e.new_value,a=e.existing_value,o=e.updated_src,s=e.type,l=t.state,u=l.onEdit,h=l.onDelete,c=l.onAdd,f=void 0,d={existing_src:t.state.src,new_value:r,updated_src:o,name:i,namespace:n,existing_value:a};switch(s){case"variable-added":f=c(d);break;case"variable-edited":f=u(d);break;case"variable-removed":f=h(d)}!1!==f?(E.default.set(t.rjvId,"global","src",o),t.state.src=o):t.state.validationFailure=!0,t.setState(t.state)},this.addKeyRequest=function(){t.setState({addKeyRequest:!0})},this.resetState=function(){t.state.validationFailure=!1,t.setState(t.state)}};e.default=function(t){function e(t){a(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return C.call(i),i.init(t),E.default.set(i.rjvId,"global","src",i.state.src),i}return s(e,t),u(e,[{key:"componentWillMount",value:function(){var t=this.getListeners();for(var e in t)E.default.on(e+"-"+this.rjvId,t[e])}},{key:"componentWillUnmount",value:function(){var t=this.getListeners();for(var e in t)E.default.removeListener(e+"-"+this.rjvId,t[e])}},{key:"render",value:function(){var t=this.state,e=t.validationFailure,i=t.validationMessage,n=t.addKeyRequest,a=t.style,o=r(t,["validationFailure","validationMessage","addKeyRequest","style"]);return this.state.addKeyRequest=!1,this.state.editKeyRequest=!1,c.default.createElement("div",{className:"react-json-view",style:l({},(0,x.default)(o.theme,"app-container").style,a)},c.default.createElement(_.default,{message:i,active:e,theme:o.theme,rjvId:this.rjvId}),c.default.createElement(d.default,l({},o,{type:(0,y.toType)(o.src),rjvId:this.rjvId})),c.default.createElement(g.default,{active:n,theme:o.theme,rjvId:this.rjvId}))}},{key:"componentWillReceiveProps",value:function(t){this.init(t),this.setState(this.state)}}]),e}(c.default.Component)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},l=i(0),u=n(l),h=i(40),c=n(h);e.default=function(t){function e(){var t,i,n,o;r(this,e);for(var l=arguments.length,h=Array(l),f=0;l>f;f++)h[f]=arguments[f];return i=n=a(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(h))),n.render=function(){var t=n,e=t.props;return u.default.createElement("div",{className:"pretty-json-container object-container"},u.default.createElement("div",{className:"object-content"},u.default.createElement(c.default,s({namespace:[e.name],depth:0,jsvRoot:!0},e))))},o=i,a(n,o)}return o(e,t),e}(u.default.Component)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},l=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(0),h=n(u),c=i(7),f=n(c),d=i(1),p=n(d);e.default=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,[{key:"render",value:function(){var t=this.props;return h.default.createElement("div",(0,p.default)(t.theme,"boolean"),h.default.createElement(f.default,s({type_name:"bool"},t)),t.value?"true":"false")}}]),e}(h.default.Component)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rjv_default={scheme:"rjv-default",author:"mac gainor",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#dc322f",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},e.rjv_grey={scheme:"rjv-grey",author:"mac gainor",base00:"rgba(1, 1, 1, 0)",base01:"rgba(1, 1, 1, 0.1)",base02:"rgba(0, 0, 0, 0.2)",base03:"rgba(1, 1, 1, 0.3)",base04:"rgba(0, 0, 0, 0.4)",base05:"rgba(1, 1, 1, 0.5)",base06:"rgba(1, 1, 1, 0.6)",base07:"rgba(1, 1, 1, 0.7)",base08:"rgba(1, 1, 1, 0.8)",base09:"rgba(1, 1, 1, 0.8)",base0A:"rgba(1, 1, 1, 0.8)",base0B:"rgba(1, 1, 1, 0.8)",base0C:"rgba(1, 1, 1, 0.8)",base0D:"rgba(1, 1, 1, 0.8)",base0E:"rgba(1, 1, 1, 0.8)",base0F:"rgba(1, 1, 1, 0.8)"}},function(t,e,i){"use strict";function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var r;e.default=(r={white:"#fff",black:"#000",transparent:"rgba(1, 1, 1, 0)",globalFontFamily:"monospace",globalCursor:"default",indentBlockWidth:"5px",braceFontWeight:"bold",braceCursor:"pointer",ellipsisFontSize:"18px",ellipsisLineHeight:"10px",ellipsisCursor:"pointer",keyMargin:"0px 5px",keyLetterSpacing:"0.5px",keyFontStyle:"none",keyBorderRadius:"3px",keyColonWeight:"bold",keyVerticalAlign:"top",keyOpacity:"0.85",keyOpacityHover:"1",keyValPaddingTop:"3px",keyValPaddingBottom:"3px",keyValPaddingRight:"5px",keyValBorderLeft:"1px solid",keyValBorderHover:"2px solid",keyValPaddingHover:"3px 5px 3px 4px",pushedContentMarginLeft:"6px",variableValuePaddingRight:"6px",nullFontSize:"11px",nullFontWeight:"bold",nullPadding:"1px 2px",nullBorderRadius:"3px",nanFontSize:"11px",nanFontWeight:"bold",nanPadding:"1px 2px",nanBorderRadius:"3px",undefinedFontSize:"11px",undefinedFontWeight:"bold",undefinedPadding:"1px 2px",undefinedBorderRadius:"3px"},n(r,"nullFontSize","11px"),n(r,"nullFontWeight","bold"),n(r,"nullPadding","1px 2px"),n(r,"nullBorderRadius","3px"),n(r,"dataTypeFontSize","11px"),n(r,"dataTypeMarginRight","4px"),n(r,"datatypeOpacity","0.8"),n(r,"objectSizeBorderRadius","3px"),n(r,"objectSizeFontStyle","italic"),n(r,"objectSizeMargin","0px 6px 0px 0px"),n(r,"clipboardCursor","pointer"),n(r,"metaDataPadding","0px 0px 0px 10px"),n(r,"iconContainerWidth","17px"),n(r,"tooltipPadding","4px"),n(r,"editInputHeight","25px"),n(r,"editInputMinWidth","130px"),n(r,"editInputBorderRadius","2px"),n(r,"editInputPadding","5px"),n(r,"editInputMarginRight","4px"),n(r,"editInputFontFamily","monospace"),n(r,"iconCursor","pointer"),n(r,"iconFontSize","15px"),n(r,"iconPaddingRight","1px"),n(r,"dateValueMarginLeft","2px"),n(r,"iconMarginRight","3px"),n(r,"detectedRowPaddingTop","3px"),n(r,"addKeyCoverBackground","rgba(255, 255, 255, 0.3)"),n(r,"addKeyCoverPosition","absolute"),n(r,"addKeyCoverPositionPx","0px"),n(r,"addKeyModalWidth","200px"),n(r,"addKeyModalMargin","auto"),n(r,"addKeyModalPadding","10px"),n(r,"addKeyModalRadius","3px"),r)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.getBase16Theme=e.createStyling=e.invertTheme=void 0;var r=i(61),a=n(r),o=i(88),s=n(o),l=i(93),u=n(l),h=i(101),c=n(h),f=i(105),d=n(f),p=i(106),g=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(p),m=i(144),_=n(m),y=i(145),v=n(y),E=i(150),b=n(E),x=i(151),C=g.default,S=(0,c.default)(C),T=function(t){return.25>t?1:.5>t?.9-t:1.1-t},R=(0,b.default)(v.default,x.rgb2yuv,function(t){var e=(0,u.default)(t,3),i=e[0],n=e[1],r=e[2];return[T(i),n,r]},x.yuv2rgb,_.default),M=function(t){return function(e){return{className:[e.className,t.className].filter(Boolean).join(" "),style:(0,s.default)({},e.style||{},t.style||{})}}},w=function(t,e){if(void 0===t)return e;if(void 0===e)return t;var i=void 0===t?"undefined":(0,a.default)(t),n=void 0===e?"undefined":(0,a.default)(e);switch(i){case"string":switch(n){case"string":return[e,t].filter(Boolean).join(" ");case"object":return M({className:t,style:e});case"function":return function(i){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;n>a;a++)r[a-1]=arguments[a];return M({className:t})(e.apply(void 0,[i].concat(r)))}}case"object":switch(n){case"string":return M({className:e,style:t});case"object":return(0,s.default)({},e,t);case"function":return function(i){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;n>a;a++)r[a-1]=arguments[a];return M({style:t})(e.apply(void 0,[i].concat(r)))}}case"function":switch(n){case"string":return function(i){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;n>a;a++)r[a-1]=arguments[a];return t.apply(void 0,[M(i)({className:e})].concat(r))};case"object":return function(i){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;n>a;a++)r[a-1]=arguments[a];return t.apply(void 0,[M(i)({style:e})].concat(r))};case"function":return function(i){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;n>a;a++)r[a-1]=arguments[a];return t.apply(void 0,[e.apply(void 0,[i].concat(r))].concat(r))}}}},O=function(t,e){var i=(0,c.default)(e);for(var n in t)-1===i.indexOf(n)&&i.push(n);return i.reduce(function(i,n){return i[n]=w(t[n],e[n]),i},{})},A=function(t,e){for(var i=arguments.length,n=Array(i>2?i-2:0),r=2;i>r;r++)n[r-2]=arguments[r];if(null===e)return t;Array.isArray(e)||(e=[e]);var o=e.map(function(e){return t[e]}).filter(Boolean),l=o.reduce(function(t,e){return"string"==typeof e?t.className=[t.className,e].filter(Boolean).join(" "):"object"===(void 0===e?"undefined":(0,a.default)(e))?t.style=(0,s.default)({},t.style,e):"function"==typeof e&&(t=(0,s.default)({},t,e.apply(void 0,[t].concat(n)))),t},{className:"",style:{}});return l.className||delete l.className,0===(0,c.default)(l.style).length&&delete l.style,l},I=e.invertTheme=function(t){return(0,c.default)(t).reduce(function(e,i){return e[i]=/^base/.test(i)?R(t[i]):"scheme"===i?t[i]+":inverted":t[i],e},{})},P=(e.createStyling=(0,d.default)(function(t){for(var e=arguments.length,i=Array(e>3?e-3:0),n=3;e>n;n++)i[n-3]=arguments[n];var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.defaultBase16,l=void 0===o?C:o,u=r.base16Themes,h=void 0===u?null:u,f=P(a,h);f&&(a=(0,s.default)({},f,a));var p=S.reduce(function(t,e){return t[e]=a[e]||l[e],t},{}),g=(0,c.default)(a).reduce(function(t,e){return-1===S.indexOf(e)?(t[e]=a[e],t):t},{}),m=t(p),_=O(g,m);return(0,d.default)(A,2).apply(void 0,[_].concat(i))},3),e.getBase16Theme=function(t,e){if(t&&t.extend&&(t=t.extend),"string"==typeof t){var i=t.split(":"),n=(0,u.default)(i,2),r=n[0],a=n[1];t=(e||{})[r]||g[r],"inverted"===a&&(t=I(t))}return t&&t.hasOwnProperty("base00")?t:void 0})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(62),a=n(r),o=i(77),s=n(o),l="function"==typeof s.default&&"symbol"==typeof a.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===l(a.default)?function(t){return void 0===t?"undefined":l(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":void 0===t?"undefined":l(t)}},function(t,e,i){t.exports={default:i(63),__esModule:!0}},function(t,e,i){i(24),i(35),t.exports=i(36).f("iterator")},function(t,e,i){var n=i(25),r=i(26);t.exports=function(t){return function(e,i){var a,o,s=r(e)+"",l=n(i),u=s.length;return 0>l||l>=u?t?"":void 0:(a=s.charCodeAt(l),55296>a||a>56319||l+1===u||56320>(o=s.charCodeAt(l+1))||o>57343?t?s.charAt(l):a:t?s.slice(l,l+2):o-56320+(a-55296<<10)+65536)}}},function(t,e,i){var n=i(66);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){"use strict";var n=i(46),r=i(21),a=i(33),o={};i(8)(o,i(3)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(o,{next:r(1,i)}),a(t,e+" Iterator")}},function(t,e,i){var n=i(9),r=i(15),a=i(17);t.exports=i(10)?Object.defineProperties:function(t,e){r(t);for(var i,o=a(e),s=o.length,l=0;s>l;)n.f(t,i=o[l++],e[i]);return t}},function(t,e,i){var n=i(12),r=i(70),a=i(71);t.exports=function(t){return function(e,i,o){var s,l=n(e),u=r(l.length),h=a(o,u);if(t&&i!=i){for(;u>h;)if((s=l[h++])!=s)return!0}else for(;u>h;h++)if((t||h in l)&&l[h]===i)return t||h||0;return!t&&-1}}},function(t,e,i){var n=i(25),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},function(t,e,i){var n=i(25),r=Math.max,a=Math.min;t.exports=function(t,e){return t=n(t),0>t?r(t+e,0):a(t,e)}},function(t,e,i){var n=i(4).document;t.exports=n&&n.documentElement},function(t,e,i){var n=i(6),r=i(34),a=i(30)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),n(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,i){"use strict";var n=i(75),r=i(76),a=i(16),o=i(12);t.exports=i(42)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return t&&t.length>i?"keys"==e?r(0,i):"values"==e?r(0,t[i]):r(0,[i,t[i]]):(this._t=void 0,r(1))},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){t.exports={default:i(78),__esModule:!0}},function(t,e,i){i(79),i(85),i(86),i(87),t.exports=i(2).Symbol},function(t,e,i){"use strict";var n=i(4),r=i(6),a=i(10),o=i(19),s=i(45),l=i(80).KEY,u=i(11),h=i(31),c=i(33),f=i(22),d=i(3),p=i(36),g=i(37),m=i(81),_=i(82),y=i(15),v=i(12),E=i(28),b=i(21),x=i(46),C=i(83),S=i(84),T=i(9),R=i(17),M=S.f,w=T.f,O=C.f,A=n.Symbol,I=n.JSON,P=I&&I.stringify,L=d("_hidden"),N=d("toPrimitive"),F={}.propertyIsEnumerable,D=h("symbol-registry"),k=h("symbols"),G=h("op-symbols"),j=Object.prototype,U="function"==typeof A,B=n.QObject,W=!B||!B.prototype||!B.prototype.findChild,z=a&&u(function(){return 7!=x(w({},"a",{get:function(){return w(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=M(j,e);n&&delete j[e],w(t,e,i),n&&t!==j&&w(j,e,n)}:w,X=function(t){var e=k[t]=x(A.prototype);return e._k=t,e},V=U&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},Y=function(t,e,i){return t===j&&Y(G,e,i),y(t),e=E(e,!0),y(i),r(k,e)?(i.enumerable?(r(t,L)&&t[L][e]&&(t[L][e]=!1),i=x(i,{enumerable:b(0,!1)})):(r(t,L)||w(t,L,b(1,{})),t[L][e]=!0),z(t,e,i)):w(t,e,i)},q=function(t,e){y(t);for(var i,n=m(e=v(e)),r=0,a=n.length;a>r;)Y(t,i=n[r++],e[i]);return t},H=function(t,e){return void 0===e?x(t):q(x(t),e)},K=function(t){var e=F.call(this,t=E(t,!0));return!(this===j&&r(k,t)&&!r(G,t))&&(!(e||!r(this,t)||!r(k,t)||r(this,L)&&this[L][t])||e)},Z=function(t,e){if(t=v(t),e=E(e,!0),t!==j||!r(k,e)||r(G,e)){var i=M(t,e);return!i||!r(k,e)||r(t,L)&&t[L][e]||(i.enumerable=!0),i}},J=function(t){for(var e,i=O(v(t)),n=[],a=0;i.length>a;)r(k,e=i[a++])||e==L||e==l||n.push(e);return n},Q=function(t){for(var e,i=t===j,n=O(i?G:v(t)),a=[],o=0;n.length>o;)!r(k,e=n[o++])||i&&!r(j,e)||a.push(k[e]);return a};U||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(i){this===j&&e.call(G,i),r(this,L)&&r(this[L],t)&&(this[L][t]=!1),z(this,t,b(1,i))};return a&&W&&z(j,t,{configurable:!0,set:e}),X(t)},s(A.prototype,"toString",function(){return this._k}),S.f=Z,T.f=Y,i(49).f=C.f=J,i(23).f=K,i(38).f=Q,a&&!i(27)&&s(j,"propertyIsEnumerable",K,!0),p.f=function(t){return X(d(t))}),o(o.G+o.W+o.F*!U,{Symbol:A});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;$.length>tt;)d($[tt++]);for(var et=R(d.store),it=0;et.length>it;)g(et[it++]);o(o.S+o.F*!U,"Symbol",{for:function(t){return r(D,t+="")?D[t]:D[t]=A(t)},keyFor:function(t){if(!V(t))throw TypeError(t+" is not a symbol!");for(var e in D)if(D[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),o(o.S+o.F*!U,"Object",{create:H,defineProperty:Y,defineProperties:q,getOwnPropertyDescriptor:Z,getOwnPropertyNames:J,getOwnPropertySymbols:Q}),I&&o(o.S+o.F*(!U||u(function(){var t=A();return"[null]"!=P([t])||"{}"!=P({a:t})||"{}"!=P(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!V(t)){for(var e,i,n=[t],r=1;arguments.length>r;)n.push(arguments[r++]);return e=n[1],"function"==typeof e&&(i=e),!i&&_(e)||(e=function(t,e){if(i&&(e=i.call(this,t,e)),!V(e))return e}),n[1]=e,P.apply(I,n)}}}),A.prototype[N]||i(8)(A.prototype,N,A.prototype.valueOf),c(A,"Symbol"),c(Math,"Math",!0),c(n.JSON,"JSON",!0)},function(t,e,i){var n=i(22)("meta"),r=i(20),a=i(6),o=i(9).f,s=0,l=Object.isExtensible||function(){return!0},u=!i(11)(function(){return l(Object.preventExtensions({}))}),h=function(t){o(t,n,{value:{i:"O"+ ++s,w:{}}})},c=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,n)){if(!l(t))return"F";if(!e)return"E";h(t)}return t[n].i},f=function(t,e){if(!a(t,n)){if(!l(t))return!0;if(!e)return!1;h(t)}return t[n].w},d=function(t){return u&&p.NEED&&l(t)&&!a(t,n)&&h(t),t},p=t.exports={KEY:n,NEED:!1,fastKey:c,getWeak:f,onFreeze:d}},function(t,e,i){var n=i(17),r=i(38),a=i(23);t.exports=function(t){var e=n(t),i=r.f;if(i)for(var o,s=i(t),l=a.f,u=0;s.length>u;)l.call(t,o=s[u++])&&e.push(o);return e}},function(t,e,i){var n=i(29);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(12),r=i(49).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return r(t)}catch(t){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?s(t):r(n(t))}},function(t,e,i){var n=i(23),r=i(21),a=i(12),o=i(28),s=i(6),l=i(43),u=Object.getOwnPropertyDescriptor;e.f=i(10)?u:function(t,e){if(t=a(t),e=o(e,!0),l)try{return u(t,e)}catch(t){}if(s(t,e))return r(!n.f.call(t,e),t[e])}},function(t,e){},function(t,e,i){i(37)("asyncIterator")},function(t,e,i){i(37)("observable")},function(t,e,i){"use strict";e.__esModule=!0;var n=i(89);e.default=function(t){return t&&t.__esModule?t:{default:t}}(n).default||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}},function(t,e,i){t.exports={default:i(90),__esModule:!0}},function(t,e,i){i(91),t.exports=i(2).Object.assign},function(t,e,i){var n=i(19);n(n.S+n.F,"Object",{assign:i(92)})},function(t,e,i){"use strict";var n=i(17),r=i(38),a=i(23),o=i(34),s=i(48),l=Object.assign;t.exports=!l||i(11)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=l({},t)[i]||Object.keys(l({},e)).join("")!=n})?function(t,e){for(var i=o(t),l=arguments.length,u=1,h=r.f,c=a.f;l>u;)for(var f,d=s(arguments[u++]),p=h?n(d).concat(h(d)):n(d),g=p.length,m=0;g>m;)c.call(d,f=p[m++])&&(i[f]=d[f]);return i}:l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(94),a=n(r),o=i(97),s=n(o);e.default=function(){function t(t,e){var i=[],n=!0,r=!1,a=void 0;try{for(var o,l=(0,s.default)(t);!(n=(o=l.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,a=t}finally{try{!n&&l.return&&l.return()}finally{if(r)throw a}}return i}return function(e,i){if(Array.isArray(e))return e;if((0,a.default)(Object(e)))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,i){t.exports={default:i(95),__esModule:!0}},function(t,e,i){i(35),i(24),t.exports=i(96)},function(t,e,i){var n=i(50),r=i(3)("iterator"),a=i(16);t.exports=i(2).isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||a.hasOwnProperty(n(e))}},function(t,e,i){t.exports={default:i(98),__esModule:!0}},function(t,e,i){i(35),i(24),t.exports=i(99)},function(t,e,i){var n=i(15),r=i(100);t.exports=i(2).getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},function(t,e,i){var n=i(50),r=i(3)("iterator"),a=i(16);t.exports=i(2).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||a[n(t)]}},function(t,e,i){t.exports={default:i(102),__esModule:!0}},function(t,e,i){i(103),t.exports=i(2).Object.keys},function(t,e,i){var n=i(34),r=i(17);i(104)("keys",function(){return function(t){return r(n(t))}})},function(t,e,i){var n=i(19),r=i(2),a=i(11);t.exports=function(t,e){var i=(r.Object||{})[t]||Object[t],o={};o[t]=e(i),n(n.S+n.F*a(function(){i(1)}),"Object",o)}},function(t,e,i){(function(e){function i(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function n(t,e){for(var i=-1,n=t?t.length:0;++i<n&&!1!==e(t[i],i,t););return t}function r(t,e){return!!(t?t.length:0)&&o(t,e,0)>-1}function a(t,e,i,n){for(var r=t.length,a=i+(n?1:-1);n?a--:++a<r;)if(e(t[a],a,t))return a;return-1}function o(t,e,i){if(e!==e)return a(t,s,i);for(var n=i-1,r=t.length;++n<r;)if(t[n]===e)return n;return-1}function s(t){return t!==t}function l(t,e){for(var i=t.length,n=0;i--;)t[i]===e&&n++;return n}function u(t,e){return null==t?void 0:t[e]}function h(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function c(t,e){for(var i=-1,n=t.length,r=0,a=[];++i<n;){var o=t[i];o!==e&&o!==X||(t[i]=X,a[r++]=i)}return a}function f(t){return F(t)?At(t):{}}function d(t){return!(!F(t)||O(t))&&(N(t)||h(t)?Ot:gt).test(I(t))}function p(t,e,i,n){for(var r=-1,a=t.length,o=i.length,s=-1,l=e.length,u=It(a-o,0),h=Array(l+u),c=!n;++s<l;)h[s]=e[s];for(;++r<o;)(c||a>r)&&(h[i[r]]=t[r]);for(;u--;)h[s++]=t[r++];return h}function g(t,e,i,n){for(var r=-1,a=t.length,o=-1,s=i.length,l=-1,u=e.length,h=It(a-s,0),c=Array(h+u),f=!n;++r<h;)c[r]=t[r];for(var d=r;++l<u;)c[d+l]=e[l];for(;++o<s;)(f||a>r)&&(c[d+i[o]]=t[r++]);return c}function m(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e}function _(t,e,i){function n(){return(this&&this!==bt&&this instanceof n?a:t).apply(r?i:this,arguments)}var r=e&V,a=y(t);return n}function y(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=f(t.prototype),n=t.apply(i,e);return F(n)?n:i}}function v(t,e,n){function r(){for(var o=arguments.length,s=Array(o),l=o,u=S(r);l--;)s[l]=arguments[l];var h=3>o&&s[0]!==u&&s[o-1]!==u?[]:c(s,u);return(o-=h.length)<n?x(t,e,E,r.placeholder,void 0,s,h,void 0,void 0,n-o):i(this&&this!==bt&&this instanceof r?a:t,this,s)}var a=y(t);return r}function E(t,e,i,n,r,a,o,s,u,h){function f(){for(var T=arguments.length,R=Array(T),M=T;M--;)R[M]=arguments[M];if(v)var w=S(f),O=l(R,w);if(n&&(R=p(R,n,r,v)),a&&(R=g(R,a,o,v)),T-=O,v&&h>T){var I=c(R,w);return x(t,e,E,f.placeholder,i,R,I,s,u,h-T)}var P=m?i:this,L=_?P[t]:t;return T=R.length,s?R=A(R,s):b&&T>1&&R.reverse(),d&&T>u&&(R.length=u),this&&this!==bt&&this instanceof f&&(L=C||y(L)),L.apply(P,R)}var d=e&Q,m=e&V,_=e&Y,v=e&(H|K),b=e&$,C=_?void 0:y(t);return f}function b(t,e,n,r){function a(){for(var e=-1,l=arguments.length,u=-1,h=r.length,c=Array(h+l),f=this&&this!==bt&&this instanceof a?s:t;++u<h;)c[u]=r[u];for(;l--;)c[u++]=arguments[++e];return i(f,o?n:this,c)}var o=e&V,s=y(t);return a}function x(t,e,i,n,r,a,o,s,l,u){var h=e&H,c=h?o:void 0,f=h?void 0:o,d=h?a:void 0,p=h?void 0:a;e|=h?Z:J,(e&=~(h?J:Z))&q||(e&=~(V|Y));var g=i(t,e,r,d,c,p,f,s,l,u);return g.placeholder=n,Nt(g,t,e)}function C(t,e,i,n,r,a,o,s){var l=e&Y;if(!l&&"function"!=typeof t)throw new TypeError(z);var u=n?n.length:0;if(u||(e&=~(Z|J),n=r=void 0),o=void 0===o?o:It(j(o),0),s=void 0===s?s:j(s),u-=r?r.length:0,e&J){var h=n,c=r;n=r=void 0}var f=[t,e,i,n,r,h,c,a,o,s];if(t=f[0],e=f[1],i=f[2],n=f[3],r=f[4],s=f[9]=null==f[9]?l?0:t.length:It(f[9]-u,0),!s&&e&(H|K)&&(e&=~(H|K)),e&&e!=V)d=e==H||e==K?v(t,e,s):e!=Z&&e!=(V|Z)||r.length?E.apply(void 0,f):b(t,e,i,n);else var d=_(t,e,i);return Nt(d,t,e)}function S(t){return t.placeholder}function T(t,e){var i=u(t,e);return d(i)?i:void 0}function R(t){var e=t.match(ct);return e?e[1].split(ft):[]}function M(t,e){var i=e.length,n=i-1;return e[n]=(i>1?"& ":"")+e[n],e=e.join(i>2?", ":" "),t.replace(ht,"{\n/* [wrapped with "+e+"] */\n")}function w(t,e){return!!(e=null==e?et:e)&&("number"==typeof t||_t.test(t))&&t>-1&&t%1==0&&e>t}function O(t){return!!Tt&&Tt in t}function A(t,e){for(var i=t.length,n=Pt(e.length,i),r=m(t);n--;){var a=e[n];t[n]=w(a,i)?r[a]:void 0}return t}function I(t){if(null!=t){try{return Rt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function P(t,e){return n(rt,function(i){var n="_."+i[0];e&i[1]&&!r(t,n)&&t.push(n)}),t.sort()}function L(t,e,i){e=i?void 0:e;var n=C(t,H,void 0,void 0,void 0,void 0,void 0,e);return n.placeholder=L.placeholder,n}function N(t){var e=F(t)?wt.call(t):"";return e==at||e==ot}function F(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function D(t){return!!t&&"object"==typeof t}function k(t){return"symbol"==typeof t||D(t)&&wt.call(t)==st}function G(t){return t?(t=U(t))===tt||t===-tt?(0>t?-1:1)*it:t===t?t:0:0===t?t:0}function j(t){var e=G(t),i=e%1;return e===e?i?e-i:e:0}function U(t){if("number"==typeof t)return t;if(k(t))return nt;if(F(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=F(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(ut,"");var i=pt.test(t);return i||mt.test(t)?yt(t.slice(2),i?2:8):dt.test(t)?nt:+t}function B(t){return function(){return t}}function W(t){return t}var z="Expected a function",X="__lodash_placeholder__",V=1,Y=2,q=4,H=8,K=16,Z=32,J=64,Q=128,$=512,tt=1/0,et=9007199254740991,it=1.7976931348623157e308,nt=NaN,rt=[["ary",Q],["bind",V],["bindKey",Y],["curry",H],["curryRight",K],["flip",$],["partial",Z],["partialRight",J],["rearg",256]],at="[object Function]",ot="[object GeneratorFunction]",st="[object Symbol]",lt=/[\\^$.*+?()[\]{}|]/g,ut=/^\s+|\s+$/g,ht=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ct=/\{\n\/\* \[wrapped with (.+)\] \*/,ft=/,? & /,dt=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,gt=/^\[object .+?Constructor\]$/,mt=/^0o[0-7]+$/i,_t=/^(?:0|[1-9]\d*)$/,yt=parseInt,vt="object"==typeof e&&e&&e.Object===Object&&e,Et="object"==typeof self&&self&&self.Object===Object&&self,bt=vt||Et||Function("return this")(),xt=Function.prototype,Ct=Object.prototype,St=bt["__core-js_shared__"],Tt=function(){var t=/[^.]+$/.exec(St&&St.keys&&St.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Rt=xt.toString,Mt=Ct.hasOwnProperty,wt=Ct.toString,Ot=RegExp("^"+Rt.call(Mt).replace(lt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),At=Object.create,It=Math.max,Pt=Math.min,Lt=function(){var t=T(Object,"defineProperty"),e=T.name;return e&&e.length>2?t:void 0}(),Nt=Lt?function(t,e,i){var n=e+"";return Lt(t,"toString",{configurable:!0,enumerable:!1,value:B(M(n,P(R(n),i)))})}:W;L.placeholder={},t.exports=L}).call(e,i(51))},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t.default:t}e.__esModule=!0,e.threezerotwofour=n(i(107)),e.apathy=n(i(108)),e.ashes=n(i(109)),e.atelierDune=n(i(110)),e.atelierForest=n(i(111)),e.atelierHeath=n(i(112)),e.atelierLakeside=n(i(113)),e.atelierSeaside=n(i(114)),e.bespin=n(i(115)),e.brewer=n(i(116)),e.bright=n(i(117)),e.chalk=n(i(118)),e.codeschool=n(i(119)),e.colors=n(i(120)),e.default=n(i(121)),e.eighties=n(i(122)),e.embers=n(i(123)),e.flat=n(i(124)),e.google=n(i(125)),e.grayscale=n(i(126)),e.greenscreen=n(i(127)),e.harmonic=n(i(128)),e.hopscotch=n(i(129)),e.isotope=n(i(130)),e.marrakesh=n(i(131)),e.mocha=n(i(132)),e.monokai=n(i(133)),e.ocean=n(i(134)),e.paraiso=n(i(135)),e.pop=n(i(136)),e.railscasts=n(i(137)),e.shapeshifter=n(i(138)),e.solarized=n(i(139)),e.summerfruit=n(i(140)),e.tomorrow=n(i(141)),e.tube=n(i(142)),e.twilight=n(i(143))},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"threezerotwofour",author:"jan t. sott (http://github.com/idleberg)",base00:"#090300",base01:"#3a3432",base02:"#4a4543",base03:"#5c5855",base04:"#807d7c",base05:"#a5a2a2",base06:"#d6d5d4",base07:"#f7f7f7",base08:"#db2d20",base09:"#e8bbd0",base0A:"#fded02",base0B:"#01a252",base0C:"#b5e4f4",base0D:"#01a0e4",base0E:"#a16a94",base0F:"#cdab53"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"apathy",author:"jannik siebert (https://github.com/janniks)",base00:"#031A16",base01:"#0B342D",base02:"#184E45",base03:"#2B685E",base04:"#5F9C92",base05:"#81B5AC",base06:"#A7CEC8",base07:"#D2E7E4",base08:"#3E9688",base09:"#3E7996",base0A:"#3E4C96",base0B:"#883E96",base0C:"#963E4C",base0D:"#96883E",base0E:"#4C963E",base0F:"#3E965B"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"ashes",author:"jannik siebert (https://github.com/janniks)",base00:"#1C2023",base01:"#393F45",base02:"#565E65",base03:"#747C84",base04:"#ADB3BA",base05:"#C7CCD1",base06:"#DFE2E5",base07:"#F3F4F5",base08:"#C7AE95",base09:"#C7C795",base0A:"#AEC795",base0B:"#95C7AE",base0C:"#95AEC7",base0D:"#AE95C7",base0E:"#C795AE",base0F:"#C79595"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"atelier dune",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/dune)",base00:"#20201d",base01:"#292824",base02:"#6e6b5e",base03:"#7d7a68",base04:"#999580",base05:"#a6a28c",base06:"#e8e4cf",base07:"#fefbec",base08:"#d73737",base09:"#b65611",base0A:"#cfb017",base0B:"#60ac39",base0C:"#1fad83",base0D:"#6684e1",base0E:"#b854d4",base0F:"#d43552"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"atelier forest",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest)",base00:"#1b1918",base01:"#2c2421",base02:"#68615e",base03:"#766e6b",base04:"#9c9491",base05:"#a8a19f",base06:"#e6e2e0",base07:"#f1efee",base08:"#f22c40",base09:"#df5320",base0A:"#d5911a",base0B:"#5ab738",base0C:"#00ad9c",base0D:"#407ee7",base0E:"#6666ea",base0F:"#c33ff3"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"atelier heath",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/heath)",base00:"#1b181b",base01:"#292329",base02:"#695d69",base03:"#776977",base04:"#9e8f9e",base05:"#ab9bab",base06:"#d8cad8",base07:"#f7f3f7",base08:"#ca402b",base09:"#a65926",base0A:"#bb8a35",base0B:"#379a37",base0C:"#159393",base0D:"#516aec",base0E:"#7b59c0",base0F:"#cc33cc"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"atelier lakeside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)",base00:"#161b1d",base01:"#1f292e",base02:"#516d7b",base03:"#5a7b8c",base04:"#7195a8",base05:"#7ea2b4",base06:"#c1e4f6",base07:"#ebf8ff",base08:"#d22d72",base09:"#935c25",base0A:"#8a8a0f",base0B:"#568c3b",base0C:"#2d8f6f",base0D:"#257fad",base0E:"#5d5db1",base0F:"#b72dd2"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"atelier seaside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/seaside/)",base00:"#131513",base01:"#242924",base02:"#5e6e5e",base03:"#687d68",base04:"#809980",base05:"#8ca68c",base06:"#cfe8cf",base07:"#f0fff0",base08:"#e6193c",base09:"#87711d",base0A:"#c3c322",base0B:"#29a329",base0C:"#1999b3",base0D:"#3d62f5",base0E:"#ad2bee",base0F:"#e619c3"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"bespin",author:"jan t. sott",base00:"#28211c",base01:"#36312e",base02:"#5e5d5c",base03:"#666666",base04:"#797977",base05:"#8a8986",base06:"#9d9b97",base07:"#baae9e",base08:"#cf6a4c",base09:"#cf7d34",base0A:"#f9ee98",base0B:"#54be0d",base0C:"#afc4db",base0D:"#5ea6ea",base0E:"#9b859d",base0F:"#937121"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"brewer",author:"timothe poisot (http://github.com/tpoisot)",base00:"#0c0d0e",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"chalk",author:"chris kempson (http://chriskempson.com)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#eda987",base0A:"#ddb26f",base0B:"#acc267",base0C:"#12cfc0",base0D:"#6fc2ef",base0E:"#e1a3ee",base0F:"#deaf8f"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"codeschool",author:"brettof86",base00:"#232c31",base01:"#1c3657",base02:"#2a343a",base03:"#3f4944",base04:"#84898c",base05:"#9ea7a6",base06:"#a7cfa3",base07:"#b5d8f6",base08:"#2a5491",base09:"#43820d",base0A:"#a03b1e",base0B:"#237986",base0C:"#b02f30",base0D:"#484d79",base0E:"#c59820",base0F:"#c98344"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"colors",author:"mrmrs (http://clrs.cc)",base00:"#111111",base01:"#333333",base02:"#555555",base03:"#777777",base04:"#999999",base05:"#bbbbbb",base06:"#dddddd",base07:"#ffffff",base08:"#ff4136",base09:"#ff851b",base0A:"#ffdc00",base0B:"#2ecc40",base0C:"#7fdbff",base0D:"#0074d9",base0E:"#b10dc9",base0F:"#85144b"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"default",author:"chris kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"eighties",author:"chris kempson (http://chriskempson.com)",base00:"#2d2d2d",base01:"#393939",base02:"#515151",base03:"#747369",base04:"#a09f93",base05:"#d3d0c8",base06:"#e8e6df",base07:"#f2f0ec",base08:"#f2777a",base09:"#f99157",base0A:"#ffcc66",base0B:"#99cc99",base0C:"#66cccc",base0D:"#6699cc",base0E:"#cc99cc",base0F:"#d27b53"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"embers",author:"jannik siebert (https://github.com/janniks)",base00:"#16130F",base01:"#2C2620",base02:"#433B32",base03:"#5A5047",base04:"#8A8075",base05:"#A39A90",base06:"#BEB6AE",base07:"#DBD6D1",base08:"#826D57",base09:"#828257",base0A:"#6D8257",base0B:"#57826D",base0C:"#576D82",base0D:"#6D5782",base0E:"#82576D",base0F:"#825757"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"flat",author:"chris kempson (http://chriskempson.com)",base00:"#2C3E50",base01:"#34495E",base02:"#7F8C8D",base03:"#95A5A6",base04:"#BDC3C7",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ECF0F1",base08:"#E74C3C",base09:"#E67E22",base0A:"#F1C40F",base0B:"#2ECC71",base0C:"#1ABC9C",base0D:"#3498DB",base0E:"#9B59B6",base0F:"#be643c"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"google",author:"seth wright (http://sethawright.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#CC342B",base09:"#F96A38",base0A:"#FBA922",base0B:"#198844",base0C:"#3971ED",base0D:"#3971ED",base0E:"#A36AC7",base0F:"#3971ED"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"green screen",author:"chris kempson (http://chriskempson.com)",base00:"#001100",base01:"#003300",base02:"#005500",base03:"#007700",base04:"#009900",base05:"#00bb00",base06:"#00dd00",base07:"#00ff00",base08:"#007700",base09:"#009900",base0A:"#007700",base0B:"#00bb00",base0C:"#005500",base0D:"#009900",base0E:"#00bb00",base0F:"#005500"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"harmonic16",author:"jannik siebert (https://github.com/janniks)",base00:"#0b1c2c",base01:"#223b54",base02:"#405c79",base03:"#627e99",base04:"#aabcce",base05:"#cbd6e2",base06:"#e5ebf1",base07:"#f7f9fb",base08:"#bf8b56",base09:"#bfbf56",base0A:"#8bbf56",base0B:"#56bf8b",base0C:"#568bbf",base0D:"#8b56bf",base0E:"#bf568b",base0F:"#bf5656"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"hopscotch",author:"jan t. sott",base00:"#322931",base01:"#433b42",base02:"#5c545b",base03:"#797379",base04:"#989498",base05:"#b9b5b8",base06:"#d5d3d5",base07:"#ffffff",base08:"#dd464c",base09:"#fd8b19",base0A:"#fdcc59",base0B:"#8fc13e",base0C:"#149b93",base0D:"#1290bf",base0E:"#c85e7c",base0F:"#b33508"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"isotope",author:"jan t. sott",base00:"#000000",base01:"#404040",base02:"#606060",base03:"#808080",base04:"#c0c0c0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#ff0000",base09:"#ff9900",base0A:"#ff0099",base0B:"#33ff00",base0C:"#00ffff",base0D:"#0066ff",base0E:"#cc00ff",base0F:"#3300ff"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"marrakesh",author:"alexandre gavioli (http://github.com/alexx2/)",base00:"#201602",base01:"#302e00",base02:"#5f5b17",base03:"#6c6823",base04:"#86813b",base05:"#948e48",base06:"#ccc37a",base07:"#faf0a5",base08:"#c35359",base09:"#b36144",base0A:"#a88339",base0B:"#18974e",base0C:"#75a738",base0D:"#477ca1",base0E:"#8868b3",base0F:"#b3588e"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"mocha",author:"chris kempson (http://chriskempson.com)",base00:"#3B3228",base01:"#534636",base02:"#645240",base03:"#7e705a",base04:"#b8afad",base05:"#d0c8c6",base06:"#e9e1dd",base07:"#f5eeeb",base08:"#cb6077",base09:"#d28b71",base0A:"#f4bc87",base0B:"#beb55b",base0C:"#7bbda4",base0D:"#8ab3b5",base0E:"#a89bb9",base0F:"#bb9584"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"ocean",author:"chris kempson (http://chriskempson.com)",base00:"#2b303b",base01:"#343d46",base02:"#4f5b66",base03:"#65737e",base04:"#a7adba",base05:"#c0c5ce",base06:"#dfe1e8",base07:"#eff1f5",base08:"#bf616a",base09:"#d08770",base0A:"#ebcb8b",base0B:"#a3be8c",base0C:"#96b5b4",base0D:"#8fa1b3",base0E:"#b48ead",base0F:"#ab7967"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"paraiso",author:"jan t. sott",base00:"#2f1e2e",base01:"#41323f",base02:"#4f424c",base03:"#776e71",base04:"#8d8687",base05:"#a39e9b",base06:"#b9b6b0",base07:"#e7e9db",base08:"#ef6155",base09:"#f99b15",base0A:"#fec418",base0B:"#48b685",base0C:"#5bc4bf",base0D:"#06b6ef",base0E:"#815ba4",base0F:"#e96ba8"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"pop",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#eb008a",base09:"#f29333",base0A:"#f8ca12",base0B:"#37b349",base0C:"#00aabb",base0D:"#0e5a94",base0E:"#b31e8d",base0F:"#7a2d00"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"shapeshifter",author:"tyler benziger (http://tybenz.com)",base00:"#000000",base01:"#040404",base02:"#102015",base03:"#343434",base04:"#555555",base05:"#ababab",base06:"#e0e0e0",base07:"#f9f9f9",base08:"#e92f2f",base09:"#e09448",base0A:"#dddd13",base0B:"#0ed839",base0C:"#23edda",base0D:"#3b48e3",base0E:"#f996e2",base0F:"#69542d"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"summerfruit",author:"christopher corley (http://cscorley.github.io/)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#B0B0B0",base05:"#D0D0D0",base06:"#E0E0E0",base07:"#FFFFFF",base08:"#FF0086",base09:"#FD8900",base0A:"#ABA800",base0B:"#00C918",base0C:"#1faaaa",base0D:"#3777E6",base0E:"#AD00A1",base0F:"#cc6633"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"tomorrow",author:"chris kempson (http://chriskempson.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#cc6666",base09:"#de935f",base0A:"#f0c674",base0B:"#b5bd68",base0C:"#8abeb7",base0D:"#81a2be",base0E:"#b294bb",base0F:"#a3685a"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"london tube",author:"jan t. sott",base00:"#231f20",base01:"#1c3f95",base02:"#5a5758",base03:"#737171",base04:"#959ca1",base05:"#d9d8d8",base06:"#e7e7e8",base07:"#ffffff",base08:"#ee2e24",base09:"#f386a1",base0A:"#ffd204",base0B:"#00853e",base0C:"#85cebc",base0D:"#009ddc",base0E:"#98005d",base0F:"#b06110"},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default={scheme:"twilight",author:"david hart (http://hart-dev.com)",base00:"#1e1e1e",base01:"#323537",base02:"#464b50",base03:"#5f5a60",base04:"#838184",base05:"#a7a7a7",base06:"#c3c3c3",base07:"#ffffff",base08:"#cf6a4c",base09:"#cda869",base0A:"#f9ee98",base0B:"#8f9d6a",base0C:"#afc4db",base0D:"#7587a6",base0E:"#9b859d",base0F:"#9b703f"},t.exports=e.default},function(t,e,i){function n(t){var e=Math.round(a(t,0,255)),i=e.toString(16);return 1==i.length?"0"+i:i}function r(t){var e=4===t.length?n(255*t[3]):"";return"#"+n(t[0])+n(t[1])+n(t[2])+e}var a=i(39);t.exports=r},function(t,e,i){function n(t){var e=a(t),i=l(e);return 4===e.length&&i.push(e[3]),i}function r(t){for(var e in u)if(0===t.indexOf(e))return u[e](t)}var a=i(146),o=i(147),s=i(148),l=i(149),u={"#":o,hsl:n,rgb:s};r.rgb=s,r.hsl=a,r.hex=o,t.exports=r},function(t,e,i){function n(t,e){switch(t=parseFloat(t),e){case 0:return o(t,0,360);case 1:case 2:return o(t,0,100);case 3:return o(t,0,1)}}function r(t){return a(t).map(n)}var a=i(52),o=i(39);t.exports=r},function(t,e){function i(t){for(var e="#",i=1;t.length>i;i++){var n=t.charAt(i);e+=n+n}return e}function n(t){4!==t.length&&5!==t.length||(t=i(t));var e=[parseInt(t.substring(1,3),16),parseInt(t.substring(3,5),16),parseInt(t.substring(5,7),16)];return 9===t.length&&e.push(parseFloat((parseInt(t.substring(7,9),16)/255).toFixed(2))),e}t.exports=n},function(t,e,i){function n(t,e){return 3>e?-1!=t.indexOf("%")?Math.round(255*o(parseInt(t,10),0,100)/100):o(parseInt(t,10),0,255):o(parseFloat(t),0,1)}function r(t){return a(t).map(n)}var a=i(52),o=i(39);t.exports=r},function(t,e){function i(t){var e,i,n,r,a,o=t[0]/360,s=t[1]/100,l=t[2]/100;if(0==s)return a=255*l,[a,a,a];i=.5>l?l*(1+s):l+s-l*s,e=2*l-i,r=[0,0,0];for(var u=0;3>u;u++)n=o+1/3*-(u-1),0>n&&n++,n>1&&n--,a=1>6*n?e+6*(i-e)*n:1>2*n?i:2>3*n?e+(i-e)*(2/3-n)*6:e,r[u]=255*a;return r}t.exports=i},function(t,e,i){(function(e){function i(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function n(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t}function r(t,e,i,a,s){var l=-1,u=t.length;for(i||(i=o),s||(s=[]);++l<u;){var h=t[l];e>0&&i(h)?e>1?r(h,e-1,i,a,s):n(s,h):a||(s[s.length]=h)}return s}function a(t,e){return e=M(void 0===e?t.length-1:e,0),function(){for(var n=arguments,r=-1,a=M(n.length-e,0),o=Array(a);++r<a;)o[r]=n[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=n[r];return s[e]=o,i(t,this,s)}}function o(t){return w(t)||s(t)||!!(R&&t&&t[R])}function s(t){return u(t)&&x.call(t,"callee")&&(!T.call(t,"callee")||C.call(t)==g)}function l(t){return null!=t&&c(t.length)&&!h(t)}function u(t){return d(t)&&l(t)}function h(t){var e=f(t)?C.call(t):"";return e==m||e==_}function c(t){return"number"==typeof t&&t>-1&&t%1==0&&p>=t}function f(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function d(t){return!!t&&"object"==typeof t}var p=9007199254740991,g="[object Arguments]",m="[object Function]",_="[object GeneratorFunction]",y="object"==typeof e&&e&&e.Object===Object&&e,v="object"==typeof self&&self&&self.Object===Object&&self,E=y||v||Function("return this")(),b=Object.prototype,x=b.hasOwnProperty,C=b.toString,S=E.Symbol,T=b.propertyIsEnumerable,R=S?S.isConcatSpreadable:void 0,M=Math.max,w=Array.isArray,O=function(t){return a(function(t){t=r(t,1);var e=t.length,i=e;for(void 0;i--;)if("function"!=typeof t[i])throw new TypeError("Expected a function");return function(){for(var i=0,n=e?t[i].apply(this,arguments):arguments[0];++i<e;)n=t[i].call(this,n);return n}})}();t.exports=O}).call(e,i(51))},function(t,e,i){"use strict";function n(t){var e,i,n,r=t[0],a=t[1],o=t[2];return e=1*r+0*a+1.13983*o,i=1*r+-.39465*a+-.5806*o,n=1*r+2.02311*a+0*o,e=Math.min(Math.max(0,e),1),i=Math.min(Math.max(0,i),1),n=Math.min(Math.max(0,n),1),[255*e,255*i,255*n]}function r(t){var e=t[0]/255,i=t[1]/255,n=t[2]/255;return[.299*e+.587*i+.114*n,-.14713*e+-.28886*i+.436*n,.615*e+-.51499*i+-.10001*n]}Object.defineProperty(e,"__esModule",{value:!0}),e.yuv2rgb=n,e.rgb2yuv=r},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},l=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(0),h=n(u),c=i(7),f=n(c),d=i(1),p=n(d);e.default=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,[{key:"render",value:function(){var t=this.props,e={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return h.default.createElement("div",(0,p.default)(t.theme,"date"),h.default.createElement(f.default,s({type_name:"date"},t)),h.default.createElement("span",s({className:"date-value"},(0,p.default)(t.theme,"date-value")),t.value.toLocaleTimeString("en-us",e)))}}]),e}(h.default.Component)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},l=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(0),h=n(u),c=i(7),f=n(c),d=i(1),p=n(d);e.default=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,[{key:"render",value:function(){var t=this.props;return h.default.createElement("div",(0,p.default)(t.theme,"float"),h.default.createElement(f.default,s({type_name:"float"},t)),this.props.value)}}]),e}(h.default.Component)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},l=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(0),h=n(u),c=i(7),f=n(c),d=i(1),p=n(d),g=i(13),m=n(g),_=function(){var t=this;this.state={collapsed:!0},this.toggleCollapsed=function(){t.state.collapsed=!t.state.collapsed,m.default.set(t.props.rjvId,t.props.namespace,"collapsed",t.state.collapsed),t.setState(t.state)},this.getFunctionDisplay=function(e){var i=t.props;return e?h.default.createElement("span",null,(""+t.props.value).slice(9,-1).replace(/\{[\s\S]+/,""),h.default.createElement("span",{className:"function-collapsed",style:{fontWeight:"bold"}},h.default.createElement("span",null,"{"),h.default.createElement("span",(0,p.default)(i.theme,"ellipsis"),"..."),h.default.createElement("span",null,"}"))):(""+t.props.value).slice(9,-1)}};e.default=function(t){function e(t){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return _.call(i),i.state.collapsed=m.default.get(t.rjvId,t.namespace,"collapsed",!0),i}return o(e,t),l(e,[{key:"render",value:function(){var t=this,e=this.props,i=this.state.collapsed;return h.default.createElement("div",(0,p.default)(e.theme,"function"),h.default.createElement(f.default,s({type_name:"function"},e)),h.default.createElement("span",{className:"rjv-function-container",onClick:function(){t.toggleCollapsed()}},this.getFunctionDisplay(i)))}}]),e}(h.default.Component)},function(t,e){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function r(t){return"number"==typeof t}function a(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!r(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,i,r,s,l,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var h=Error('Uncaught, unspecified "error" event. ('+e+")");throw h.context=e,h}if(i=this._events[t],o(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s)}else if(a(i))for(s=Array.prototype.slice.call(arguments,1),u=i.slice(),r=u.length,l=0;r>l;l++)u[l].apply(this,s);return!0},i.prototype.addListener=function(t,e){var r;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?a(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,a(this._events[t])&&!this._events[t].warned&&(r=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function i(){this.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var r=!1;return i.listener=e,this.on(t,i),this},i.prototype.removeListener=function(t,e){var i,r,o,s;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=this._events[t],o=i.length,r=-1,i===e||n(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(a(i)){for(s=o;s-- >0;)if(i[s]===e||i[s].listener&&i[s].listener===e){r=s;break}if(0>r)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[t],n(i))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,i){t.exports.Dispatcher=i(157)},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(53);t.exports=function(){function t(){n(this,t),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return t.prototype.register=function(t){var e="ID_"+this._lastID++;return this._callbacks[e]=t,e},t.prototype.unregister=function(t){this._callbacks[t]||r(!1),delete this._callbacks[t]},t.prototype.waitFor=function(t){this._isDispatching||r(!1);for(var e=0;t.length>e;e++){var i=t[e];this._isPending[i]?this._isHandled[i]||r(!1):(this._callbacks[i]||r(!1),this._invokeCallback(i))}},t.prototype.dispatch=function(t){this._isDispatching&&r(!1),this._startDispatching(t);try{for(var e in this._callbacks)this._isPending[e]||this._invokeCallback(e)}finally{this._stopDispatching()}},t.prototype.isDispatching=function(){return this._isDispatching},t.prototype._invokeCallback=function(t){this._isPending[t]=!0,this._callbacks[t](this._pendingPayload),this._isHandled[t]=!0},t.prototype._startDispatching=function(t){for(var e in this._callbacks)this._isPending[e]=!1,this._isHandled[e]=!1;this._pendingPayload=t,this._isDispatching=!0},t.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},t}()},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=n(l),h=i(1),c=n(h);e.default=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),s(e,[{key:"render",value:function(){return u.default.createElement("div",(0,c.default)(this.props.theme,"nan"),"NaN")}}]),e}(u.default.Component)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=n(l),h=i(1),c=n(h);e.default=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),s(e,[{key:"render",value:function(){return u.default.createElement("div",(0,c.default)(this.props.theme,"null"),"NULL")}}]),e}(u.default.Component)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},l=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(0),h=n(u),c=i(7),f=n(c),d=i(1),p=n(d);e.default=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,[{key:"render",value:function(){var t=this.props;return h.default.createElement("div",(0,p.default)(t.theme,"integer"),h.default.createElement(f.default,s({type_name:"int"},t)),this.props.value)}}]),e}(h.default.Component)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},l=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(0),h=n(u),c=i(7),f=n(c),d=i(5),p=i(1),g=n(p),m=i(13),_=n(m);e.default=function(t){function e(t){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.state={collapsed:!0},i.toggleCollapsed=function(){i.state.collapsed=!i.state.collapsed,_.default.set(i.props.rjvId,i.props.namespace,"collapsed",i.state.collapsed),i.setState(i.state)},i.state.collapsed=_.default.get(t.rjvId,t.namespace,"collapsed",!0),i}return o(e,t),l(e,[{key:"render",value:function(){var t=this.props,e=t.collapseStringsAfterLength,i=t.theme,n=t.value,r="integer"==(0,d.toType)(e),a={style:{cursor:"default"}};return r&&n.length>e&&(a.style.cursor="pointer",this.state.collapsed&&(n=h.default.createElement("span",null,n.substring(0,e),h.default.createElement("span",(0,g.default)(i,"ellipsis")," ...")))),h.default.createElement("div",(0,g.default)(i,"string"),h.default.createElement(f.default,s({type_name:"string"},t)),h.default.createElement("span",s({className:"string-value"},a,{onClick:this.toggleCollapsed}),'"',n,'"'))}}]),e}(h.default.Component)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=n(l),h=i(1),c=n(h);e.default=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),s(e,[{key:"render",value:function(){return u.default.createElement("div",(0,c.default)(this.props.theme,"undefined"),"undefined")}}]),e}(u.default.Component)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);t.length>e;e++)i[e]=t[e];return i}return Array.from(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},u=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),h=i(0),c=n(h),f=i(164),d=n(f),p=(i(5),i(14)),g=n(p),m=i(169),_=n(m),y=i(170),v=n(y),E=i(41),b=i(18),x=i(1),C=n(x),S=function(){var t=this;this.state={editMode:!1,editValue:"",renameKey:!1,parsedInput:{type:!1,value:null}},this.getEditIcon=function(){var e=t.props,i=e.variable;return c.default.createElement("div",{className:"click-to-edit",style:{verticalAlign:"top"}},c.default.createElement(b.Edit,l({className:"click-to-edit-icon"},(0,C.default)(e.theme,"editVarIcon"),{onClick:function(){t.prepopInput(i)}})))},this.prepopInput=function(e){var i=void 0;!1!==t.props.onEdit&&(t.state.editMode=!0,t.state.editValue=(0,v.default)(e.value),i=(0,_.default)(t.state.editValue),t.state.parsedInput={type:i.type,value:i.value},t.setState(t.state))},this.getRemoveIcon=function(){var e=t.props,i=e.variable,n=e.namespace,r=e.rjvId;return c.default.createElement("div",{className:"click-to-remove",style:{verticalAlign:"top"}},c.default.createElement(b.RemoveCircle,l({className:"click-to-remove-icon"},(0,C.default)(e.theme,"removeVarIcon"),{onClick:function(){g.default.dispatch({name:"VARIABLE_REMOVED",rjvId:r,data:{name:i.name,namespace:n,existing_value:i.value,variable_removed:!0}})}})))},this.getValue=function(e,i,n){switch(!n&&e.type){case!1:return t.getEditInput();case"string":return c.default.createElement(E.JsonString,l({value:e.value},i));case"integer":return c.default.createElement(E.JsonInteger,l({value:e.value},i));case"float":return c.default.createElement(E.JsonFloat,l({value:e.value},i));case"boolean":return c.default.createElement(E.JsonBoolean,l({value:e.value},i));case"function":return c.default.createElement(E.JsonFunction,l({value:e.value},i));case"null":return c.default.createElement(E.JsonNull,i);case"nan":return c.default.createElement(E.JsonNan,i);case"undefined":return c.default.createElement(E.JsonUndefined,i);case"date":return c.default.createElement(E.JsonDate,l({value:e.value},i));default:return c.default.createElement("div",l({className:"object-value"},i),e.value)}},this.getEditInput=function(){var e=t.props,i=e.theme,n=t.state.editValue;return c.default.createElement("div",null,c.default.createElement(d.default,l({type:"text",inputRef:function(t){return t&&t.focus()},value:n,className:"variable-editor",onChange:function(e){var i=e.target.value,n=(0,_.default)(i);t.setState({editValue:i,parsedInput:{type:n.type,value:n.value}})},onKeyDown:function(e){switch(e.key){case"Escape":t.setState({editMode:!1,editValue:""});break;case"Enter":e.ctrlKey&&t.submitEdit(!0)}e.stopPropagation()},placeholder:"update this value"},(0,C.default)(i,"edit-input"))),c.default.createElement("div",(0,C.default)(i,"edit-icon-container"),c.default.createElement(b.RemoveCircle,l({className:"edit-cancel"},(0,C.default)(i,"cancel-icon"),{onClick:function(){t.setState({editMode:!1,editValue:""})}})),c.default.createElement(b.CheckCircle,l({className:"edit-check string-value"},(0,C.default)(i,"check-icon"),{onClick:function(){t.submitEdit()}})),c.default.createElement("div",null,t.showDetected())))},this.submitEdit=function(e){var i=t.props,n=i.variable,r=i.namespace,a=i.rjvId,o=t.state,s=o.editValue,l=o.parsedInput,u=s;e&&l.type&&(u=l.value),t.state.editMode=!1,g.default.dispatch({name:"VARIABLE_UPDATED",rjvId:a,data:{name:n.name,namespace:r,existing_value:n.value,new_value:u,variable_removed:!1}})},this.showDetected=function(){var e=t.props,i=e.theme,n=t.getDetectedInput();if(n)return c.default.createElement("div",null,c.default.createElement("div",(0,C.default)(i,"detected-row"),n,c.default.createElement(b.CheckCircle,{className:"edit-check detected",style:l({verticalAlign:"top",paddingLeft:"3px"},(0,C.default)(i,"check-icon").style),onClick:function(){t.submitEdit(!0)}})))},this.getDetectedInput=function(){var e=t.state.parsedInput,i=e.type,n=e.value,r=t.props,a=t.props.theme;if(!1!==i)switch(i.toLowerCase()){case"object":return c.default.createElement("span",null,c.default.createElement("span",{style:l({},(0,C.default)(a,"brace").style,{cursor:"default"})},"{"),c.default.createElement("span",{style:l({},(0,C.default)(a,"ellipsis").style,{cursor:"default"})},"..."),c.default.createElement("span",{style:l({},(0,C.default)(a,"brace").style,{cursor:"default"})},"}"));case"array":return c.default.createElement("span",null,c.default.createElement("span",{style:l({},(0,C.default)(a,"brace").style,{cursor:"default"})},"["),c.default.createElement("span",{style:l({},(0,C.default)(a,"ellipsis").style,{cursor:"default"})},"..."),c.default.createElement("span",{style:l({},(0,C.default)(a,"brace").style,{cursor:"default"})},"]"));case"string":return c.default.createElement(E.JsonString,l({value:n},r));case"integer":return c.default.createElement(E.JsonInteger,l({value:n},r));case"float":return c.default.createElement(E.JsonFloat,l({value:n},r));case"boolean":return c.default.createElement(E.JsonBoolean,l({value:n},r));case"function":return c.default.createElement(E.JsonFunction,l({value:n},r));case"null":return c.default.createElement(E.JsonNull,r);case"nan":return c.default.createElement(E.JsonNan,r);case"undefined":return c.default.createElement(E.JsonUndefined,r);case"date":return c.default.createElement(E.JsonDate,l({value:new Date(n)},r))}}};e.default=function(t){function e(t){a(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return S.call(i),i}return s(e,t),u(e,[{key:"render",value:function(){var t=this,e=this.props,i=e.variable,n=e.singleIndent,a=e.type,o=e.theme,s=e.namespace,u=e.indentWidth,h=e.onEdit,f=e.onDelete,d=e.onSelect,p=this.state.editMode;return c.default.createElement("div",l({},(0,C.default)(o,"objectKeyVal",{paddingLeft:u*n}),{className:"variable-row",key:i.name}),"array"==a?c.default.createElement("span",l({},(0,C.default)(o,"array-key"),{key:i.name+"_"+s}),i.name,c.default.createElement("div",(0,C.default)(o,"colon"),":")):c.default.createElement("span",null,c.default.createElement("span",l({},(0,C.default)(o,"object-name"),{className:"object-key",key:i.name+"_"+s}),c.default.createElement("span",{style:{verticalAlign:"top"}},'"'),c.default.createElement("span",{style:{display:"inline-block"}},i.name),c.default.createElement("span",{style:{verticalAlign:"top"}},'"')),c.default.createElement("span",(0,C.default)(o,"colon"),":")),c.default.createElement("div",l({className:"variable-value",onClick:!1===d&&!1===h?void 0:function(e){var n=[].concat(r(s));e.ctrlKey?t.prepopInput(i):!1===p&&(n.shift(),d(l({},i,{namespace:n})))}},(0,C.default)(o,"variableValue",{cursor:!1===d?"default":"pointer"})),this.getValue(i,this.props,p)),!1!==h&&0==p?this.getEditIcon():null,!1!==f&&0==p?this.getRemoveIcon():null)}}]),e}(c.default.Component)},function(t,e,i){"use strict";function n(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;null===c.parentNode&&document.body.appendChild(c);var o=r(t,e,i);if(null===o)return null;var s=o.paddingSize,l=o.borderSize,u=o.boxSizing,h=o.sizingStyle;Object.keys(h).forEach(function(t){c.style[t]=h[t]}),Object.keys(f).forEach(function(t){c.style.setProperty(t,f[t],"important")}),c.value=t.value||t.placeholder||"x";var d=-1/0,p=1/0,g=c.scrollHeight;"border-box"===u?g+=l:"content-box"===u&&(g-=s),c.value="x";var m=c.scrollHeight-s;return null===n&&null===a||(null!==n&&(d=m*n,"border-box"===u&&(d=d+s+l),g=Math.max(d,g)),null!==a&&(p=m*a,"border-box"===u&&(p=p+s+l),g=Math.min(p,g))),{height:g,minHeight:d,maxHeight:p,rowCount:Math.floor(g/m)}}function r(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(i&&p[e])return p[e];var n=window.getComputedStyle(t);if(null===n)return null;var r=d.reduce(function(t,e){return t[e]=n.getPropertyValue(e),t},{}),a=r["box-sizing"];h&&"border-box"===a&&(r.width=parseFloat(r.width)+parseFloat(n["border-right-width"])+parseFloat(n["border-left-width"])+parseFloat(n["padding-right"])+parseFloat(n["padding-left"])+"px");var o=parseFloat(r["padding-bottom"])+parseFloat(r["padding-top"]),s=parseFloat(r["border-bottom-width"])+parseFloat(r["border-top-width"]),l={sizingStyle:r,paddingSize:o,borderSize:s,boxSizing:a};return i&&(p[e]=l),l}Object.defineProperty(e,"__esModule",{value:!0});var a=i(0),o=i.n(a),s=i(165),l=i.n(s),u="undefined"!=typeof window&&"undefined"!=typeof document,h=!!u&&!!document.documentElement.currentStyle,c=u&&document.createElement("textarea"),f={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},d=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],p={},g=function(t){return delete p[t]},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){return++t}}(),_=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},y=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},v=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},E=function(t,e){var i={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i},b=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},x=function(){},C=u&&window.requestAnimationFrame?[window.requestAnimationFrame,window.cancelAnimationFrame]:[setTimeout,clearTimeout],S=C[0],T=C[1],R=function(t){function e(i){_(this,e);var r=b(this,t.call(this,i));return r._resizeLock=!1,r._onRootDOMNode=function(t){r._rootDOMNode=t,r.props.inputRef&&r.props.inputRef(t)},r._onChange=function(t){r._controlled||r._resizeComponent(),r.props.onChange(t)},r._resizeComponent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x;if(void 0===r._rootDOMNode)return void t();var e=n(r._rootDOMNode,r._uid,r.props.useCacheForDOMMeasurements,r.props.minRows,r.props.maxRows);if(null===e)return void t();var i=e.height,a=e.minHeight,o=e.maxHeight;if(r.rowCount=e.rowCount,r.state.height!==i||r.state.minHeight!==a||r.state.maxHeight!==o)return void r.setState({height:i,minHeight:a,maxHeight:o},t);t()},r.state={height:i.style&&i.style.height||0,minHeight:-1/0,maxHeight:1/0},r._uid=m(),r._controlled="string"==typeof i.value,r}return v(e,t),e.prototype.render=function(){var t=this.props,e=E(t,["minRows","maxRows","onHeightChange","useCacheForDOMMeasurements","inputRef"]);return e.style=y({},e.style,{height:this.state.height}),Math.max(e.style.maxHeight||1/0,this.state.maxHeight)<this.state.height&&(e.style.overflow="hidden"),o.a.createElement("textarea",y({},e,{onChange:this._onChange,ref:this._onRootDOMNode}))},e.prototype.componentDidMount=function(){var t=this;this._resizeComponent(),this._resizeListener=function(){t._resizeLock||(t._resizeLock=!0,t._resizeComponent(function(){return t._resizeLock=!1}))},window.addEventListener("resize",this._resizeListener)},e.prototype.componentWillReceiveProps=function(){var t=this;this._clearNextFrame(),this._onNextFrameActionId=S(function(){return t._resizeComponent()})},e.prototype.componentDidUpdate=function(t,e){this.state.height!==e.height&&this.props.onHeightChange(this.state.height,this)},e.prototype.componentWillUnmount=function(){this._clearNextFrame(),window.removeEventListener("resize",this._resizeListener),g(this._uid)},e.prototype._clearNextFrame=function(){T(this._onNextFrameActionId)},e}(o.a.Component);R.propTypes={value:l.a.string,onChange:l.a.func,onHeightChange:l.a.func,useCacheForDOMMeasurements:l.a.bool,minRows:l.a.number,maxRows:l.a.number,inputRef:l.a.func},R.defaultProps={onChange:x,onHeightChange:x,useCacheForDOMMeasurements:!1},e.default=R},function(t,e,i){t.exports=i(166)()},function(t,e,i){"use strict";var n=i(167),r=i(53),a=i(168);t.exports=function(){function t(t,e,i,n,o,s){s!==a&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var i={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return i.checkPropTypes=n,i.PropTypes=i,i}},function(t,e,i){"use strict";function n(t){return function(){return t}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},t.exports=r},function(t,e,i){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,i){"use strict";function n(t){t=t.trim();try{if(t=JSON.stringify(JSON.parse(t)),"["==t[0])return r("array",JSON.parse(t));if("{"==t[0])return r("object",JSON.parse(t));if(t.match(/\-?\d+\.\d+/)&&t.match(/\-?\d+\.\d+/)[0]==t)return r("float",parseFloat(t));if(t.match(/\-?\d+/)&&t.match(/\-?\d+/)[0]==t)return r("integer",parseInt(t))}catch(t){}switch(t=t.toLowerCase()){case"undefined":return r("undefined",void 0);case"nan":return r("nan",NaN);case"null":return r("null",null);case"true":return r("boolean",!0);case"false":return r("boolean",!1);default:if(t=Date.parse(t))return r("date",new Date(t))}return r(!1,null)}function r(t,e){return{type:t,value:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(5);e.default=function(t){var e=(0,n.toType)(t),i=void 0;switch(e){case"undefined":i="undefined";break;case"nan":i="NaN";break;case"string":i=t;break;case"date":case"function":i=""+t;break;default:try{i=JSON.stringify(t,null,"  ")}catch(t){i=""}}return i}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);t.length>e;e++)i[e]=t[e];return i}return Array.from(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},u=i(0),h=n(u),c=i(14),f=n(c),d=i(5),p=i(18),g=i(172),m=n(g),_=i(1),y=n(_);e.default=function(t){function e(t){a(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.state={id:null,clipboard:null,copy_state:null},i.componentDidMount=function(){var t=i.state.id,e=document.getElementById("clipboard-container-"+t);e&&(i.state.clipboard=new m.default(e),i.state.clipboard.on("success",function(t){i.setState({copy_state:"success"})}),i.state.clipboard.on("error",function(t){i.setState({copy_state:"error"})})),i.state.copy_state=null},i.componentWillUnmount=function(){i.state.clipboard&&i.state.clipboard.destroy()},i.getCopyComponent=function(){var t=i.state,e=t.id,n=t.copy_state,r=i.props,a=r.src,o=r.theme,s=r.enableClipboard,u=(0,y.default)(o,"copy-to-clipboard").style;return s?h.default.createElement("span",{className:"copy-to-clipboard-container"},h.default.createElement("span",{style:l({},u,{display:"success"==n?"none":"inline-block"}),"data-clipboard-text":JSON.stringify(a,null,"  "),id:"clipboard-container-"+e},i.getClippyIcon()),h.default.createElement("span",{style:l({},u,{display:"success"==n?"inline-block":"none"})},i.getClippyIcon())):null},i.getClippyIcon=function(){var t=i.props,e=t.enableClipboard,n=t.theme,r=t.src,a=t.namespace;return"function"==typeof e?h.default.createElement(p.Clippy,l({className:"copy-icon"},(0,y.default)(n,"copy-icon"),{onClick:function(){e({src:r,namespace:a,name:a[a.length-1]})}})):h.default.createElement(p.Clippy,l({className:"copy-icon"},(0,y.default)(n,"copy-icon")))},i.getObjectSize=function(){var t=i.props,e=t.size,n=t.theme;if(t.displayObjectSize)return h.default.createElement("span",l({className:"object-size"},(0,y.default)(n,"object-size")),e," item",1==e?"":"s")},i.getAddAttribute=function(){var t=i.props,e=t.theme,n=t.namespace,a=t.name,o=t.src,s=t.rjvId,u=t.depth;return h.default.createElement("span",{className:"click-to-add",style:{verticalAlign:"top"}},h.default.createElement(p.AddCircle,l({className:"click-to-add-icon"},(0,y.default)(e,"addVarIcon"),{onClick:function(){var t={name:u>0?a:null,namespace:n.splice(0,n.length-1),existing_value:o,variable_removed:!1,key_name:null};f.default.dispatch("object"==(0,d.toType)(o)?{name:"ADD_VARIABLE_KEY_REQUEST",rjvId:s,data:t}:{name:"VARIABLE_ADDED",rjvId:s,data:l({},t,{new_value:[].concat(r(o),[null])})})}})))},i.getRemoveObject=function(){var t=i.props,e=t.theme,n=t.namespace,r=t.name,a=t.src,o=t.rjvId;if(1!=n.length)return h.default.createElement("span",{className:"click-to-remove"},h.default.createElement(p.RemoveCircle,l({className:"click-to-remove-icon"},(0,y.default)(e,"removeVarIcon"),{onClick:function(){f.default.dispatch({name:"VARIABLE_REMOVED",rjvId:o,data:{name:r,namespace:n.splice(0,n.length-1),existing_value:a,variable_removed:!0}})}})))},i.render=function(){var t=i.props,e=t.theme,n=t.onDelete,r=t.onAdd;return h.default.createElement("div",l({},(0,y.default)(e,"object-meta-data"),{className:"object-meta-data",onClick:function(t){t.stopPropagation()}}),i.getObjectSize(),i.getCopyComponent(),!1!==r?i.getAddAttribute():null,!1!==n?i.getRemoveObject():null)},i.state.id=""+Date.now(),i}return s(e,t),e}(h.default.Component)},function(t,e,i){var n,r,a;!function(o,s){r=[t,i(173),i(175),i(176)],n=s,void 0!==(a="function"==typeof n?n.apply(e,r):n)&&(t.exports=a)}(0,function(t,e,i,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var i="data-clipboard-"+t;if(e.hasAttribute(i))return e.getAttribute(i)}var u=r(e),h=r(i),c=r(n),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();t.exports=function(t){function e(t,i){a(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.resolveOptions(i),n.listenClick(t),n}return s(e,t),d(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===f(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,c.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new u.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return l("action",t)}},{key:"defaultTarget",value:function(t){var e=l("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return l("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,i=!!document.queryCommandSupported;return e.forEach(function(t){i=i&&!!document.queryCommandSupported(t)}),i}}]),e}(h.default)})},function(t,e,i){var n,r,a;!function(o,s){r=[t,i(174)],n=s,void 0!==(a="function"==typeof n?n.apply(e,r):n)&&(t.exports=a)}(0,function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(t){return t&&t.__esModule?t:{default:t}}(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(e){i(this,t),this.resolveOptions(e),this.initSelection()}return a(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){if("copy"!==(this._action=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy")&&"cut"!==this._action)throw Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":r(t))||1!==t.nodeType)throw Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=o})},function(t,e){function i(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var i=t.hasAttribute("readonly");i||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),i||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),r=document.createRange();r.selectNodeContents(t),n.removeAllRanges(),n.addRange(r),e=""+n}return e}t.exports=i},function(t,e){function i(){}i.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){function n(){r.off(t,n),e.apply(i,arguments)}var r=this;return n._=e,this.on(t,n,i)},emit:function(t){var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,r=i.length;for(n;r>n;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],r=[];if(n&&e)for(var a=0,o=n.length;o>a;a++)n[a].fn!==e&&n[a].fn._!==e&&r.push(n[a]);return r.length?i[t]=r:delete i[t],this}},t.exports=i},function(t,e,i){function n(t,e,i){if(!t&&!e&&!i)throw Error("Missing required arguments");if(!s.string(e))throw new TypeError("Second argument must be a String");if(!s.fn(i))throw new TypeError("Third argument must be a Function");if(s.node(t))return r(t,e,i);if(s.nodeList(t))return a(t,e,i);if(s.string(t))return o(t,e,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function r(t,e,i){return t.addEventListener(e,i),{destroy:function(){t.removeEventListener(e,i)}}}function a(t,e,i){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,i)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,i)})}}}function o(t,e,i){return l(document.body,t,e,i)}var s=i(177),l=i(178);t.exports=n},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var i=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===i||"[object HTMLCollection]"===i)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,i){function n(t,e,i,n,a){var o=r.apply(this,arguments);return t.addEventListener(i,o,a),{destroy:function(){t.removeEventListener(i,o,a)}}}function r(t,e,i,n){return function(i){(i.delegateTarget=a(i.target,e))&&n.call(t,i)}}var a=i(179);t.exports=n},function(t,e){function i(t,e){for(;t&&t.nodeType!==n;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}t.exports=i},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},l=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(0),h=n(u),c=i(14),f=n(c),d=i(13),p=n(d),g=i(181),m=n(g);e.default=(n(i(1)),function(t){function e(){var t,i,n,o;r(this,e);for(var l=arguments.length,u=Array(l),h=0;l>h;h++)u[h]=arguments[h];return i=n=a(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),n.state={},n.isValid=function(t){var e=n.props.rjvId,i=p.default.get(e,"action","new-key-request");return""!=t&&-1===Object.keys(i.existing_value).indexOf(t)},n.submit=function(t){var e=n.props.rjvId,i=p.default.get(e,"action","new-key-request");i.new_value=s({},i.existing_value),i.new_value[t]=null,f.default.dispatch({name:"VARIABLE_ADDED",rjvId:e,data:i})},o=i,a(n,o)}return o(e,t),l(e,[{key:"render",value:function(){var t=this.props,e=t.active,i=t.theme,n=t.rjvId;return e?h.default.createElement(m.default,{rjvId:n,theme:i,isValid:this.isValid,submit:this.submit}):null}}]),e}(h.default.Component))},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},l=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(0),h=n(u),c=i(14),f=n(c),d=i(18),p=i(1),g=n(p);e.default=function(t){function e(t){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.closeModal=function(){f.default.dispatch({rjvId:i.props.rjvId,name:"RESET"})},i.submit=function(){i.props.submit(i.state.input)},i.state={input:t.input?t.input:""},i}return o(e,t),l(e,[{key:"render",value:function(){var t=this,e=this.props,i=e.theme,n=e.rjvId,r=e.isValid,a=this.state.input,o=r(a);return h.default.createElement("div",s({className:"key-modal-request"},(0,g.default)(i,"key-modal-request"),{onClick:function(){t.closeModal()}}),h.default.createElement("div",s({},(0,g.default)(i,"key-modal"),{onClick:function(t){t.stopPropagation()}}),h.default.createElement("div",(0,g.default)(i,"key-modal-label"),"Key Name:"),h.default.createElement("div",{style:{position:"relative"}},h.default.createElement("input",s({},(0,g.default)(i,"key-modal-input"),{className:"key-modal-input",ref:function(t){return t&&t.focus()},spellCheck:!1,value:a,placeholder:"...",onChange:function(e){t.setState({input:e.target.value})},onKeyPress:function(e){o&&"Enter"===e.key?t.submit():"Escape"===e.key&&t.closeModal()}})),o?h.default.createElement(d.CheckCircle,s({},(0,g.default)(i,"key-modal-submit"),{className:"key-modal-submit",onClick:function(e){return t.submit()}})):null),h.default.createElement("span",(0,g.default)(i,"key-modal-cancel"),h.default.createElement(d.Add,s({},(0,g.default)(i,"key-modal-cancel-icon"),{className:"key-modal-cancel",onClick:function(){f.default.dispatch({rjvId:n,name:"RESET"})}})))))}}]),e}(h.default.Component)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},l=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(0),h=n(u),c=i(14),f=n(c),d=i(13),p=(n(d),i(18)),g=i(1),m=n(g);e.default=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,[{key:"render",value:function(){var t=this.props,e=t.message,i=t.active,n=t.theme,r=t.rjvId;return i?h.default.createElement("div",s({className:"validation-failure"},(0,m.default)(n,"validation-failure"),{onClick:function(){f.default.dispatch({rjvId:r,name:"RESET"})}}),h.default.createElement("span",(0,m.default)(n,"validation-failure-label"),e),h.default.createElement(p.Add,(0,m.default)(n,"validation-failure-clear"))):null}}]),e}(h.default.Component)},function(t,e,i){var n=i(184);"string"==typeof n&&(n=[[t.i,n,""]]);var r={};r.transform=void 0,i(186)(n,r),n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(185)(void 0),e.push([t.i,".react-json-view .click-to-add,.react-json-view .click-to-edit,.react-json-view .click-to-remove,.react-json-view .copy-to-clipboard-container{display:none}.react-json-view .object-content .variable-row:hover .click-to-edit,.react-json-view .object-content .variable-row:hover .click-to-remove,.react-json-view .object-key-val:hover>span>.object-meta-data>.click-to-add,.react-json-view .object-key-val:hover>span>.object-meta-data>.click-to-remove,.react-json-view .object-key-val:hover>span>.object-meta-data>.copy-to-clipboard-container{display:inline-block}",""])},function(t,e){function i(t,e){var i=t[1]||"",r=t[3];if(!r)return i;if(e&&"function"==typeof btoa){var a=n(r);return[i].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([a]).join("\n")}return""+i}function n(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=i(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;this.length>r;r++){var a=this[r][0];"number"==typeof a&&(n[a]=!0)}for(r=0;t.length>r;r++){var o=t[r];"number"==typeof o[0]&&n[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),e.push(o))}},e}},function(t,e,i){function n(t,e){for(var i=0;t.length>i;i++){var n=t[i],r=p[n.id];if(r){r.refs++;for(var a=0;r.parts.length>a;a++)r.parts[a](n.parts[a]);for(;n.parts.length>a;a++)r.parts.push(h(n.parts[a],e))}else{for(var o=[],a=0;n.parts.length>a;a++)o.push(h(n.parts[a],e));p[n.id]={id:n.id,refs:1,parts:o}}}}function r(t,e){for(var i=[],n={},r=0;t.length>r;r++){var a=t[r],o=e.base?a[0]+e.base:a[0],s=a[1],l=a[2],u=a[3],h={css:s,media:l,sourceMap:u};n[o]?n[o].parts.push(h):i.push(n[o]={id:o,parts:[h]})}return i}function a(t,e){var i=m(t.insertInto);if(!i)throw Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=v[v.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),v.push(e);else{if("bottom"!==t.insertAt)throw Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(e)}}function o(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=v.indexOf(t);e>=0&&v.splice(e,1)}function s(t){var e=document.createElement("style");return t.attrs.type="text/css",u(e,t.attrs),a(t,e),e}function l(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",u(e,t.attrs),a(t,e),e}function u(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}function h(t,e){var i,n,r,a;if(e.transform&&t.css){if(!(a=e.transform(t.css)))return function(){};t.css=a}if(e.singleton){var u=y++;i=_||(_=s(e)),n=c.bind(null,i,u,!1),r=c.bind(null,i,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=l(e),n=d.bind(null,i,e),r=function(){o(i),i.href&&URL.revokeObjectURL(i.href)}):(i=s(e),n=f.bind(null,i),r=function(){o(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}function c(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,r);else{var a=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function f(t,e){var i=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function d(t,e,i){var n=i.css,r=i.sourceMap,a=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||a)&&(n=E(n)),r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}var p={},g=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),m=function(t){var e={};return function(i){return void 0===e[i]&&(e[i]=t.call(this,i)),e[i]}}(function(t){return document.querySelector(t)}),_=null,y=0,v=[],E=i(187);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=g()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=r(t,e);return n(i,e),function(t){for(var a=[],o=0;i.length>o;o++){var s=i[o],l=p[s.id];l.refs--,a.push(l)}t&&n(r(t,e),e);for(var o=0;a.length>o;o++){var l=a[o];if(0===l.refs){for(var u=0;l.parts.length>u;u++)l.parts[u]();delete p[l.id]}}}};var b=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,n=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r))return t;var a;return a=0===r.indexOf("//")?r:0===r.indexOf("/")?i+r:n+r.replace(/^\.\//,""),"url("+JSON.stringify(a)+")"})}}])}(i("GiK3"))}()},KUw0:function(t,e,i){"use strict";var n=i("CXX0"),r=i("zF6X"),a=i("/LWt"),o=i("aStr"),s=i("U/IR"),l=i("f5c8"),u=i("bmSR"),h=i("hrLW"),c=i("wupX"),f=i("MB6k"),d=i("pWpL"),p=i("3ahG"),g=i("vkQb"),m=i("LmAy"),_=function(t,e){l.a.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(t,e)};n.a.inherits(_,l.a),_.prototype.appendCoordinate=function(t){this.flatCoordinates?r.a.extend(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},_.prototype.clone=function(){var t=new _(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),t},_.prototype.closestPointXY=function(t,e,i,n){return n<a.default.closestSquaredDistanceXY(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(u.a.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),u.a.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,i,n))},_.prototype.forEachSegment=function(t,e){return g.a.forEach(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},_.prototype.getCoordinateAtM=function(t,e){return this.layout!=o.a.XYM&&this.layout!=o.a.XYZM?null:f.a.lineStringCoordinateAtM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,void 0!==e&&e)},_.prototype.getCoordinates=function(){return c.a.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},_.prototype.getCoordinateAt=function(t,e){return f.a.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},_.prototype.getLength=function(){return p.a.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},_.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},_.prototype.getSimplifiedGeometryInternal=function(t){var e=[];e.length=m.a.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0);var i=new _(null);return i.setFlatCoordinates(o.a.XY,e),i},_.prototype.getType=function(){return s.a.LINE_STRING},_.prototype.intersectsExtent=function(t){return d.a.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},_.prototype.setCoordinates=function(t,e){t?(this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=h.a.coordinates(this.flatCoordinates,0,t,this.stride),this.changed()):this.setFlatCoordinates(o.a.XY,null)},_.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e),this.changed()},e.a=_},KYZA:function(t,e,i){"use strict";t.exports="15.6.2"},Khs5:function(t,e,i){"use strict";function n(t){return t.charAt(0).toUpperCase()+t.slice(1)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n,t.exports=e.default},Ki3i:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("dkMO");e.default=function(t){return t&&t.__esModule?t:{default:t}}(n).default},Kmv0:function(t,e,i){"use strict";t.exports="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103},L2CZ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("ECY+"),a=i("bHOE"),o=i("B87n"),s=i("tFCN"),l=function(t){var e=t||{},i=s.a.assign({},e);delete i.preload,delete i.useInterimTilesOnError,a.default.call(this,i),this.setPreload(void 0!==e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError),this.type=r.a.TILE};n.a.inherits(l,a.default),l.prototype.getPreload=function(){return this.get(o.a.PRELOAD)},l.prototype.setPreload=function(t){this.set(o.a.PRELOAD,t)},l.prototype.getUseInterimTilesOnError=function(){return this.get(o.a.USE_INTERIM_TILES_ON_ERROR)},l.prototype.setUseInterimTilesOnError=function(t){this.set(o.a.USE_INTERIM_TILES_ON_ERROR,t)},e.default=l},LaVj:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("BV9W"),a=i("OEyb"),o=i("FeXB"),s=i("6t+W"),l=i("ZVo0"),u={FRACTION:"fraction",PIXELS:"pixels"},h=u,c=i("w2Al"),f=i("dDPv"),d=i("beD/"),p=function(t,e,i,n,a,o){f.a.call(this),this.hitDetectionImage_=null,this.image_=t||new Image,null!==n&&(this.image_.crossOrigin=n),this.canvas_=o?document.createElement("CANVAS"):null,this.color_=o,this.imageListenerKeys_=null,this.imageState_=a,this.size_=i,this.src_=e,this.tainting_=!1,this.imageState_==r.a.LOADED&&this.determineTainting_()};n.a.inherits(p,f.a),p.get=function(t,e,i,n,r,a){var o=d.a.iconImageCache,s=o.get(e,n,a);return s||(s=new p(t,e,i,n,r,a),o.set(e,n,a,s)),s},p.prototype.determineTainting_=function(){var t=c.a.createCanvasContext2D(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(t){this.tainting_=!0}},p.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(l.a.CHANGE)},p.prototype.handleImageError_=function(){this.imageState_=r.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},p.prototype.handleImageLoad_=function(){this.imageState_=r.a.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.determineTainting_(),this.replaceColor_(),this.dispatchChangeEvent_()},p.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},p.prototype.getImageState=function(){return this.imageState_},p.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.tainting_){var e=this.size_[0],i=this.size_[1],n=c.a.createCanvasContext2D(e,i);n.fillRect(0,0,e,i),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},p.prototype.getSize=function(){return this.size_},p.prototype.getSrc=function(){return this.src_},p.prototype.load=function(){if(this.imageState_==r.a.IDLE){this.imageState_=r.a.LOADING,this.imageListenerKeys_=[s.a.listenOnce(this.image_,l.a.ERROR,this.handleImageError_,this),s.a.listenOnce(this.image_,l.a.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}},p.prototype.replaceColor_=function(){if(!this.tainting_&&null!==this.color_){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),i=e.data,n=this.color_[0]/255,r=this.color_[1]/255,a=this.color_[2]/255,o=0,s=i.length;s>o;o+=4)i[o]*=n,i[o+1]*=r,i[o+2]*=a;t.putImageData(e,0,0)}},p.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(s.a.unlistenByKey),this.imageListenerKeys_=null};var g=p,m={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},_=m,y=i("t6Ve"),v=function(t){var e=t||{};this.anchor_=void 0!==e.anchor?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==e.anchorOrigin?e.anchorOrigin:_.TOP_LEFT,this.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:h.FRACTION,this.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:h.FRACTION,this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;var i=void 0!==e.img?e.img:null,s=void 0!==e.imgSize?e.imgSize:null,l=e.src;a.a.assert(!(void 0!==l&&i),4),a.a.assert(!i||i&&s,5),void 0!==l&&0!==l.length||!i||(l=i.src||""+n.a.getUid(i)),a.a.assert(void 0!==l&&l.length>0,6);var u=void 0!==e.src?r.a.IDLE:r.a.LOADED;this.color_=void 0!==e.color?o.a.asArray(e.color):null,this.iconImage_=g.get(i,l,s,this.crossOrigin_,u,this.color_),this.offset_=void 0!==e.offset?e.offset:[0,0],this.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:_.TOP_LEFT,this.origin_=null,this.size_=void 0!==e.size?e.size:null;var c=void 0!==e.opacity?e.opacity:1,f=void 0!==e.rotateWithView&&e.rotateWithView;y.a.call(this,{opacity:c,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,snapToPixel:void 0===e.snapToPixel||e.snapToPixel,rotateWithView:f})};n.a.inherits(v,y.a),v.prototype.clone=function(){return new v({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),snapToPixel:this.getSnapToPixel(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},v.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==h.FRACTION||this.anchorYUnits_==h.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==h.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==h.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=_.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=_.TOP_RIGHT&&this.anchorOrigin_!=_.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=_.BOTTOM_LEFT&&this.anchorOrigin_!=_.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t},v.prototype.getColor=function(){return this.color_},v.prototype.getImage=function(t){return this.iconImage_.getImage(t)},v.prototype.getImageSize=function(){return this.iconImage_.getSize()},v.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},v.prototype.getImageState=function(){return this.iconImage_.getImageState()},v.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},v.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=_.TOP_LEFT){var e=this.getSize(),i=this.iconImage_.getSize();if(!e||!i)return null;t=t.slice(),this.offsetOrigin_!=_.TOP_RIGHT&&this.offsetOrigin_!=_.BOTTOM_RIGHT||(t[0]=i[0]-e[0]-t[0]),this.offsetOrigin_!=_.BOTTOM_LEFT&&this.offsetOrigin_!=_.BOTTOM_RIGHT||(t[1]=i[1]-e[1]-t[1])}return this.origin_=t},v.prototype.getSrc=function(){return this.iconImage_.getSrc()},v.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},v.prototype.listenImageChange=function(t,e){return s.a.listen(this.iconImage_,l.a.CHANGE,t,e)},v.prototype.load=function(){this.iconImage_.load()},v.prototype.unlistenImageChange=function(t,e){s.a.unlisten(this.iconImage_,l.a.CHANGE,t,e)},e.default=v},Lf3R:function(t,e,i){var n=i("jAuj");"string"==typeof n&&(n=[[t.i,n,""]]);var r={};r.transform=void 0,i("MTIv")(n,r),n.locals&&(t.exports=n.locals)},LmAy:function(t,e,i){"use strict";var n=i("o1z/"),r={};r.lineString=function(t,e,i,n,a,o,s){var l=void 0!==s?s:[];return o||(i=r.radialDistance(t,e,i,n,a,l,0),t=l,e=0,n=2),l.length=r.douglasPeucker(t,e,i,n,a,l,0),l},r.douglasPeucker=function(t,e,i,r,a,o,s){var l=(i-e)/r;if(3>l){for(;i>e;e+=r)o[s++]=t[e],o[s++]=t[e+1];return s}var u=Array(l);u[0]=1,u[l-1]=1;for(var h,c=[e,i-r],f=0;c.length>0;){var d=c.pop(),p=c.pop(),g=0,m=t[p],_=t[p+1],y=t[d],v=t[d+1];for(h=p+r;d>h;h+=r){var E=t[h],b=t[h+1],x=n.a.squaredSegmentDistance(E,b,m,_,y,v);x>g&&(f=h,g=x)}g>a&&(u[(f-e)/r]=1,f>p+r&&c.push(p,f),d>f+r&&c.push(f,d))}for(h=0;l>h;++h)u[h]&&(o[s++]=t[e+h*r],o[s++]=t[e+h*r+1]);return s},r.douglasPeuckers=function(t,e,i,n,a,o,s,l){var u,h;for(u=0,h=i.length;h>u;++u){var c=i[u];s=r.douglasPeucker(t,e,c,n,a,o,s),l.push(s),e=c}return s},r.douglasPeuckerss=function(t,e,i,n,a,o,s,l){var u,h;for(u=0,h=i.length;h>u;++u){var c=i[u],f=[];s=r.douglasPeuckers(t,e,c,n,a,o,s,f),l.push(f),e=c[c.length-1]}return s},r.radialDistance=function(t,e,i,r,a,o,s){if(e+r>=i){for(;i>e;e+=r)o[s++]=t[e],o[s++]=t[e+1];return s}var l=t[e],u=t[e+1];o[s++]=l,o[s++]=u;var h=l,c=u;for(e+=r;i>e;e+=r)h=t[e],c=t[e+1],n.a.squaredDistance(l,u,h,c)>a&&(o[s++]=h,o[s++]=c,l=h,u=c);return h==l&&c==u||(o[s++]=h,o[s++]=c),s},r.snap=function(t,e){return e*Math.round(t/e)},r.quantize=function(t,e,i,n,a,o,s){if(e==i)return s;var l=r.snap(t[e],a),u=r.snap(t[e+1],a);e+=n,o[s++]=l,o[s++]=u;var h,c;do{if(h=r.snap(t[e],a),c=r.snap(t[e+1],a),(e+=n)==i)return o[s++]=h,o[s++]=c,s}while(h==l&&c==u);for(;i>e;){var f,d;if(f=r.snap(t[e],a),d=r.snap(t[e+1],a),e+=n,f!=h||d!=c){var p=h-l,g=c-u,m=f-l,_=d-u;p*_==g*m&&(0>p&&p>m||p==m||p>0&&m>p)&&(0>g&&g>_||g==_||g>0&&_>g)?(h=f,c=d):(o[s++]=h,o[s++]=c,l=h,u=c,h=f,c=d)}}return o[s++]=h,o[s++]=c,s},r.quantizes=function(t,e,i,n,a,o,s,l){var u,h;for(u=0,h=i.length;h>u;++u){var c=i[u];s=r.quantize(t,e,c,n,a,o,s),l.push(s),e=c}return s},r.quantizess=function(t,e,i,n,a,o,s,l){var u,h;for(u=0,h=i.length;h>u;++u){var c=i[u],f=[];s=r.quantizes(t,e,c,n,a,o,s,f),l.push(f),e=c[c.length-1]}return s},e.a=r},M4zB:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("OEyb"),a=i("/LWt"),o=i("tFCN"),s=i("o1z/"),l=i("yGLh"),u=i("N9JB"),h=i("xifc"),c=i("NUc0"),f=i("dJCB"),d=i("fGqn"),p=i("J23v"),g=i("iFba"),m=function(t){var e=t||{},i=e.params||{};c.a.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,logo:e.logo,opaque:!(!("TRANSPARENT"in i)||i.TRANSPARENT),projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.gutter_=void 0!==e.gutter?e.gutter:0,this.params_=i,this.v13_=!0,this.serverType_=e.serverType,this.hidpi_=void 0===e.hidpi||e.hidpi,this.tmpExtent_=a.default.createEmpty(),this.updateV13_(),this.setKey(this.getKeyForParams_())};n.a.inherits(m,c.a),m.prototype.getGetFeatureInfoUrl=function(t,e,i,r){var s=l.default.get(i),c=this.getProjection(),f=this.getTileGrid();f||(f=this.getTileGridForProjection(s));var d=f.getTileCoordForCoordAndResolution(t,e);if(f.getResolutions().length>d[0]){var p=f.getResolution(d[0]),g=f.getTileCoordExtent(d,this.tmpExtent_),m=h.a.toSize(f.getTileSize(d[0]),this.tmpSize),_=this.gutter_;0!==_&&(m=h.a.buffer(m,_,this.tmpSize),g=a.default.buffer(g,p*_,g)),c&&c!==s&&(p=u.a.calculateSourceResolution(c,s,t,p),g=l.default.transformExtent(g,s,c),t=l.default.transform(t,s,c));var y={SERVICE:"WMS",VERSION:n.a.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};o.a.assign(y,this.params_,r);var v=Math.floor((t[0]-g[0])/p),E=Math.floor((g[3]-t[1])/p);return y[this.v13_?"I":"X"]=v,y[this.v13_?"J":"Y"]=E,this.getRequestUrl_(d,m,g,1,c||s,y)}},m.prototype.getGutterInternal=function(){return this.gutter_},m.prototype.getParams=function(){return this.params_},m.prototype.getRequestUrl_=function(t,e,i,n,a,o){var l=this.urls;if(l){if(o.WIDTH=e[0],o.HEIGHT=e[1],o[this.v13_?"CRS":"SRS"]=a.getCode(),"STYLES"in this.params_||(o.STYLES=""),1!=n)switch(this.serverType_){case f.a.GEOSERVER:var u=90*n+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+u:o.FORMAT_OPTIONS="dpi:"+u;break;case f.a.MAPSERVER:o.MAP_RESOLUTION=90*n;break;case f.a.CARMENTA_SERVER:case f.a.QGIS:o.DPI=90*n;break;default:r.a.assert(!1,52)}var h=a.getAxisOrientation(),c=i;if(this.v13_&&"ne"==h.substr(0,2)){var p;p=i[0],c[0]=i[1],c[1]=p,p=i[2],c[2]=i[3],c[3]=p}o.BBOX=c.join(",");var m;return m=1==l.length?l[0]:l[s.a.modulo(d.a.hash(t),l.length)],g.a.appendParams(m,o)}},m.prototype.getTilePixelRatio=function(t){return this.hidpi_&&void 0!==this.serverType_?t:1},m.prototype.getKeyForParams_=function(){var t=0,e=[];for(var i in this.params_)e[t++]=i+"-"+this.params_[i];return e.join("/")},m.prototype.fixedTileUrlFunction=function(t,e,i){var r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(i)),r.getResolutions().length>t[0]){1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);var s=r.getResolution(t[0]),l=r.getTileCoordExtent(t,this.tmpExtent_),u=h.a.toSize(r.getTileSize(t[0]),this.tmpSize),c=this.gutter_;0!==c&&(u=h.a.buffer(u,c,this.tmpSize),l=a.default.buffer(l,s*c,l)),1!=e&&(u=h.a.scale(u,e,this.tmpSize));var f={SERVICE:"WMS",VERSION:n.a.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return o.a.assign(f,this.params_),this.getRequestUrl_(t,u,l,e,i,f)}},m.prototype.updateParams=function(t){o.a.assign(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},m.prototype.updateV13_=function(){this.v13_=p.a.compareVersions(this.params_.VERSION||n.a.DEFAULT_WMS_VERSION,"1.3")>=0},e.default=m},MB6k:function(t,e,i){"use strict";var n=i("zF6X"),r=i("o1z/"),a={};a.lineString=function(t,e,i,a,o,s){var l=NaN,u=NaN,h=(i-e)/a;if(1===h)l=t[e],u=t[e+1];else if(2==h)l=(1-o)*t[e]+o*t[e+a],u=(1-o)*t[e+1]+o*t[e+a+1];else if(0!==h){var c,f=t[e],d=t[e+1],p=0,g=[0];for(c=e+a;i>c;c+=a){var m=t[c],_=t[c+1];p+=Math.sqrt((m-f)*(m-f)+(_-d)*(_-d)),g.push(p),f=m,d=_}var y=o*p,v=n.a.binarySearch(g,y);if(0>v){var E=(y-g[-v-2])/(g[-v-1]-g[-v-2]),b=e+(-v-2)*a;l=r.a.lerp(t[b],t[b+a],E),u=r.a.lerp(t[b+1],t[b+a+1],E)}else l=t[e+v*a],u=t[e+v*a+1]}return s?(s[0]=l,s[1]=u,s):[l,u]},a.lineStringCoordinateAtM=function(t,e,i,n,a,o){if(i==e)return null;var s;if(t[e+n-1]>a)return o?(s=t.slice(e,e+n),s[n-1]=a,s):null;if(a>t[i-1])return o?(s=t.slice(i-n,i),s[n-1]=a,s):null;if(a==t[e+n-1])return t.slice(e,e+n);for(var l=e/n,u=i/n;u>l;){var h=l+u>>1;t[(h+1)*n-1]>a?u=h:l=h+1}var c=t[l*n-1];if(a==c)return t.slice((l-1)*n,(l-1)*n+n);var f=t[(l+1)*n-1],d=(a-c)/(f-c);s=[];var p;for(p=0;n-1>p;++p)s.push(r.a.lerp(t[(l-1)*n+p],t[l*n+p],d));return s.push(a),s},a.lineStringsCoordinateAtM=function(t,e,i,n,r,o,s){if(s)return a.lineStringCoordinateAtM(t,e,i[i.length-1],n,r,o);var l;if(t[n-1]>r)return o?(l=t.slice(0,n),l[n-1]=r,l):null;if(r>t[t.length-1])return o?(l=t.slice(t.length-n),l[n-1]=r,l):null;var u,h;for(u=0,h=i.length;h>u;++u){var c=i[u];if(e!=c){if(t[e+n-1]>r)return null;if(t[c-1]>=r)return a.lineStringCoordinateAtM(t,e,c,n,r,!1);e=c}}return null},e.a=a},MJuv:function(t,e,i){"use strict";var n=i("cCXU"),r=i("OEyb"),a=i("V2dr"),o=i("4acs"),s={};s.altKeyOnly=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},s.altShiftKeysOnly=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},s.always=a.a.TRUE,s.click=function(t){return t.type==n.a.CLICK},s.mouseActionButton=function(t){var e=t.originalEvent;return 0==e.button&&!(o.a.WEBKIT&&o.a.MAC&&e.ctrlKey)},s.never=a.a.FALSE,s.pointerMove=function(t){return"pointermove"==t.type},s.singleClick=function(t){return t.type==n.a.SINGLECLICK},s.doubleClick=function(t){return t.type==n.a.DBLCLICK},s.noModifierKeys=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},s.platformModifierKeyOnly=function(t){var e=t.originalEvent;return!e.altKey&&(o.a.MAC?e.metaKey:e.ctrlKey)&&!e.shiftKey},s.shiftKeyOnly=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},s.targetNotEditable=function(t){var e=t.originalEvent.target,i=e.tagName;return"INPUT"!==i&&"SELECT"!==i&&"TEXTAREA"!==i},s.mouseOnly=function(t){return r.a.assert(t.pointerEvent,56),"mouse"==t.pointerEvent.pointerType},s.primaryAction=function(t){var e=t.pointerEvent;return e.isPrimary&&0===e.button},e.a=s},MiJB:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("/3K7"),a=i("iHAK"),o=i("p8Td"),s=i("cCXU"),l=i("iOl9"),u=i("zF6X"),h=i("IZoy"),c=i("6t+W"),f=i("J25b"),d=i("ZVo0"),p=i("MJuv"),g=i("/LWt"),m=i("U/IR"),_=i("qxxq"),y={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},v=y,E=i("7OqO"),b=i("aC3Q"),x=i("86p+"),C=i("S7li"),S=i("6NQJ"),T=i("tOEd"),R=function(t){E.a.call(this,{handleDownEvent:R.handleDownEvent_,handleDragEvent:R.handleDragEvent_,handleEvent:R.handleEvent,handleUpEvent:R.handleUpEvent_}),this.condition_=t.condition?t.condition:p.a.primaryAction,this.defaultDeleteCondition_=function(t){return p.a.altKeyOnly(t)&&p.a.singleClick(t)},this.deleteCondition_=t.deleteCondition?t.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=t.insertVertexCondition?t.insertVertexCondition:p.a.always,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.modified_=!1,this.rBush_=new S.a,this.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new b.default({source:new x.default({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:R.getDefaultStyleFunction(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_},this.source_=null;var e;if(t.source?(this.source_=t.source,e=new r.default(this.source_.getFeatures()),c.a.listen(this.source_,C.a.ADDFEATURE,this.handleSourceAdd_,this),c.a.listen(this.source_,C.a.REMOVEFEATURE,this.handleSourceRemove_,this)):e=t.features,!e)throw Error("The modify interaction requires features or a source");this.features_=e,this.features_.forEach(this.addFeature_,this),c.a.listen(this.features_,a.a.ADD,this.handleFeatureAdd_,this),c.a.listen(this.features_,a.a.REMOVE,this.handleFeatureRemove_,this),this.lastPointerEvent_=null};n.a.inherits(R,E.a),R.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX=0,R.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX=1,R.prototype.addFeature_=function(t){var e=t.getGeometry();e&&e.getType()in this.SEGMENT_WRITERS_&&this.SEGMENT_WRITERS_[e.getType()].call(this,t,e);var i=this.getMap();i&&i.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,i),c.a.listen(t,d.a.CHANGE,this.handleFeatureChange_,this)},R.prototype.willModifyFeatures_=function(t){this.modified_||(this.modified_=!0,this.dispatchEvent(new R.Event(v.MODIFYSTART,this.features_,t)))},R.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),c.a.unlisten(t,d.a.CHANGE,this.handleFeatureChange_,this)},R.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_,i=[];e.forEach(function(e){t===e.feature&&i.push(e)});for(var n=i.length-1;n>=0;--n)e.remove(i[n])},R.prototype.setActive=function(t){this.vertexFeature_&&!t&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),E.a.prototype.setActive.call(this,t)},R.prototype.setMap=function(t){this.overlay_.setMap(t),E.a.prototype.setMap.call(this,t)},R.prototype.handleSourceAdd_=function(t){t.feature&&this.features_.push(t.feature)},R.prototype.handleSourceRemove_=function(t){t.feature&&this.features_.remove(t.feature)},R.prototype.handleFeatureAdd_=function(t){this.addFeature_(t.element)},R.prototype.handleFeatureChange_=function(t){if(!this.changingFeature_){var e=t.target;this.removeFeature_(e),this.addFeature_(e)}},R.prototype.handleFeatureRemove_=function(t){this.removeFeature_(t.element)},R.prototype.writePointGeometry_=function(t,e){var i=e.getCoordinates(),n={feature:t,geometry:e,segment:[i,i]};this.rBush_.insert(e.getExtent(),n)},R.prototype.writeMultiPointGeometry_=function(t,e){var i,n,r,a,o=e.getCoordinates();for(n=0,r=o.length;r>n;++n)i=o[n],a={feature:t,geometry:e,depth:[n],index:n,segment:[i,i]},this.rBush_.insert(e.getExtent(),a)},R.prototype.writeLineStringGeometry_=function(t,e){var i,n,r,a,o=e.getCoordinates();for(i=0,n=o.length-1;n>i;++i)r=o.slice(i,i+2),a={feature:t,geometry:e,index:i,segment:r},this.rBush_.insert(g.default.boundingExtent(r),a)},R.prototype.writeMultiLineStringGeometry_=function(t,e){var i,n,r,a,o,s,l,u=e.getCoordinates();for(a=0,o=u.length;o>a;++a)for(i=u[a],n=0,r=i.length-1;r>n;++n)s=i.slice(n,n+2),l={feature:t,geometry:e,depth:[a],index:n,segment:s},this.rBush_.insert(g.default.boundingExtent(s),l)},R.prototype.writePolygonGeometry_=function(t,e){var i,n,r,a,o,s,l,u=e.getCoordinates();for(a=0,o=u.length;o>a;++a)for(i=u[a],n=0,r=i.length-1;r>n;++n)s=i.slice(n,n+2),l={feature:t,geometry:e,depth:[a],index:n,segment:s},this.rBush_.insert(g.default.boundingExtent(s),l)},R.prototype.writeMultiPolygonGeometry_=function(t,e){var i,n,r,a,o,s,l,u,h,c,f=e.getCoordinates();for(s=0,l=f.length;l>s;++s)for(u=f[s],a=0,o=u.length;o>a;++a)for(i=u[a],n=0,r=i.length-1;r>n;++n)h=i.slice(n,n+2),c={feature:t,geometry:e,depth:[a,s],index:n,segment:h},this.rBush_.insert(g.default.boundingExtent(h),c)},R.prototype.writeCircleGeometry_=function(t,e){var i=e.getCenter(),n={feature:t,geometry:e,index:R.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX,segment:[i,i]},r={feature:t,geometry:e,index:R.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX,segment:[i,i]};n.featureSegments=r.featureSegments=[n,r],this.rBush_.insert(g.default.createOrUpdateFromCoordinate(i),n),this.rBush_.insert(e.getExtent(),r)},R.prototype.writeGeometryCollectionGeometry_=function(t,e){var i,n=e.getGeometriesArray();for(i=0;n.length>i;++i)this.SEGMENT_WRITERS_[n[i].getType()].call(this,t,n[i])},R.prototype.createOrUpdateVertexFeature_=function(t){var e=this.vertexFeature_;return e?e.getGeometry().setCoordinates(t):(e=new o.default(new _.default(t)),this.vertexFeature_=e,this.overlay_.getSource().addFeature(e)),e},R.compareIndexes_=function(t,e){return t.index-e.index},R.handleDownEvent_=function(t){if(!this.condition_(t))return!1;this.handlePointerAtPixel_(t.pixel,t.map);var e=t.map.getCoordinateFromPixel(t.pixel);this.dragSegments_.length=0,this.modified_=!1;var i=this.vertexFeature_;if(i){var r=[],a=i.getGeometry(),o=a.getCoordinates(),s=g.default.boundingExtent([o]),l=this.rBush_.getInExtent(s),u={};l.sort(R.compareIndexes_);for(var c=0,f=l.length;f>c;++c){var d=l[c],p=d.segment,_=n.a.getUid(d.feature),y=d.depth;if(y&&(_+="-"+y.join("-")),u[_]||(u[_]=Array(2)),d.geometry.getType()===m.a.CIRCLE&&d.index===R.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){var v=R.closestOnSegmentData_(e,d);h.a.equals(v,o)&&!u[_][0]&&(this.dragSegments_.push([d,0]),u[_][0]=d)}else if(h.a.equals(p[0],o)&&!u[_][0])this.dragSegments_.push([d,0]),u[_][0]=d;else if(h.a.equals(p[1],o)&&!u[_][1]){if((d.geometry.getType()===m.a.LINE_STRING||d.geometry.getType()===m.a.MULTI_LINE_STRING)&&u[_][0]&&0===u[_][0].index)continue;this.dragSegments_.push([d,1]),u[_][1]=d}else this.insertVertexCondition_(t)&&n.a.getUid(p)in this.vertexSegments_&&!u[_][0]&&!u[_][1]&&r.push([d,o])}r.length&&this.willModifyFeatures_(t);for(var E=r.length-1;E>=0;--E)this.insertVertex_.apply(this,r[E])}return!!this.vertexFeature_},R.handleDragEvent_=function(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t);for(var e=t.coordinate,i=0,n=this.dragSegments_.length;n>i;++i){for(var r,a=this.dragSegments_[i],o=a[0],s=o.depth,l=o.geometry,u=o.segment,c=a[1];e.length<l.getStride();)e.push(u[c][e.length]);switch(l.getType()){case m.a.POINT:r=e,u[0]=u[1]=e;break;case m.a.MULTI_POINT:r=l.getCoordinates(),r[o.index]=e,u[0]=u[1]=e;break;case m.a.LINE_STRING:r=l.getCoordinates(),r[o.index+c]=e,u[c]=e;break;case m.a.MULTI_LINE_STRING:case m.a.POLYGON:r=l.getCoordinates(),r[s[0]][o.index+c]=e,u[c]=e;break;case m.a.MULTI_POLYGON:r=l.getCoordinates(),r[s[1]][s[0]][o.index+c]=e,u[c]=e;break;case m.a.CIRCLE:u[0]=u[1]=e,o.index===R.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX?(this.changingFeature_=!0,l.setCenter(e),this.changingFeature_=!1):(this.changingFeature_=!0,l.setRadius(h.a.distance(l.getCenter(),e)),this.changingFeature_=!1)}r&&this.setGeometryCoordinates_(l,r)}this.createOrUpdateVertexFeature_(e)},R.handleUpEvent_=function(t){for(var e,i,n=this.dragSegments_.length-1;n>=0;--n)if(e=this.dragSegments_[n][0],i=e.geometry,i.getType()===m.a.CIRCLE){var r=i.getCenter(),a=e.featureSegments[0],o=e.featureSegments[1];a.segment[0]=a.segment[1]=r,o.segment[0]=o.segment[1]=r,this.rBush_.update(g.default.createOrUpdateFromCoordinate(r),a),this.rBush_.update(i.getExtent(),o)}else this.rBush_.update(g.default.boundingExtent(e.segment),e);return this.modified_&&(this.dispatchEvent(new R.Event(v.MODIFYEND,this.features_,t)),this.modified_=!1),!1},R.handleEvent=function(t){if(!(t instanceof l.a))return!0;this.lastPointerEvent_=t;var e;return t.map.getView().getInteracting()||t.type!=s.a.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),this.vertexFeature_&&this.deleteCondition_(t)&&(e=!(t.type!=s.a.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),t.type==s.a.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),E.a.handleEvent.call(this,t)&&!e},R.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map)},R.prototype.handlePointerAtPixel_=function(t,e){var i=e.getCoordinateFromPixel(t),r=function(t,e){return R.pointDistanceToSegmentDataSquared_(i,t)-R.pointDistanceToSegmentDataSquared_(i,e)},a=g.default.buffer(g.default.createOrUpdateFromCoordinate(i),e.getView().getResolution()*this.pixelTolerance_),o=this.rBush_,s=o.getInExtent(a);if(s.length>0){s.sort(r);var l=s[0],u=l.segment,c=R.closestOnSegmentData_(i,l),f=e.getPixelFromCoordinate(c),d=h.a.distance(t,f);if(this.pixelTolerance_>=d){var p={};if(l.geometry.getType()===m.a.CIRCLE&&l.index===R.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(c);else{var _=e.getPixelFromCoordinate(u[0]),y=e.getPixelFromCoordinate(u[1]),v=h.a.squaredDistance(f,_),E=h.a.squaredDistance(f,y);d=Math.sqrt(Math.min(v,E)),this.snappedToVertex_=this.pixelTolerance_>=d,this.snappedToVertex_&&(c=v>E?u[1]:u[0]),this.createOrUpdateVertexFeature_(c);for(var b,x=1,C=s.length;C>x&&(b=s[x].segment,h.a.equals(u[0],b[0])&&h.a.equals(u[1],b[1])||h.a.equals(u[0],b[1])&&h.a.equals(u[1],b[0]));++x)p[n.a.getUid(b)]=!0}return p[n.a.getUid(u)]=!0,void(this.vertexSegments_=p)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},R.pointDistanceToSegmentDataSquared_=function(t,e){var i=e.geometry;if(i.getType()===m.a.CIRCLE){var n=i;if(e.index===R.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){var r=h.a.squaredDistance(n.getCenter(),t),a=Math.sqrt(r)-n.getRadius();return a*a}}return h.a.squaredDistanceToSegment(t,e.segment)},R.closestOnSegmentData_=function(t,e){var i=e.geometry;return i.getType()===m.a.CIRCLE&&e.index===R.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX?i.getClosestPoint(t):h.a.closestOnSegment(t,e.segment)},R.prototype.insertVertex_=function(t,e){for(var i,n=t.segment,r=t.feature,a=t.geometry,o=t.depth,s=t.index;e.length<a.getStride();)e.push(0);switch(a.getType()){case m.a.MULTI_LINE_STRING:case m.a.POLYGON:i=a.getCoordinates(),i[o[0]].splice(s+1,0,e);break;case m.a.MULTI_POLYGON:i=a.getCoordinates(),i[o[1]][o[0]].splice(s+1,0,e);break;case m.a.LINE_STRING:i=a.getCoordinates(),i.splice(s+1,0,e);break;default:return}this.setGeometryCoordinates_(a,i);var l=this.rBush_;l.remove(t),this.updateSegmentIndices_(a,s,o,1);var u={segment:[n[0],e],feature:r,geometry:a,depth:o,index:s};l.insert(g.default.boundingExtent(u.segment),u),this.dragSegments_.push([u,1]);var h={segment:[e,n[1]],feature:r,geometry:a,depth:o,index:s+1};l.insert(g.default.boundingExtent(h.segment),h),this.dragSegments_.push([h,0]),this.ignoreNextSingleClick_=!0},R.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=s.a.POINTERDRAG){var t=this.lastPointerEvent_;return this.willModifyFeatures_(t),this.removeVertex_(),this.dispatchEvent(new R.Event(v.MODIFYEND,this.features_,t)),this.modified_=!1,!0}return!1},R.prototype.removeVertex_=function(){var t,e,i,r,a,o,s,l,u,h,c,f=this.dragSegments_,d={},p=!1;for(a=f.length-1;a>=0;--a)i=f[a],h=i[0],c=n.a.getUid(h.feature),h.depth&&(c+="-"+h.depth.join("-")),c in d||(d[c]={}),0===i[1]?(d[c].right=h,d[c].index=h.index):1==i[1]&&(d[c].left=h,d[c].index=h.index+1);for(c in d){switch(u=d[c].right,s=d[c].left,o=d[c].index,l=o-1,h=void 0!==s?s:u,0>l&&(l=0),r=h.geometry,e=r.getCoordinates(),t=e,p=!1,r.getType()){case m.a.MULTI_LINE_STRING:e[h.depth[0]].length>2&&(e[h.depth[0]].splice(o,1),p=!0);break;case m.a.LINE_STRING:e.length>2&&(e.splice(o,1),p=!0);break;case m.a.MULTI_POLYGON:t=t[h.depth[1]];case m.a.POLYGON:t=t[h.depth[0]],t.length>4&&(o==t.length-1&&(o=0),t.splice(o,1),p=!0,0===o&&(t.pop(),t.push(t[0]),l=t.length-1))}if(p){this.setGeometryCoordinates_(r,e);var _=[];if(void 0!==s&&(this.rBush_.remove(s),_.push(s.segment[0])),void 0!==u&&(this.rBush_.remove(u),_.push(u.segment[1])),void 0!==s&&void 0!==u){var y={depth:h.depth,feature:h.feature,geometry:h.geometry,index:l,segment:_};this.rBush_.insert(g.default.boundingExtent(y.segment),y)}this.updateSegmentIndices_(r,o,h.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),f.length=0}}return p},R.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1},R.prototype.updateSegmentIndices_=function(t,e,i,n){this.rBush_.forEachInExtent(t.getExtent(),function(r){r.geometry===t&&(void 0===i||void 0===r.depth||u.a.equals(r.depth,i))&&r.index>e&&(r.index+=n)})},R.getDefaultStyleFunction=function(){var t=T.default.createDefaultEditing();return function(e,i){return t[m.a.POINT]}},R.Event=function(t,e,i){f.a.call(this,t),this.features=e,this.mapBrowserEvent=i},n.a.inherits(R.Event,f.a),e.default=R},N9JB:function(t,e,i){"use strict";var n=i("w2Al"),r=i("/LWt"),a=i("o1z/"),o=i("yGLh"),s={};s.calculateSourceResolution=function(t,e,i,n){var a=o.default.transform(i,e,t),s=o.default.getPointResolution(e,n,i),l=e.getMetersPerUnit();void 0!==l&&(s*=l);var u=t.getMetersPerUnit();void 0!==u&&(s/=u);var h=t.getExtent();if(!h||r.default.containsCoordinate(h,a)){var c=o.default.getPointResolution(t,s,a)/s;isFinite(c)&&c>0&&(s/=c)}return s},s.enlargeClipPoint_=function(t,e,i,n){var r=i-t,a=n-e,o=Math.sqrt(r*r+a*a);return[Math.round(i+r/o),Math.round(n+a/o)]},s.render=function(t,e,i,o,l,u,h,c,f,d,p){var g=n.a.createCanvasContext2D(Math.round(i*t),Math.round(i*e));if(0===f.length)return g.canvas;g.scale(i,i);var m=r.default.createEmpty();f.forEach(function(t,e,i){r.default.extend(m,t.extent)});var _=r.default.getWidth(m),y=r.default.getHeight(m),v=n.a.createCanvasContext2D(Math.round(i*_/o),Math.round(i*y/o)),E=i/o;f.forEach(function(t,e,i){var n=t.extent[0]-m[0],a=-(t.extent[3]-m[3]),o=r.default.getWidth(t.extent),s=r.default.getHeight(t.extent);v.drawImage(t.image,d,d,t.image.width-2*d,t.image.height-2*d,n*E,a*E,o*E,s*E)});var b=r.default.getTopLeft(h);return c.getTriangles().forEach(function(t,e,n){var r=t.source,l=t.target,h=r[0][0],c=r[0][1],f=r[1][0],d=r[1][1],p=r[2][0],_=r[2][1],y=(l[0][0]-b[0])/u,E=-(l[0][1]-b[1])/u,x=(l[1][0]-b[0])/u,C=-(l[1][1]-b[1])/u,S=(l[2][0]-b[0])/u,T=-(l[2][1]-b[1])/u,R=h,M=c;h=0,c=0,f-=R,d-=M,p-=R,_-=M;var w=[[f,d,0,0,x-y],[p,_,0,0,S-y],[0,0,f,d,C-E],[0,0,p,_,T-E]],O=a.a.solveLinearSystem(w);if(O){g.save(),g.beginPath();var A=(y+x+S)/3,I=(E+C+T)/3,P=s.enlargeClipPoint_(A,I,y,E),L=s.enlargeClipPoint_(A,I,x,C),N=s.enlargeClipPoint_(A,I,S,T);g.moveTo(L[0],L[1]),g.lineTo(P[0],P[1]),g.lineTo(N[0],N[1]),g.clip(),g.transform(O[0],O[2],O[1],O[3],y,E),g.translate(m[0]-R,m[3]-M),g.scale(o/i,-o/i),g.drawImage(v.canvas,0,0),g.restore()}}),p&&(g.save(),g.strokeStyle="black",g.lineWidth=1,c.getTriangles().forEach(function(t,e,i){var n=t.target,r=(n[0][0]-b[0])/u,a=-(n[0][1]-b[1])/u,o=(n[1][0]-b[0])/u,s=-(n[1][1]-b[1])/u,l=(n[2][0]-b[0])/u,h=-(n[2][1]-b[1])/u;g.beginPath(),g.moveTo(o,s),g.lineTo(r,a),g.lineTo(l,h),g.closePath(),g.stroke()}),g.restore()),g.canvas},e.a=s},NPxy:function(t,e,i){"use strict";t.exports=i("8Ojw")},NUc0:function(t,e,i){"use strict";var n=i("CXX0"),r=i("ZDkq"),a=i("2S6f"),o=i("dDPv"),s=i("ZVo0"),l=function(t,e,i){o.a.call(this);var n=i||{};this.tileCoord=t,this.state=e,this.interimTile=null,this.key="",this.transition_=void 0===n.transition?250:n.transition,this.transitionStarts_={}};n.a.inherits(l,o.a),l.prototype.changed=function(){this.dispatchEvent(s.a.CHANGE)},l.prototype.getKey=function(){return this.key+"/"+this.tileCoord},l.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==r.a.LOADED)return t;t=t.interimTile}while(t);return this},l.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==r.a.LOADED){t.interimTile=null;break}t.getState()==r.a.LOADING?e=t:t.getState()==r.a.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},l.prototype.getTileCoord=function(){return this.tileCoord},l.prototype.getState=function(){return this.state},l.prototype.setState=function(t){this.state=t,this.changed()},l.prototype.load=function(){},l.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;var n=e-i+1e3/60;return this.transition_>n?a.a.easeIn(n/this.transition_):1},l.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},l.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)};var u=l,h=i("w2Al"),c=i("6t+W"),f=function(t,e,i,n,r,a){u.call(this,t,e,a),this.src_=i,this.image_=new Image,null!==n&&(this.image_.crossOrigin=n),this.imageListenerKeys_=null,this.tileLoadFunction_=r};n.a.inherits(f,u),f.prototype.disposeInternal=function(){this.state==r.a.LOADING&&(this.unlistenImage_(),this.image_=f.getBlankImage()),this.interimTile&&this.interimTile.dispose(),this.state=r.a.ABORT,this.changed(),u.prototype.disposeInternal.call(this)},f.prototype.getImage=function(){return this.image_},f.prototype.getKey=function(){return this.src_},f.prototype.handleImageError_=function(){this.state=r.a.ERROR,this.unlistenImage_(),this.image_=f.getBlankImage(),this.changed()},f.prototype.handleImageLoad_=function(){this.state=this.image_.naturalWidth&&this.image_.naturalHeight?r.a.LOADED:r.a.EMPTY,this.unlistenImage_(),this.changed()},f.prototype.load=function(){this.state!=r.a.IDLE&&this.state!=r.a.ERROR||(this.state=r.a.LOADING,this.changed(),this.imageListenerKeys_=[c.a.listenOnce(this.image_,s.a.ERROR,this.handleImageError_,this),c.a.listenOnce(this.image_,s.a.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},f.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(c.a.unlistenByKey),this.imageListenerKeys_=null},f.getBlankImage=function(){var t=h.a.createCanvasContext2D(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas};var d=f,p=i("7h3G"),g=i("fGqn"),m=function(t){p.a.call(this,t)};n.a.inherits(m,p.a),m.prototype.expireCache=function(t){for(var e,i;this.canExpireCache()&&(e=this.peekLast(),!((i=""+e.tileCoord[0])in t&&t[i].contains(e.tileCoord)));)this.pop().dispose()},m.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=g.a.fromKey(t),i=e[0];this.forEach(function(t){t.tileCoord[0]!==i&&(this.remove(g.a.getKey(t.tileCoord)),t.dispose())},this)}};var _=m,y=i("yGLh"),v=i("/LWt"),E=i("o1z/"),b=i("N9JB"),x=i("oraU"),C=function(t,e,i,a,o,s,l,h,c,f,d){u.call(this,o,r.a.IDLE),this.renderEdges_=void 0!==d&&d,this.pixelRatio_=l,this.gutter_=h,this.canvas_=null,this.sourceTileGrid_=e,this.targetTileGrid_=a,this.wrappedTileCoord_=s||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var p=a.getTileCoordExtent(this.wrappedTileCoord_),g=this.targetTileGrid_.getExtent(),m=this.sourceTileGrid_.getExtent(),_=g?v.default.getIntersection(p,g):p;if(0===v.default.getArea(_))return void(this.state=r.a.EMPTY);var y=t.getExtent();y&&(m=m?v.default.getIntersection(m,y):y);var C=a.getResolution(this.wrappedTileCoord_[0]),S=v.default.getCenter(_),T=b.a.calculateSourceResolution(t,i,S,C);if(!isFinite(T)||0>=T)return void(this.state=r.a.EMPTY);if(this.triangulation_=new x.a(t,i,_,m,T*(void 0!==f?f:n.a.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD)),0===this.triangulation_.getTriangles().length)return void(this.state=r.a.EMPTY);this.sourceZ_=e.getZForResolution(T);var R=this.triangulation_.calculateSourceExtent();if(m&&(t.canWrapX()?(R[1]=E.a.clamp(R[1],m[1],m[3]),R[3]=E.a.clamp(R[3],m[1],m[3])):R=v.default.getIntersection(R,m)),v.default.getArea(R)){for(var M=e.getTileRangeForExtentAndZ(R,this.sourceZ_),w=M.minX;M.maxX>=w;w++)for(var O=M.minY;M.maxY>=O;O++){var A=c(this.sourceZ_,w,O,l);A&&this.sourceTiles_.push(A)}0===this.sourceTiles_.length&&(this.state=r.a.EMPTY)}else this.state=r.a.EMPTY};n.a.inherits(C,u),C.prototype.disposeInternal=function(){this.state==r.a.LOADING&&this.unlistenSources_(),u.prototype.disposeInternal.call(this)},C.prototype.getImage=function(){return this.canvas_},C.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,i,n){e&&e.getState()==r.a.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})},this),this.sourceTiles_.length=0,0===t.length)this.state=r.a.ERROR;else{var e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),n="number"==typeof i?i:i[0],a="number"==typeof i?i:i[1],o=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=b.a.render(n,a,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=r.a.LOADED}this.changed()},C.prototype.load=function(){if(this.state==r.a.IDLE){this.state=r.a.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,i,n){var a=e.getState();if(a==r.a.IDLE||a==r.a.LOADING){t++;var o;o=c.a.listen(e,s.a.CHANGE,function(i){var n=e.getState();n!=r.a.LOADED&&n!=r.a.ERROR&&n!=r.a.EMPTY||(c.a.unlistenByKey(o),0==--t&&(this.unlistenSources_(),this.reproject_()))},this),this.sourcesListenerKeys_.push(o)}},this),this.sourceTiles_.forEach(function(t,e,i){t.getState()==r.a.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},C.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(c.a.unlistenByKey),this.sourcesListenerKeys_=null};var S=C,T=i("796y"),R=i("J25b"),M=i("xifc"),w=i("vLip"),O=i("7yEG"),A=function(t){w.a.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.opaque_=void 0!==t.opaque&&t.opaque,this.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.tileCache=new _(t.cacheSize),this.tmpSize=[0,0],this.key_="",this.tileOptions={transition:t.transition}};n.a.inherits(A,w.a),A.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},A.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);i&&i.expireCache(e)},A.prototype.forEachLoadedTile=function(t,e,i,n){var a=this.getTileCacheForProjection(t);if(!a)return!1;for(var o,s,l,u=!0,h=i.minX;i.maxX>=h;++h)for(var c=i.minY;i.maxY>=c;++c)s=g.a.getKeyZXY(e,h,c),l=!1,a.containsKey(s)&&(o=a.get(s),(l=o.getState()===r.a.LOADED)&&(l=!1!==n(o))),l||(u=!1);return u},A.prototype.getGutter=function(t){return 0},A.prototype.getKey=function(){return this.key_},A.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},A.prototype.getOpaque=function(t){return this.opaque_},A.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},A.prototype.getTile=function(t,e,i,n,r){},A.prototype.getTileGrid=function(){return this.tileGrid},A.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:O.a.getForProjection(t)},A.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!y.default.equivalent(e,t)?null:this.tileCache},A.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},A.prototype.getTilePixelSize=function(t,e,i){var n=this.getTileGridForProjection(i),r=this.getTilePixelRatio(e),a=M.a.toSize(n.getTileSize(t),this.tmpSize);return 1==r?a:M.a.scale(a,r,this.tmpSize)},A.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=void 0!==e?e:this.getProjection(),n=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=O.a.wrapX(n,t,i)),g.a.withinExtentAndZ(t,n)?t:null},A.prototype.refresh=function(){this.tileCache.clear(),this.changed()},A.prototype.useTile=n.a.nullFunction,A.Event=function(t,e){R.a.call(this,t),this.tile=e},n.a.inherits(A.Event,R.a);var I=A,P={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},L=P,N=function(t){I.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition}),this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):T.a.nullTileUrlFunction,this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),t.tileUrlFunction&&this.setTileUrlFunction(t.tileUrlFunction),this.tileLoadingKeys_={}};n.a.inherits(N,I),N.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},N.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},N.prototype.getUrls=function(){return this.urls},N.prototype.handleTileChange=function(t){var e,i=t.target,a=n.a.getUid(i),o=i.getState();o==r.a.LOADING?(this.tileLoadingKeys_[a]=!0,e=L.TILELOADSTART):a in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[a],e=o==r.a.ERROR?L.TILELOADERROR:o==r.a.LOADED||o==r.a.ABORT?L.TILELOADEND:void 0),void 0!=e&&this.dispatchEvent(new I.Event(e,i))},N.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},N.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},N.prototype.setUrl=function(t){var e=this.urls=T.a.expandUrl(t);this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):T.a.createFromTemplates(e,this.tileGrid),t)},N.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):T.a.createFromTemplates(t,this.tileGrid),e)},N.prototype.useTile=function(t,e,i){var n=g.a.getKeyZXY(t,e,i);this.tileCache.containsKey(n)&&this.tileCache.get(n)};var F=N,D=function(t){F.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:D.defaultTileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:d,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1};n.a.inherits(D,F),D.prototype.canExpireCache=function(){if(!n.a.ENABLE_RASTER_REPROJECTION)return F.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},D.prototype.expireCache=function(t,e){if(!n.a.ENABLE_RASTER_REPROJECTION)return void F.prototype.expireCache.call(this,t,e);var i=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==i?e:{});for(var r in this.tileCacheForProjection){var a=this.tileCacheForProjection[r];a.expireCache(a==i?e:{})}},D.prototype.getGutter=function(t){return n.a.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&t&&!y.default.equivalent(this.getProjection(),t)?0:this.getGutterInternal()},D.prototype.getGutterInternal=function(){return 0},D.prototype.getOpaque=function(t){return!(n.a.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&t&&!y.default.equivalent(this.getProjection(),t))&&F.prototype.getOpaque.call(this,t)},D.prototype.getTileGridForProjection=function(t){if(!n.a.ENABLE_RASTER_REPROJECTION)return F.prototype.getTileGridForProjection.call(this,t);var e=this.getProjection();if(!this.tileGrid||e&&!y.default.equivalent(e,t)){var i=""+n.a.getUid(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=O.a.getForProjection(t)),this.tileGridForProjection[i]}return this.tileGrid},D.prototype.getTileCacheForProjection=function(t){if(!n.a.ENABLE_RASTER_REPROJECTION)return F.prototype.getTileCacheForProjection.call(this,t);var e=this.getProjection();if(!e||y.default.equivalent(e,t))return this.tileCache;var i=""+n.a.getUid(t);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new _(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},D.prototype.createTile_=function(t,e,i,n,a,o){var l=[t,e,i],u=this.getTileCoordForTileUrlFunction(l,a),h=u?this.tileUrlFunction(u,n,a):void 0,f=new this.tileClass(l,void 0!==h?r.a.IDLE:r.a.EMPTY,void 0!==h?h:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return f.key=o,c.a.listen(f,s.a.CHANGE,this.handleTileChange,this),f},D.prototype.getTile=function(t,e,i,r,a){var o=this.getProjection();if(n.a.ENABLE_RASTER_REPROJECTION&&o&&a&&!y.default.equivalent(o,a)){var s,l=this.getTileCacheForProjection(a),u=[t,e,i],h=g.a.getKey(u);l.containsKey(h)&&(s=l.get(h));var c=this.getKey();if(s&&s.key==c)return s;var f=this.getTileGridForProjection(o),d=this.getTileGridForProjection(a),p=this.getTileCoordForTileUrlFunction(u,a),m=new S(o,f,a,d,u,p,this.getTilePixelRatio(r),this.getGutterInternal(),function(t,e,i,n){return this.getTileInternal(t,e,i,n,o)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return m.key=c,s?(m.interimTile=s,m.refreshInterimChain(),l.replace(h,m)):l.set(h,m),m}return this.getTileInternal(t,e,i,r,o||a)},D.prototype.getTileInternal=function(t,e,i,n,a){var o=null,s=g.a.getKeyZXY(t,e,i),l=this.getKey();if(this.tileCache.containsKey(s)){if(o=this.tileCache.get(s),o.key!=l){var u=o;o=this.createTile_(t,e,i,n,a,l),o.interimTile=u.getState()==r.a.IDLE?u.interimTile:u,o.refreshInterimChain(),this.tileCache.replace(s,o)}}else o=this.createTile_(t,e,i,n,a,l),this.tileCache.set(s,o);return o},D.prototype.setRenderReprojectionEdges=function(t){if(n.a.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(var e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},D.prototype.setTileGridForProjection=function(t,e){if(n.a.ENABLE_RASTER_REPROJECTION){var i=y.default.get(t);if(i){var r=""+n.a.getUid(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=e)}}},D.defaultTileLoadFunction=function(t,e){t.getImage().src=e},e.a=D},OEyb:function(t,e,i){"use strict";var n=i("omE/"),r={};r.assert=function(t,e){if(!t)throw new n.a(e)},e.a=r},Oeue:function(t,e,i){"use strict";var n=i("CTDj"),r=i("w2Al"),a=i("7h3G"),o=i("azsZ"),s={};s.defaultFont="10px sans-serif",s.defaultFillStyle=[0,0,0,1],s.defaultLineCap="round",s.defaultLineDash=[],s.defaultLineDashOffset=0,s.defaultLineJoin="round",s.defaultMiterLimit=10,s.defaultStrokeStyle=[0,0,0,1],s.defaultTextAlign="center",s.defaultTextBaseline="middle",s.defaultLineWidth=1,s.labelCache=new a.a,s.checkedFonts_={},s.checkFont=function(){function t(t){i||(i=r.a.createCanvasContext2D(1,1),i.font=h,o=i.measureText(c).width);var e=!0;return"monospace"!=t&&(i.font="32px "+t+",monospace",e=i.measureText(c).width!=o,i.font=h),e}function e(){var e=!0;for(var i in l)60>l[i]&&(t(i)?(l[i]=60,u.clear()):(++l[i],e=!1));e&&(window.clearInterval(a),a=void 0)}var i,a,o,l=s.checkedFonts_,u=s.labelCache,h="32px monospace",c="wmytzilWMYTZIL@#/&?$%10";return function(i){var r=n.a.getFontFamilies(i);if(r)for(var o=0,s=r.length;s>o;++o){var u=r[o];u in l||(l[u]=60,t(u)||(l[u]=0,void 0===a&&(a=window.setInterval(e,32))))}}}(),s.rotateAtOffset=function(t,e,i,n){0!==e&&(t.translate(i,n),t.rotate(e),t.translate(-i,-n))},s.resetTransform_=o.a.create(),s.drawImage=function(t,e,i,n,r,a,o,l,u,h,c){var f;1!=i&&(f=t.globalAlpha,t.globalAlpha=f*i),e&&t.setTransform.apply(t,e),t.drawImage(n,r,a,o,l,u,h,o*c,l*c),f&&(t.globalAlpha=f),e&&t.setTransform.apply(t,s.resetTransform_)},e.a=s},OqFn:function(t,e,i){"use strict";function n(t){var e=t&&(r&&t[r]||t[a]);if("function"==typeof e)return e}var r="function"==typeof Symbol&&Symbol.iterator,a="@@iterator";t.exports=n},QBya:function(t,e,i){"use strict";var n=i("FeXB"),r={};r.asColorLike=function(t){return r.isColorLike(t)?t:n.a.asString(t)},r.isColorLike=function(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient},e.a=r},QTYG:function(t,e,i){"use strict";var n=i("x9Ij"),r=(i("cxPT"),function(t){var e=this;if(e.instancePool.length){var i=e.instancePool.pop();return e.call(i,t),i}return new e(t)}),a=function(t,e){var i=this;if(i.instancePool.length){var n=i.instancePool.pop();return i.call(n,t,e),n}return new i(t,e)},o=function(t,e,i){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,t,e,i),r}return new n(t,e,i)},s=function(t,e,i,n){var r=this;if(r.instancePool.length){var a=r.instancePool.pop();return r.call(a,t,e,i,n),a}return new r(t,e,i,n)},l=function(t){var e=this;t instanceof e||n("25"),t.destructor(),e.poolSize>e.instancePool.length&&e.instancePool.push(t)},u=r;t.exports={addPoolingTo:function(t,e){var i=t;return i.instancePool=[],i.getPooled=e||u,i.poolSize||(i.poolSize=10),i.release=l,i},oneArgumentPooler:r,twoArgumentPooler:a,threeArgumentPooler:o,fourArgumentPooler:s}},QzNM:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){var e="transition"+t+"Timeout",i="transition"+t;return function(t){if(t[i]){if(null==t[e])return Error(e+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof t[e])return Error(e+" must be a number (in milliseconds)")}return null}}e.__esModule=!0,e.nameShape=void 0,e.transitionTimeout=r;var a=i("GiK3"),o=(n(a),i("KSGD")),s=n(o);e.nameShape=s.default.oneOfType([s.default.string,s.default.shape({enter:s.default.string,leave:s.default.string,active:s.default.string}),s.default.shape({enter:s.default.string,enterActive:s.default.string,leave:s.default.string,leaveActive:s.default.string,appear:s.default.string,appearActive:s.default.string})])},RI5M:function(t,e,i){"use strict";function n(t){return t in o?o[t]:o[t]=t.replace(r,"-$&").toLowerCase().replace(a,"-ms-")}var r=/[A-Z]/g,a=/^ms-/,o={};t.exports=n},RUSk:function(t,e,i){"use strict";var n={};n.transform2D=function(t,e,i,n,r,a){var o,s=a||[],l=0;for(o=e;i>o;o+=n){var u=t[o],h=t[o+1];s[l++]=r[0]*u+r[2]*h+r[4],s[l++]=r[1]*u+r[3]*h+r[5]}return a&&s.length!=l&&(s.length=l),s},n.rotate=function(t,e,i,n,r,a,o){for(var s=o||[],l=Math.cos(r),u=Math.sin(r),h=a[0],c=a[1],f=0,d=e;i>d;d+=n){var p=t[d]-h,g=t[d+1]-c;s[f++]=h+p*l-g*u,s[f++]=c+p*u+g*l;for(var m=d+2;d+n>m;++m)s[f++]=t[m]}return o&&s.length!=f&&(s.length=f),s},n.scale=function(t,e,i,n,r,a,o,s){for(var l=s||[],u=o[0],h=o[1],c=0,f=e;i>f;f+=n){var d=t[f]-u,p=t[f+1]-h;l[c++]=u+r*d,l[c++]=h+a*p;for(var g=f+2;f+n>g;++g)l[c++]=t[g]}return s&&l.length!=c&&(l.length=c),l},n.translate=function(t,e,i,n,r,a,o){var s,l,u=o||[],h=0;for(s=e;i>s;s+=n)for(u[h++]=t[s]+r,u[h++]=t[s+1]+a,l=s+2;s+n>l;++l)u[h++]=t[l];return o&&u.length!=h&&(u.length=h),u},e.a=n},RUl1:function(t,e,i){"use strict";(function(t){function e(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=i("DGJA"),a=e(r),o=i("GiK3"),s=e(o),l=i("v6PS"),u=i("O27J");t.GeoCollectViewer=function(){function t(e,i,r,a){n(this,t),this.domId=e,this.urls=r,this.username=i,this.instanceId=a}return t.prototype.loadConfig=function(){return fetch(this.urls.appInstance,{method:"GET",credentials:"same-origin",headers:new Headers({"Content-Type":"application/json; charset=UTF-8","X-CSRFToken":(0,l.getCRSFToken)()})}).then(function(t){return t.json()})},t.prototype.view=function(){var t=this;this.loadConfig().then(function(e){t.config={config:e.config,title:e.title,abstract:e.abstract,map:e.map},(0,u.render)(s.default.createElement(a.default,{config:t.config,username:t.username,urls:t.urls,instanceId:t.instanceId}),document.getElementById(t.domId))})},t}()}).call(e,i("DuR2"))},S7li:function(t,e,i){"use strict";e.a={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"}},S9Yq:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.animationEnd=e.animationDelay=e.animationTiming=e.animationDuration=e.animationName=e.transitionEnd=e.transitionDuration=e.transitionDelay=e.transitionTiming=e.transitionProperty=e.transform=void 0;var n=i("cFFW"),r=function(t){return t&&t.__esModule?t:{default:t}}(n),a="transform",o=void 0,s=void 0,l=void 0,u=void 0,h=void 0,c=void 0,f=void 0,d=void 0,p=void 0,g=void 0,m=void 0;if(r.default){var _=function(){for(var t=document.createElement("div").style,e={O:function(t){return"o"+t.toLowerCase()},Moz:function(t){return t.toLowerCase()},Webkit:function(t){return"webkit"+t},ms:function(t){return"MS"+t}},i=Object.keys(e),n=void 0,r=void 0,a="",o=0;i.length>o;o++){var s=i[o];if(s+"TransitionProperty"in t){a="-"+s.toLowerCase(),n=e[s]("TransitionEnd"),r=e[s]("AnimationEnd");break}}return!n&&"transitionProperty"in t&&(n="transitionend"),!r&&"animationName"in t&&(r="animationend"),t=null,{animationEnd:r,transitionEnd:n,prefix:a}}();o=_.prefix,e.transitionEnd=s=_.transitionEnd,e.animationEnd=l=_.animationEnd,e.transform=a=o+"-"+a,e.transitionProperty=u=o+"-transition-property",e.transitionDuration=h=o+"-transition-duration",e.transitionDelay=f=o+"-transition-delay",e.transitionTiming=c=o+"-transition-timing-function",e.animationName=d=o+"-animation-name",e.animationDuration=p=o+"-animation-duration",e.animationTiming=g=o+"-animation-delay",e.animationDelay=m=o+"-animation-timing-function"}e.transform=a,e.transitionProperty=u,e.transitionTiming=c,e.transitionDelay=f,e.transitionDuration=h,e.transitionEnd=s,e.animationName=d,e.animationDuration=p,e.animationTiming=g,e.animationDelay=m,e.animationEnd=l,e.default={transform:a,end:s,property:u,timing:c,delay:f,duration:h}},SHxT:function(t,e,i){"use strict";e.a={PROPERTYCHANGE:"propertychange"}},"T/iG":function(t,e,i){"use strict";i("YyeZ"),t.exports={isMounted:function(t){return!1},enqueueCallback:function(t,e){},enqueueForceUpdate:function(t){},enqueueReplaceState:function(t,e){},enqueueSetState:function(t,e){}}},T0Da:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("/LWt"),a=i("o1z/"),o=i("tFCN"),s=i("xifc"),l=i("NUc0"),u=i("fGqn"),h=i("iFba"),c=function(t){var e=t||{};l.a.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,logo:e.logo,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.params_=e.params||{},this.tmpExtent_=r.default.createEmpty(),this.setKey(this.getKeyForParams_())};n.a.inherits(c,l.a),c.prototype.getKeyForParams_=function(){var t=0,e=[];for(var i in this.params_)e[t++]=i+"-"+this.params_[i];return e.join("/")},c.prototype.getParams=function(){return this.params_},c.prototype.getRequestUrl_=function(t,e,i,n,r,o){var s=this.urls;if(s){var l=r.getCode().split(":").pop();o.SIZE=e[0]+","+e[1],o.BBOX=i.join(","),o.BBOXSR=l,o.IMAGESR=l,o.DPI=Math.round(o.DPI?o.DPI*n:90*n);var c;c=1==s.length?s[0]:s[a.a.modulo(u.a.hash(t),s.length)];var f=c.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return h.a.appendParams(f,o)}},c.prototype.getTilePixelRatio=function(t){return t},c.prototype.fixedTileUrlFunction=function(t,e,i){var n=this.getTileGrid();if(n||(n=this.getTileGridForProjection(i)),n.getResolutions().length>t[0]){var r=n.getTileCoordExtent(t,this.tmpExtent_),a=s.a.toSize(n.getTileSize(t[0]),this.tmpSize);1!=e&&(a=s.a.scale(a,e,this.tmpSize));var l={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return o.a.assign(l,this.params_),this.getRequestUrl_(t,a,r,e,i,l)}},c.prototype.updateParams=function(t){o.a.assign(this.params_,t),this.setKey(this.getKeyForParams_())},e.default=c},T4j3:function(t,e,i){"use strict";e.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},TDso:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("/3K7"),r=function(t,e,i){this.decay_=t,this.minVelocity_=e,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0};r.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},r.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},r.prototype.end=function(){if(6>this.points_.length)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(t>this.points_[e+2])return!1;for(var i=e-3;i>0&&this.points_[i+2]>t;)i-=3;var n=this.points_[e+2]-this.points_[i+2];if(1e3/60>n)return!1;var r=this.points_[e]-this.points_[i],a=this.points_[e+1]-this.points_[i+1];return this.angle_=Math.atan2(a,r),(this.initialVelocity_=Math.sqrt(r*r+a*a)/n)>this.minVelocity_},r.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},r.prototype.getAngle=function(){return this.angle_};var a=r,o=i("CXX0"),s=i("cCXU"),l=i("5ifQ"),u=function(t){var e=t||{};this.delta_=e.delta?e.delta:1,l.a.call(this,{handleEvent:u.handleEvent}),this.duration_=void 0!==e.duration?e.duration:250};o.a.inherits(u,l.a),u.handleEvent=function(t){var e=!1,i=t.originalEvent;if(t.type==s.a.DBLCLICK){var n=t.map,r=t.coordinate,a=i.shiftKey?-this.delta_:this.delta_,o=n.getView();l.a.zoomByDelta(o,a,r,this.duration_),t.preventDefault(),e=!0}return!e};var h=u,c=i("kfRt"),f=i("IZoy"),d=i("2S6f"),p=i("MJuv"),g=i("V2dr"),m=i("7OqO"),_=function(t){m.a.call(this,{handleDownEvent:_.handleDownEvent_,handleDragEvent:_.handleDragEvent_,handleUpEvent:_.handleUpEvent_});var e=t||{};this.kinetic_=e.kinetic,this.lastCentroid=null,this.condition_=e.condition?e.condition:p.a.noModifierKeys,this.noKinetic_=!1};o.a.inherits(_,m.a),_.handleDragEvent_=function(t){var e=this.targetPointers,i=m.a.centroid(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var n=this.lastCentroid[0]-i[0],r=i[1]-this.lastCentroid[1],a=t.map,o=a.getView(),s=o.getState(),l=[n,r];f.a.scale(l,s.resolution),f.a.rotate(l,s.rotation),f.a.add(l,s.center),l=o.constrainCenter(l),o.setCenter(l)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=e.length},_.handleUpEvent_=function(t){var e=t.map,i=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var n=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),a=i.getCenter(),o=e.getPixelFromCoordinate(a);i.animate({center:i.constrainCenter(e.getCoordinateFromPixel([o[0]-n*Math.cos(r),o[1]-n*Math.sin(r)])),duration:500,easing:d.a.easeOut})}return i.setHint(c.a.INTERACTING,-1),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},_.handleDownEvent_=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map,i=e.getView();return this.lastCentroid=null,this.handlingDownUpSequence||i.setHint(c.a.INTERACTING,1),i.getAnimating()&&i.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},_.prototype.shouldStopEvent=g.a.FALSE;var y=_,v=i("xek4"),E=function(t){var e=t||{};m.a.call(this,{handleDownEvent:E.handleDownEvent_,handleDragEvent:E.handleDragEvent_,handleUpEvent:E.handleUpEvent_}),this.condition_=e.condition?e.condition:p.a.altShiftKeysOnly,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250};o.a.inherits(E,m.a),E.handleDragEvent_=function(t){if(p.a.mouseOnly(t)){var e=t.map,i=e.getView();if(i.getConstraints().rotation!==v.a.disable){var n=e.getSize(),r=t.pixel,a=Math.atan2(n[1]/2-r[1],r[0]-n[0]/2);if(void 0!==this.lastAngle_){var o=a-this.lastAngle_,s=i.getRotation();l.a.rotateWithoutConstraints(i,s-o)}this.lastAngle_=a}}},E.handleUpEvent_=function(t){if(!p.a.mouseOnly(t))return!0;var e=t.map,i=e.getView();i.setHint(c.a.INTERACTING,-1);var n=i.getRotation();return l.a.rotate(i,n,void 0,this.duration_),!1},E.handleDownEvent_=function(t){return!!p.a.mouseOnly(t)&&(!(!p.a.mouseActionButton(t)||!this.condition_(t))&&(t.map.getView().setHint(c.a.INTERACTING,1),this.lastAngle_=void 0,!0))},E.prototype.shouldStopEvent=g.a.FALSE;var b=E,x=i("/LWt"),C=i("J25b"),S=i("mkUQ"),T=i("xL0k"),R=function(t){this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null};o.a.inherits(R,S.a),R.prototype.disposeInternal=function(){this.setMap(null)},R.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,i=this.element_.style;i.left=Math.min(t[0],e[0])+"px",i.top=Math.min(t[1],e[1])+"px",i.width=Math.abs(e[0]-t[0])+"px",i.height=Math.abs(e[1]-t[1])+"px"},R.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}(this.map_=t)&&this.map_.getOverlayContainer().appendChild(this.element_)},R.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},R.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,i=[t,[t[0],e[1]],e,[e[0],t[1]]],n=i.map(this.map_.getCoordinateFromPixel,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new T.a([n])},R.prototype.getGeometry=function(){return this.geometry_};var M=R,w=function(t){m.a.call(this,{handleDownEvent:w.handleDownEvent_,handleDragEvent:w.handleDragEvent_,handleUpEvent:w.handleUpEvent_});var e=t||{};this.box_=new M(e.className||"ol-dragbox"),this.minArea_=void 0!==e.minArea?e.minArea:64,this.startPixel_=null,this.condition_=e.condition?e.condition:p.a.always,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:w.defaultBoxEndCondition};o.a.inherits(w,m.a),w.defaultBoxEndCondition=function(t,e,i){var n=i[0]-e[0],r=i[1]-e[1];return n*n+r*r>=this.minArea_},w.handleDragEvent_=function(t){p.a.mouseOnly(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new w.Event(w.EventType_.BOXDRAG,t.coordinate,t)))},w.prototype.getGeometry=function(){return this.box_.getGeometry()},w.prototype.onBoxEnd=o.a.nullFunction,w.handleUpEvent_=function(t){return!p.a.mouseOnly(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd(t),this.dispatchEvent(new w.Event(w.EventType_.BOXEND,t.coordinate,t))),!1)},w.handleDownEvent_=function(t){return!(!p.a.mouseOnly(t)||!p.a.mouseActionButton(t)||!this.condition_(t)||(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new w.Event(w.EventType_.BOXSTART,t.coordinate,t)),0))},w.EventType_={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"},w.Event=function(t,e,i){C.a.call(this,t),this.coordinate=e,this.mapBrowserEvent=i},o.a.inherits(w.Event,C.a);var O=w,A=function(t){var e=t||{},i=e.condition?e.condition:p.a.shiftKeyOnly;this.duration_=void 0!==e.duration?e.duration:200,this.out_=void 0!==e.out&&e.out,O.call(this,{condition:i,className:e.className||"ol-dragzoom"})};o.a.inherits(A,O),A.prototype.onBoxEnd=function(){var t=this.getMap(),e=t.getView(),i=t.getSize(),n=this.getGeometry().getExtent();if(this.out_){var r=e.calculateExtent(i),a=x.default.createOrUpdateFromCoordinates([t.getPixelFromCoordinate(x.default.getBottomLeft(n)),t.getPixelFromCoordinate(x.default.getTopRight(n))]),o=e.getResolutionForExtent(a,i);x.default.scaleFromCenter(r,1/o),n=r}var s=e.constrainResolution(e.getResolutionForExtent(n,i)),l=x.default.getCenter(n);l=e.constrainCenter(l),e.animate({resolution:s,center:l,duration:this.duration_,easing:d.a.easeOut})};var I=A,P=i("ZVo0"),L={LEFT:37,UP:38,RIGHT:39,DOWN:40},N=L,F=function(t){l.a.call(this,{handleEvent:F.handleEvent});var e=t||{};this.defaultCondition_=function(t){return p.a.noModifierKeys(t)&&p.a.targetNotEditable(t)},this.condition_=void 0!==e.condition?e.condition:this.defaultCondition_,this.duration_=void 0!==e.duration?e.duration:100,this.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128};o.a.inherits(F,l.a),F.handleEvent=function(t){var e=!1;if(t.type==P.a.KEYDOWN){var i=t.originalEvent,n=i.keyCode;if(this.condition_(t)&&(n==N.DOWN||n==N.LEFT||n==N.RIGHT||n==N.UP)){var r=t.map,a=r.getView(),o=a.getResolution()*this.pixelDelta_,s=0,u=0;n==N.DOWN?u=-o:n==N.LEFT?s=-o:n==N.RIGHT?s=o:u=o;var h=[s,u];f.a.rotate(h,a.getRotation()),l.a.pan(a,h,this.duration_),t.preventDefault(),e=!0}}return!e};var D=F,k=function(t){l.a.call(this,{handleEvent:k.handleEvent});var e=t||{};this.condition_=e.condition?e.condition:p.a.targetNotEditable,this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:100};o.a.inherits(k,l.a),k.handleEvent=function(t){var e=!1;if(t.type==P.a.KEYDOWN||t.type==P.a.KEYPRESS){var i=t.originalEvent,n=i.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var r=t.map,a=n=="+".charCodeAt(0)?this.delta_:-this.delta_,o=r.getView();l.a.zoomByDelta(o,a,void 0,this.duration_),t.preventDefault(),e=!0}}return!e};var G=k,j=i("4acs"),U=i("o1z/"),B=function(t){l.a.call(this,{handleEvent:B.handleEvent});var e=t||{};this.delta_=0,this.duration_=void 0!==e.duration?e.duration:250,this.timeout_=void 0!==e.timeout?e.timeout:80,this.useAnchor_=void 0===e.useAnchor||e.useAnchor,this.constrainResolution_=e.constrainResolution||!1,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_=void 0,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5};o.a.inherits(B,l.a),B.handleEvent=function(t){var e=t.type;if(e!==P.a.WHEEL&&e!==P.a.MOUSEWHEEL)return!0;t.preventDefault();var i=t.map,n=t.originalEvent;this.useAnchor_&&(this.lastAnchor_=t.coordinate);var r;if(t.type==P.a.WHEEL?(r=n.deltaY,j.a.FIREFOX&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(r/=j.a.DEVICE_PIXEL_RATIO),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(r*=40)):t.type==P.a.MOUSEWHEEL&&(r=-n.wheelDeltaY,j.a.SAFARI&&(r/=3)),0===r)return!1;var a=Date.now();if(void 0===this.startTime_&&(this.startTime_=a),this.mode_&&this.trackpadEventGap_>=a-this.startTime_||(this.mode_=4>Math.abs(r)?B.Mode_.TRACKPAD:B.Mode_.WHEEL),this.mode_===B.Mode_.TRACKPAD){var o=i.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):o.setHint(c.a.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var s=o.getResolution()*Math.pow(2,r/this.trackpadDeltaPerZoom_),l=o.getMinResolution(),u=o.getMaxResolution(),h=0;return l>s?(s=Math.max(s,l/this.trackpadZoomBuffer_),h=1):s>u&&(s=Math.min(s,u*this.trackpadZoomBuffer_),h=-1),this.lastAnchor_&&o.setCenter(o.constrainCenter(o.calculateCenterZoom(s,this.lastAnchor_))),o.setResolution(s),0===h&&this.constrainResolution_&&o.animate({resolution:o.constrainResolution(s,r>0?-1:1),easing:d.a.easeOut,anchor:this.lastAnchor_,duration:this.duration_}),h>0?o.animate({resolution:l,easing:d.a.easeOut,anchor:this.lastAnchor_,duration:500}):0>h&&o.animate({resolution:u,easing:d.a.easeOut,anchor:this.lastAnchor_,duration:500}),this.startTime_=a,!1}this.delta_+=r;var f=Math.max(this.timeout_-(a-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),f),!1},B.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(c.a.INTERACTING,-1)},B.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var i=o.a.MOUSEWHEELZOOM_MAXDELTA,n=U.a.clamp(this.delta_,-i,i);l.a.zoomByDelta(e,-n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},B.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},B.Mode_={TRACKPAD:"trackpad",WHEEL:"wheel"};var W=B,z=function(t){m.a.call(this,{handleDownEvent:z.handleDownEvent_,handleDragEvent:z.handleDragEvent_,handleUpEvent:z.handleUpEvent_});var e=t||{};this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==e.threshold?e.threshold:.3,this.duration_=void 0!==e.duration?e.duration:250};o.a.inherits(z,m.a),z.handleDragEvent_=function(t){var e=0,i=this.targetPointers[0],n=this.targetPointers[1],r=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);if(void 0!==this.lastAngle_){var a=r-this.lastAngle_;this.rotationDelta_+=a,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=a}this.lastAngle_=r;var o=t.map,s=o.getView();if(s.getConstraints().rotation!==v.a.disable){var u=o.getViewport().getBoundingClientRect(),h=m.a.centroid(this.targetPointers);if(h[0]-=u.left,h[1]-=u.top,this.anchor_=o.getCoordinateFromPixel(h),this.rotating_){var c=s.getRotation();o.render(),l.a.rotateWithoutConstraints(s,c+e,this.anchor_)}}},z.handleUpEvent_=function(t){if(2>this.targetPointers.length){var e=t.map,i=e.getView();if(i.setHint(c.a.INTERACTING,-1),this.rotating_){var n=i.getRotation();l.a.rotate(i,n,this.anchor_,this.duration_)}return!1}return!0},z.handleDownEvent_=function(t){if(2>this.targetPointers.length)return!1;var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(c.a.INTERACTING,1),!0},z.prototype.shouldStopEvent=g.a.FALSE;var X=z,V=function(t){m.a.call(this,{handleDownEvent:V.handleDownEvent_,handleDragEvent:V.handleDragEvent_,handleUpEvent:V.handleUpEvent_});var e=t||{};this.constrainResolution_=e.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==e.duration?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1};o.a.inherits(V,m.a),V.handleDragEvent_=function(t){var e=1,i=this.targetPointers[0],n=this.targetPointers[1],r=i.clientX-n.clientX,a=i.clientY-n.clientY,o=Math.sqrt(r*r+a*a);void 0!==this.lastDistance_&&(e=this.lastDistance_/o),this.lastDistance_=o;var s=t.map,u=s.getView(),h=u.getResolution(),c=u.getMaxResolution(),f=u.getMinResolution(),d=h*e;d>c?(e=c/h,d=c):f>d&&(e=f/h,d=f),1!=e&&(this.lastScaleDelta_=e);var p=s.getViewport().getBoundingClientRect(),g=m.a.centroid(this.targetPointers);g[0]-=p.left,g[1]-=p.top,this.anchor_=s.getCoordinateFromPixel(g),s.render(),l.a.zoomWithoutConstraints(u,d,this.anchor_)},V.handleUpEvent_=function(t){if(2>this.targetPointers.length){var e=t.map,i=e.getView();i.setHint(c.a.INTERACTING,-1);var n=i.getResolution();return(this.constrainResolution_||n<i.getMinResolution()||n>i.getMaxResolution())&&l.a.zoom(i,n,this.anchor_,this.duration_,this.lastScaleDelta_-1),!1}return!0},V.handleDownEvent_=function(t){if(2>this.targetPointers.length)return!1;var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(c.a.INTERACTING,1),!0},V.prototype.shouldStopEvent=g.a.FALSE;var Y=V,q={};q.defaults=function(t){var e=t||{},i=new n.default,r=new a(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&i.push(new b),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&i.push(new h({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&i.push(new y({kinetic:r})),(void 0===e.pinchRotate||e.pinchRotate)&&i.push(new X),(void 0===e.pinchZoom||e.pinchZoom)&&i.push(new Y({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(i.push(new D),i.push(new G({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&i.push(new W({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&i.push(new I({duration:e.zoomDuration})),i},e.default=q},"TM+o":function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.Header=e.NavigationButtons=void 0;var r=i("SGZo"),a=n(r),o=i("5020"),s=n(o),l=i("KSGD"),u=n(l),h=i("GiK3"),c=n(h);(e.NavigationButtons=function(t){var e=t.showHistoryModal,i=t.config,n=t.urls;return c.default.createElement("div",{className:"container"},c.default.createElement("a",{onClick:e,href:"javascript:;"},c.default.createElement("i",{className:"fa fa-question-circle fa-2x pull-right","aria-hidden":"true"})),c.default.createElement("a",{onClick:function(){return window.location.href=i.config.HomeButtonFunction&&"instancePage"===i.config.HomeButtonFunction?n.instancesPage:"/"},href:"javascript:;"},c.default.createElement("i",{className:"fa fa-home fa-2x pull-right","aria-hidden":"true"})))}).propTypes={showHistoryModal:u.default.func.isRequired,config:u.default.object.isRequired,urls:u.default.object.isRequired},(e.Header=function(t){var e=t.config;return c.default.createElement("div",{className:"collector-title"},c.default.createElement("div",{className:"col-xs-4 col-sm-2 col-md-2 vcenter"},c.default.createElement(a.default,{src:[e.config.logo?e.config.logo.base64:"",e.map.thumbnail_url,s.default],style:{height:60},className:"img-responsive img-rounded"})),c.default.createElement("div",{className:"col-xs-8 col-sm-9 col-md-9 vcenter"},c.default.createElement("span",{className:"h3 text-wrap"},c.default.createElement("b",null,e.title||"Add"))))}).propTypes={config:u.default.object.isRequired}},Tfug:function(t,e,i){"use strict";var n=i("CXX0"),r=i("/LWt"),a=i("aStr"),o=i("U/IR"),s=i("f5c8"),l=i("+b92"),u=i("bmSR"),h=i("hrLW"),c=i("wupX"),f=i("LmAy"),d=function(t,e){s.a.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(t,e)};n.a.inherits(d,s.a),d.prototype.clone=function(){var t=new d(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),t},d.prototype.closestPointXY=function(t,e,i,n){return n<r.default.closestSquaredDistanceXY(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(u.a.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),u.a.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,i,n))},d.prototype.getArea=function(){return l.a.linearRing(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},d.prototype.getCoordinates=function(){return c.a.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},d.prototype.getSimplifiedGeometryInternal=function(t){var e=[];e.length=f.a.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0);var i=new d(null);return i.setFlatCoordinates(a.a.XY,e),i},d.prototype.getType=function(){return o.a.LINEAR_RING},d.prototype.intersectsExtent=function(t){},d.prototype.setCoordinates=function(t,e){t?(this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=h.a.coordinates(this.flatCoordinates,0,t,this.stride),this.changed()):this.setFlatCoordinates(a.a.XY,null)},d.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e),this.changed()},e.a=d},"U/IR":function(t,e,i){"use strict";e.a={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},U9ya:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("tCFE");e.default=(0,function(t){return t&&t.__esModule?t:{default:t}}(n).default)("div")({position:"fixed",right:0,bottom:0,margin:"14px",zIndex:999999},function(t){switch(t.glam.position){case"top left":return{margin:t.glam.offset+"px",top:0,right:"auto",bottom:"auto",left:0};case"top right":return{margin:t.glam.offset+"px",top:0,right:0,bottom:"auto",left:"auto"};case"bottom left":return{margin:t.glam.offset+"px",top:"auto",right:"auto",bottom:0,left:0};case"bottom right":return{margin:t.glam.offset+"px",top:"auto",right:0,bottom:0,left:"auto"};case"top center":return{margin:t.glam.offset+"px",top:0,right:"auto",bottom:"auto",left:"50%",transform:"translate(-50%,0%)"};case"bottom center":return{margin:t.glam.offset+"px",top:"auto",right:"auto",bottom:0,left:"50%",transform:"translate(-50%,0%)"}}})},UE8d:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){return E.length?E.forEach(function(i){return t.addEventListener(i,e,!1)}):setTimeout(e,0),function(){E.length&&E.forEach(function(i){return t.removeEventListener(i,e,!1)})}}e.__esModule=!0;var l=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},u=i("8+5l"),h=n(u),c=i("A4of"),f=n(c),d=i("lSD1"),p=n(d),g=i("S9Yq"),m=i("GiK3"),_=n(m),y=i("KSGD"),v=(n(y),i("O27J")),E=(i("QzNM"),[]);g.transitionEnd&&E.push(g.transitionEnd),g.animationEnd&&E.push(g.animationEnd);var b=function(t){function e(){var i,n,o;r(this,e);for(var s=arguments.length,l=Array(s),u=0;s>u;u++)l[u]=arguments[u];return i=n=a(this,t.call.apply(t,[this].concat(l))),n.componentWillAppear=function(t){n.props.appear?n.transition("appear",t,n.props.appearTimeout):t()},n.componentWillEnter=function(t){n.props.enter?n.transition("enter",t,n.props.enterTimeout):t()},n.componentWillLeave=function(t){n.props.leave?n.transition("leave",t,n.props.leaveTimeout):t()},o=i,a(n,o)}return o(e,t),e.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},e.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(t){clearTimeout(t)}),this.classNameAndNodeQueue.length=0},e.prototype.transition=function(t,e,i){var n=(0,v.findDOMNode)(this);if(!n)return void(e&&e());var r=this.props.name[t]||this.props.name+"-"+t,a=this.props.name[t+"Active"]||r+"-active",o=null,l=void 0;(0,h.default)(n,r),this.queueClassAndNode(a,n);var u=function(t){t&&t.target!==n||(clearTimeout(o),l&&l(),(0,f.default)(n,r),(0,f.default)(n,a),l&&l(),e&&e())};i?(o=setTimeout(u,i),this.transitionTimeouts.push(o)):g.transitionEnd&&(l=s(n,u))},e.prototype.queueClassAndNode=function(t,e){var i=this;this.classNameAndNodeQueue.push({className:t,node:e}),this.rafHandle||(this.rafHandle=(0,p.default)(function(){return i.flushClassNameAndNodeQueue()}))},e.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(t){(0,h.default)(t.node,t.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},e.prototype.render=function(){var t=l({},this.props);return delete t.name,delete t.appear,delete t.enter,delete t.leave,delete t.appearTimeout,delete t.enterTimeout,delete t.leaveTimeout,delete t.children,_.default.cloneElement(_.default.Children.only(this.props.children),t)},e}(_.default.Component);b.displayName="CSSTransitionGroupChild",b.propTypes={},e.default=b,t.exports=e.default},UP90:function(t,e,i){"use strict";function n(t,e,i){this.props=t,this.context=e,this.refs=u,this.updater=i||l}function r(t,e,i){this.props=t,this.context=e,this.refs=u,this.updater=i||l}function a(){}var o=i("x9Ij"),s=i("BEQ0"),l=i("T/iG"),u=(i("rJur"),i("TJez"));i("cxPT"),i("vy+e"),n.prototype.isReactComponent={},n.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t&&o("85"),this.updater.enqueueSetState(this,t),e&&this.updater.enqueueCallback(this,e,"setState")},n.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this),t&&this.updater.enqueueCallback(this,t,"forceUpdate")},a.prototype=n.prototype,r.prototype=new a,r.prototype.constructor=r,s(r.prototype,n.prototype),r.prototype.isPureReactComponent=!0,t.exports={Component:n,PureComponent:r}},UVf0:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=i("cnnw"),a=n(r);t.exports={TransitionGroup:n(i("tW2u")).default,CSSTransitionGroup:a.default}},V2dr:function(t,e,i){"use strict";var n={};n.TRUE=function(){return!0},n.FALSE=function(){return!1},e.a=n},VGlj:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("OEyb"),a=i("/LWt"),o=i("JdA6"),s=i("zF6X"),l=i("p8Td"),u=i("doJF"),h=i("2FaZ"),c=function(){this.xmlSerializer_=new XMLSerializer,o.a.call(this)};n.a.inherits(c,o.a),c.prototype.getType=function(){return u.a.XML},c.prototype.readFeature=function(t,e){return h.a.isDocument(t)?this.readFeatureFromDocument(t,e):h.a.isNode(t)?this.readFeatureFromNode(t,e):"string"==typeof t?this.readFeatureFromDocument(h.a.parse(t),e):null},c.prototype.readFeatureFromDocument=function(t,e){var i=this.readFeaturesFromDocument(t,e);return i.length>0?i[0]:null},c.prototype.readFeatureFromNode=function(t,e){return null},c.prototype.readFeatures=function(t,e){return h.a.isDocument(t)?this.readFeaturesFromDocument(t,e):h.a.isNode(t)?this.readFeaturesFromNode(t,e):"string"==typeof t?this.readFeaturesFromDocument(h.a.parse(t),e):[]},c.prototype.readFeaturesFromDocument=function(t,e){var i,n=[];for(i=t.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&s.a.extend(n,this.readFeaturesFromNode(i,e));return n},c.prototype.readFeaturesFromNode=function(t,e){},c.prototype.readGeometry=function(t,e){return h.a.isDocument(t)?this.readGeometryFromDocument(t,e):h.a.isNode(t)?this.readGeometryFromNode(t,e):"string"==typeof t?this.readGeometryFromDocument(h.a.parse(t),e):null},c.prototype.readGeometryFromDocument=function(t,e){return null},c.prototype.readGeometryFromNode=function(t,e){return null},c.prototype.readProjection=function(t){return h.a.isDocument(t)?this.readProjectionFromDocument(t):h.a.isNode(t)?this.readProjectionFromNode(t):"string"==typeof t?this.readProjectionFromDocument(h.a.parse(t)):null},c.prototype.readProjectionFromDocument=function(t){return this.defaultDataProjection},c.prototype.readProjectionFromNode=function(t){return this.defaultDataProjection},c.prototype.writeFeature=function(t,e){return this.xmlSerializer_.serializeToString(this.writeFeatureNode(t,e))},c.prototype.writeFeatureNode=function(t,e){return null},c.prototype.writeFeatures=function(t,e){return this.xmlSerializer_.serializeToString(this.writeFeaturesNode(t,e))},c.prototype.writeFeaturesNode=function(t,e){return null},c.prototype.writeGeometry=function(t,e){return this.xmlSerializer_.serializeToString(this.writeGeometryNode(t,e))},c.prototype.writeGeometryNode=function(t,e){return null};var f=c,d=i("aStr"),p=i("KUw0"),g=i("Tfug"),m=i("aBQd"),_=i("dyCJ"),y=i("5spe"),v=i("qxxq"),E=i("xL0k"),b=i("tFCN"),x=i("yGLh"),C=function(t){var e=t||{};this.featureType=e.featureType,this.featureNS=e.featureNS,this.srsName=e.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[C.GMLNS]={featureMember:h.a.makeReplacer(C.prototype.readFeaturesInternal),featureMembers:h.a.makeReplacer(C.prototype.readFeaturesInternal)},f.call(this)};n.a.inherits(C,f),C.GMLNS="http://www.opengis.net/gml",C.ONLY_WHITESPACE_RE_=/^[\s\xa0]*$/,C.prototype.readFeaturesInternal=function(t,e){var i=t.localName,n=null;if("FeatureCollection"==i)n="http://www.opengis.net/wfs"===t.namespaceURI?h.a.pushParseAndPop([],this.FEATURE_COLLECTION_PARSERS,t,e,this):h.a.pushParseAndPop(null,this.FEATURE_COLLECTION_PARSERS,t,e,this);else if("featureMembers"==i||"featureMember"==i){var r,a,o=e[0],s=o.featureType,l=o.featureNS;if(!s&&t.childNodes){for(s=[],l={},r=0,a=t.childNodes.length;a>r;++r){var u=t.childNodes[r];if(1===u.nodeType){var c=u.nodeName.split(":").pop();if(-1===s.indexOf(c)){var f="",d=0,p=u.namespaceURI;for(var g in l){if(l[g]===p){f=g;break}++d}f||(f="p"+d,l[f]=p),s.push(f+":"+c)}}}"featureMember"!=i&&(o.featureType=s,o.featureNS=l)}if("string"==typeof l){var m=l;l={},l.p0=m}var _={},y=Array.isArray(s)?s:[s];for(var v in l){var E={};for(r=0,a=y.length;a>r;++r){var b=-1===y[r].indexOf(":")?"p0":y[r].split(":")[0];b===v&&(E[y[r].split(":").pop()]="featureMembers"==i?h.a.makeArrayPusher(this.readFeatureElement,this):h.a.makeReplacer(this.readFeatureElement,this))}_[l[v]]=E}n="featureMember"==i?h.a.pushParseAndPop(void 0,_,t,e):h.a.pushParseAndPop([],_,t,e)}return null===n&&(n=[]),n},C.prototype.readGeometryElement=function(t,e){var i=e[0];i.srsName=t.firstElementChild.getAttribute("srsName"),i.srsDimension=t.firstElementChild.getAttribute("srsDimension");var n=h.a.pushParseAndPop(null,this.GEOMETRY_PARSERS_,t,e,this);return n?o.a.transformWithOptions(n,!1,i):void 0},C.prototype.readFeatureElement=function(t,e){var i,n,r=t.getAttribute("fid")||h.a.getAttributeNS(t,C.GMLNS,"id"),a={};for(i=t.firstElementChild;i;i=i.nextElementSibling){var o=i.localName;if(0===i.childNodes.length||1===i.childNodes.length&&(3===i.firstChild.nodeType||4===i.firstChild.nodeType)){var s=h.a.getAllTextContent(i,!1);C.ONLY_WHITESPACE_RE_.test(s)&&(s=void 0),a[o]=s}else"boundedBy"!==o&&(n=o),a[o]=this.readGeometryElement(i,e)}var u=new l.default(a);return n&&u.setGeometryName(n),r&&u.setId(r),u},C.prototype.readPoint=function(t,e){var i=this.readFlatCoordinatesFromNode_(t,e);if(i){var n=new v.default(null);return n.setFlatCoordinates(d.a.XYZ,i),n}},C.prototype.readMultiPoint=function(t,e){var i=h.a.pushParseAndPop([],this.MULTIPOINT_PARSERS_,t,e,this);return i?new _.default(i):void 0},C.prototype.readMultiLineString=function(t,e){var i=h.a.pushParseAndPop([],this.MULTILINESTRING_PARSERS_,t,e,this);if(i){var n=new m.a(null);return n.setLineStrings(i),n}},C.prototype.readMultiPolygon=function(t,e){var i=h.a.pushParseAndPop([],this.MULTIPOLYGON_PARSERS_,t,e,this);if(i){var n=new y.a(null);return n.setPolygons(i),n}},C.prototype.pointMemberParser_=function(t,e){h.a.parseNode(this.POINTMEMBER_PARSERS_,t,e,this)},C.prototype.lineStringMemberParser_=function(t,e){h.a.parseNode(this.LINESTRINGMEMBER_PARSERS_,t,e,this)},C.prototype.polygonMemberParser_=function(t,e){h.a.parseNode(this.POLYGONMEMBER_PARSERS_,t,e,this)},C.prototype.readLineString=function(t,e){var i=this.readFlatCoordinatesFromNode_(t,e);if(i){var n=new p.a(null);return n.setFlatCoordinates(d.a.XYZ,i),n}},C.prototype.readFlatLinearRing_=function(t,e){return h.a.pushParseAndPop(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,t,e,this)||void 0},C.prototype.readLinearRing=function(t,e){var i=this.readFlatCoordinatesFromNode_(t,e);if(i){var n=new g.a(null);return n.setFlatCoordinates(d.a.XYZ,i),n}},C.prototype.readPolygon=function(t,e){var i=h.a.pushParseAndPop([null],this.FLAT_LINEAR_RINGS_PARSERS_,t,e,this);if(i&&i[0]){var n,r,a=new E.a(null),o=i[0],l=[o.length];for(n=1,r=i.length;r>n;++n)s.a.extend(o,i[n]),l.push(o.length);return a.setFlatCoordinates(d.a.XYZ,o,l),a}},C.prototype.readFlatCoordinatesFromNode_=function(t,e){return h.a.pushParseAndPop(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,t,e,this)},C.prototype.MULTIPOINT_PARSERS_={"http://www.opengis.net/gml":{pointMember:h.a.makeArrayPusher(C.prototype.pointMemberParser_),pointMembers:h.a.makeArrayPusher(C.prototype.pointMemberParser_)}},C.prototype.MULTILINESTRING_PARSERS_={"http://www.opengis.net/gml":{lineStringMember:h.a.makeArrayPusher(C.prototype.lineStringMemberParser_),lineStringMembers:h.a.makeArrayPusher(C.prototype.lineStringMemberParser_)}},C.prototype.MULTIPOLYGON_PARSERS_={"http://www.opengis.net/gml":{polygonMember:h.a.makeArrayPusher(C.prototype.polygonMemberParser_),polygonMembers:h.a.makeArrayPusher(C.prototype.polygonMemberParser_)}},C.prototype.POINTMEMBER_PARSERS_={"http://www.opengis.net/gml":{Point:h.a.makeArrayPusher(C.prototype.readFlatCoordinatesFromNode_)}},C.prototype.LINESTRINGMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:h.a.makeArrayPusher(C.prototype.readLineString)}},C.prototype.POLYGONMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:h.a.makeArrayPusher(C.prototype.readPolygon)}},C.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:h.a.makeReplacer(C.prototype.readFlatLinearRing_)}},C.prototype.readGeometryFromNode=function(t,e){return this.readGeometryElement(t,[this.getReadOptions(t,e||{})])||null},C.prototype.readFeaturesFromNode=function(t,e){var i={featureType:this.featureType,featureNS:this.featureNS};return e&&b.a.assign(i,this.getReadOptions(t,e)),this.readFeaturesInternal(t,[i])||[]},C.prototype.readProjectionFromNode=function(t){return x.default.get(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))};var S=C,T=i("J23v"),R={};R.NAMESPACE_URI="http://www.w3.org/2001/XMLSchema",R.readBoolean=function(t){var e=h.a.getAllTextContent(t,!1);return R.readBooleanString(e)},R.readBooleanString=function(t){var e=/^\s*(true|1)|(false|0)\s*$/.exec(t);return e?void 0!==e[1]||!1:void 0},R.readDateTime=function(t){var e=h.a.getAllTextContent(t,!1),i=Date.parse(e);return isNaN(i)?void 0:i/1e3},R.readDecimal=function(t){var e=h.a.getAllTextContent(t,!1);return R.readDecimalString(e)},R.readDecimalString=function(t){var e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);return e?parseFloat(e[1]):void 0},R.readNonNegativeInteger=function(t){var e=h.a.getAllTextContent(t,!1);return R.readNonNegativeIntegerString(e)},R.readNonNegativeIntegerString=function(t){var e=/^\s*(\d+)\s*$/.exec(t);return e?parseInt(e[1],10):void 0},R.readString=function(t){return h.a.getAllTextContent(t,!1).trim()},R.writeBooleanTextNode=function(t,e){R.writeStringTextNode(t,e?"1":"0")},R.writeCDATASection=function(t,e){t.appendChild(h.a.DOCUMENT.createCDATASection(e))},R.writeDateTimeTextNode=function(t,e){var i=new Date(1e3*e),n=i.getUTCFullYear()+"-"+T.a.padNumber(i.getUTCMonth()+1,2)+"-"+T.a.padNumber(i.getUTCDate(),2)+"T"+T.a.padNumber(i.getUTCHours(),2)+":"+T.a.padNumber(i.getUTCMinutes(),2)+":"+T.a.padNumber(i.getUTCSeconds(),2)+"Z";t.appendChild(h.a.DOCUMENT.createTextNode(n))},R.writeDecimalTextNode=function(t,e){var i=e.toPrecision();t.appendChild(h.a.DOCUMENT.createTextNode(i))},R.writeNonNegativeIntegerTextNode=function(t,e){t.appendChild(h.a.DOCUMENT.createTextNode(""+e))},R.writeStringTextNode=function(t,e){t.appendChild(h.a.DOCUMENT.createTextNode(e))};var M=R,w=i("A6q1"),O=function(t){var e=t||{};S.call(this,e),this.FEATURE_COLLECTION_PARSERS[S.GMLNS].featureMember=h.a.makeArrayPusher(S.prototype.readFeaturesInternal),this.schemaLocation=e.schemaLocation?e.schemaLocation:O.schemaLocation_};n.a.inherits(O,S),O.schemaLocation_=S.GMLNS+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",O.prototype.readFlatCoordinates_=function(t,e){var i=h.a.getAllTextContent(t,!1).replace(/^\s*|\s*$/g,""),n=e[0],r=n.srsName,a="enu";if(r){var o=x.default.get(r);o&&(a=o.getAxisOrientation())}for(var s,l,u,c=i.trim().split(/\s+/),f=[],d=0,p=c.length;p>d;d++){var g=c[d].split(/,+/);s=parseFloat(g[0]),l=parseFloat(g[1]),u=3===g.length?parseFloat(g[2]):0,"en"===a.substr(0,2)?f.push(s,l,u):f.push(l,s,u)}return f},O.prototype.readBox_=function(t,e){var i=h.a.pushParseAndPop([null],this.BOX_PARSERS_,t,e,this);return a.default.createOrUpdate(i[1][0],i[1][1],i[1][3],i[1][4])},O.prototype.innerBoundaryIsParser_=function(t,e){var i=h.a.pushParseAndPop(void 0,this.RING_PARSERS,t,e,this);i&&e[e.length-1].push(i)},O.prototype.outerBoundaryIsParser_=function(t,e){var i=h.a.pushParseAndPop(void 0,this.RING_PARSERS,t,e,this);i&&(e[e.length-1][0]=i)},O.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_={"http://www.opengis.net/gml":{coordinates:h.a.makeReplacer(O.prototype.readFlatCoordinates_)}},O.prototype.FLAT_LINEAR_RINGS_PARSERS_={"http://www.opengis.net/gml":{innerBoundaryIs:O.prototype.innerBoundaryIsParser_,outerBoundaryIs:O.prototype.outerBoundaryIsParser_}},O.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:h.a.makeArrayPusher(O.prototype.readFlatCoordinates_)}},O.prototype.GEOMETRY_PARSERS_={"http://www.opengis.net/gml":{Point:h.a.makeReplacer(S.prototype.readPoint),MultiPoint:h.a.makeReplacer(S.prototype.readMultiPoint),LineString:h.a.makeReplacer(S.prototype.readLineString),MultiLineString:h.a.makeReplacer(S.prototype.readMultiLineString),LinearRing:h.a.makeReplacer(S.prototype.readLinearRing),Polygon:h.a.makeReplacer(S.prototype.readPolygon),MultiPolygon:h.a.makeReplacer(S.prototype.readMultiPolygon),Box:h.a.makeReplacer(O.prototype.readBox_)}},O.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,i){var n,r=e[e.length-1],a=r.multiSurface,o=r.surface,s=r.multiCurve;return Array.isArray(t)?n="Envelope":(n=t.getType(),"MultiPolygon"===n&&!0===a?n="MultiSurface":"Polygon"===n&&!0===o?n="Surface":"MultiLineString"===n&&!0===s&&(n="MultiCurve")),h.a.createElementNS("http://www.opengis.net/gml",n)},O.prototype.writeFeatureElement=function(t,e,i){var n=e.getId();n&&t.setAttribute("fid",n);var r=i[i.length-1],a=r.featureNS,o=e.getGeometryName();r.serializers||(r.serializers={},r.serializers[a]={});var s=e.getProperties(),l=[],u=[];for(var c in s){var f=s[c];null!==f&&(l.push(c),u.push(f),c==o||f instanceof w.a?c in r.serializers[a]||(r.serializers[a][c]=h.a.makeChildAppender(this.writeGeometryElement,this)):c in r.serializers[a]||(r.serializers[a][c]=h.a.makeChildAppender(M.writeStringTextNode)))}var d=b.a.assign({},r);d.node=t,h.a.pushSerializeAndPop(d,r.serializers,h.a.makeSimpleNodeFactory(void 0,a),u,i,l)},O.prototype.writeGeometryElement=function(t,e,i){var n=i[i.length-1],r=b.a.assign({},n);r.node=t;var a;a=Array.isArray(e)?n.dataProjection?x.default.transformExtent(e,n.featureProjection,n.dataProjection):e:o.a.transformWithOptions(e,!0,n),h.a.pushSerializeAndPop(r,O.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[a],i,void 0,this)},O.prototype.writeCurveOrLineString_=function(t,e,i){var n=i[i.length-1],r=n.srsName;if("LineStringSegment"!==t.nodeName&&r&&t.setAttribute("srsName",r),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var a=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(a),this.writeCoordinates_(a,e,i)}else if("Curve"===t.nodeName){var o=h.a.createElementNS(t.namespaceURI,"segments");t.appendChild(o),this.writeCurveSegments_(o,e,i)}},O.prototype.createCoordinatesNode_=function(t){var e=h.a.createElementNS(t,"coordinates");return e.setAttribute("decimal","."),e.setAttribute("cs",","),e.setAttribute("ts"," "),e},O.prototype.writeCoordinates_=function(t,e,i){for(var n,r=i[i.length-1],a=r.hasZ,o=r.srsName,s=e.getCoordinates(),l=s.length,u=Array(l),h=0;l>h;++h)n=s[h],u[h]=this.getCoords_(n,o,a);M.writeStringTextNode(t,u.join(" "))},O.prototype.writeCurveSegments_=function(t,e,i){var n=h.a.createElementNS(t.namespaceURI,"LineStringSegment");t.appendChild(n),this.writeCurveOrLineString_(n,e,i)},O.prototype.writeSurfaceOrPolygon_=function(t,e,i){var n=i[i.length-1],r=n.hasZ,a=n.srsName;if("PolygonPatch"!==t.nodeName&&a&&t.setAttribute("srsName",a),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var o=e.getLinearRings();h.a.pushSerializeAndPop({node:t,hasZ:r,srsName:a},O.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,o,i,void 0,this)}else if("Surface"===t.nodeName){var s=h.a.createElementNS(t.namespaceURI,"patches");t.appendChild(s),this.writeSurfacePatches_(s,e,i)}},O.prototype.RING_NODE_FACTORY_=function(t,e,i){var n=e[e.length-1],r=n.node,a=n.exteriorWritten;return void 0===a&&(n.exteriorWritten=!0),h.a.createElementNS(r.namespaceURI,void 0!==a?"innerBoundaryIs":"outerBoundaryIs")},O.prototype.writeSurfacePatches_=function(t,e,i){var n=h.a.createElementNS(t.namespaceURI,"PolygonPatch");t.appendChild(n),this.writeSurfaceOrPolygon_(n,e,i)},O.prototype.writeRing_=function(t,e,i){var n=h.a.createElementNS(t.namespaceURI,"LinearRing");t.appendChild(n),this.writeLinearRing_(n,e,i)},O.prototype.getCoords_=function(t,e,i){var n="enu";e&&(n=x.default.get(e).getAxisOrientation());var r="en"===n.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0];return i&&(r+=","+(t[2]||0)),r},O.prototype.writeMultiCurveOrLineString_=function(t,e,i){var n=i[i.length-1],r=n.hasZ,a=n.srsName,o=n.curve;a&&t.setAttribute("srsName",a);var s=e.getLineStrings();h.a.pushSerializeAndPop({node:t,hasZ:r,srsName:a,curve:o},O.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,i,void 0,this)},O.prototype.writePoint_=function(t,e,i){var n=i[i.length-1],r=n.hasZ,a=n.srsName;a&&t.setAttribute("srsName",a);var o=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(o);var s=e.getCoordinates(),l=this.getCoords_(s,a,r);M.writeStringTextNode(o,l)},O.prototype.writeMultiPoint_=function(t,e,i){var n=i[i.length-1],r=n.hasZ,a=n.srsName;a&&t.setAttribute("srsName",a);var o=e.getPoints();h.a.pushSerializeAndPop({node:t,hasZ:r,srsName:a},O.POINTMEMBER_SERIALIZERS_,h.a.makeSimpleNodeFactory("pointMember"),o,i,void 0,this)},O.prototype.writePointMember_=function(t,e,i){var n=h.a.createElementNS(t.namespaceURI,"Point");t.appendChild(n),this.writePoint_(n,e,i)},O.prototype.writeLineStringOrCurveMember_=function(t,e,i){var n=this.GEOMETRY_NODE_FACTORY_(e,i);n&&(t.appendChild(n),this.writeCurveOrLineString_(n,e,i))},O.prototype.writeLinearRing_=function(t,e,i){var n=i[i.length-1],r=n.srsName;r&&t.setAttribute("srsName",r);var a=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(a),this.writeCoordinates_(a,e,i)},O.prototype.writeMultiSurfaceOrPolygon_=function(t,e,i){var n=i[i.length-1],r=n.hasZ,a=n.srsName,o=n.surface;a&&t.setAttribute("srsName",a);var s=e.getPolygons();h.a.pushSerializeAndPop({node:t,hasZ:r,srsName:a,surface:o},O.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,i,void 0,this)},O.prototype.writeSurfaceOrPolygonMember_=function(t,e,i){var n=this.GEOMETRY_NODE_FACTORY_(e,i);n&&(t.appendChild(n),this.writeSurfaceOrPolygon_(n,e,i))},O.prototype.writeEnvelope=function(t,e,i){var n=i[i.length-1],r=n.srsName;r&&t.setAttribute("srsName",r),h.a.pushSerializeAndPop({node:t},O.ENVELOPE_SERIALIZERS_,h.a.OBJECT_PROPERTY_NODE_FACTORY,[e[0]+" "+e[1],e[2]+" "+e[3]],i,["lowerCorner","upperCorner"],this)},O.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:h.a.makeChildAppender(O.prototype.writeCurveOrLineString_),MultiCurve:h.a.makeChildAppender(O.prototype.writeMultiCurveOrLineString_),Point:h.a.makeChildAppender(O.prototype.writePoint_),MultiPoint:h.a.makeChildAppender(O.prototype.writeMultiPoint_),LineString:h.a.makeChildAppender(O.prototype.writeCurveOrLineString_),MultiLineString:h.a.makeChildAppender(O.prototype.writeMultiCurveOrLineString_),LinearRing:h.a.makeChildAppender(O.prototype.writeLinearRing_),Polygon:h.a.makeChildAppender(O.prototype.writeSurfaceOrPolygon_),MultiPolygon:h.a.makeChildAppender(O.prototype.writeMultiSurfaceOrPolygon_),Surface:h.a.makeChildAppender(O.prototype.writeSurfaceOrPolygon_),MultiSurface:h.a.makeChildAppender(O.prototype.writeMultiSurfaceOrPolygon_),Envelope:h.a.makeChildAppender(O.prototype.writeEnvelope)}},O.RING_SERIALIZERS_={"http://www.opengis.net/gml":{outerBoundaryIs:h.a.makeChildAppender(O.prototype.writeRing_),innerBoundaryIs:h.a.makeChildAppender(O.prototype.writeRing_)}},O.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:h.a.makeChildAppender(O.prototype.writePointMember_)}},O.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:h.a.makeChildAppender(O.prototype.writeLineStringOrCurveMember_),curveMember:h.a.makeChildAppender(O.prototype.writeLineStringOrCurveMember_)}},O.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,i){return h.a.createElementNS("http://www.opengis.net/gml",O.MULTIGEOMETRY_TO_MEMBER_NODENAME_[e[e.length-1].node.nodeName])},O.MULTIGEOMETRY_TO_MEMBER_NODENAME_={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},O.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:h.a.makeChildAppender(O.prototype.writeSurfaceOrPolygonMember_),polygonMember:h.a.makeChildAppender(O.prototype.writeSurfaceOrPolygonMember_)}},O.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:h.a.makeChildAppender(M.writeStringTextNode),upperCorner:h.a.makeChildAppender(M.writeStringTextNode)}};var A=O,I=function(t){var e=t||{};S.call(this,e),this.surface_=void 0!==e.surface&&e.surface,this.curve_=void 0!==e.curve&&e.curve,this.multiCurve_=void 0===e.multiCurve||e.multiCurve,this.multiSurface_=void 0===e.multiSurface||e.multiSurface,this.schemaLocation=e.schemaLocation?e.schemaLocation:I.schemaLocation_,this.hasZ=void 0!==e.hasZ&&e.hasZ};n.a.inherits(I,S),I.schemaLocation_=S.GMLNS+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",I.prototype.readMultiCurve_=function(t,e){var i=h.a.pushParseAndPop([],this.MULTICURVE_PARSERS_,t,e,this);if(i){var n=new m.a(null);return n.setLineStrings(i),n}},I.prototype.readMultiSurface_=function(t,e){var i=h.a.pushParseAndPop([],this.MULTISURFACE_PARSERS_,t,e,this);if(i){var n=new y.a(null);return n.setPolygons(i),n}},I.prototype.curveMemberParser_=function(t,e){h.a.parseNode(this.CURVEMEMBER_PARSERS_,t,e,this)},I.prototype.surfaceMemberParser_=function(t,e){h.a.parseNode(this.SURFACEMEMBER_PARSERS_,t,e,this)},I.prototype.readPatch_=function(t,e){return h.a.pushParseAndPop([null],this.PATCHES_PARSERS_,t,e,this)},I.prototype.readSegment_=function(t,e){return h.a.pushParseAndPop([null],this.SEGMENTS_PARSERS_,t,e,this)},I.prototype.readPolygonPatch_=function(t,e){return h.a.pushParseAndPop([null],this.FLAT_LINEAR_RINGS_PARSERS_,t,e,this)},I.prototype.readLineStringSegment_=function(t,e){return h.a.pushParseAndPop([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS_,t,e,this)},I.prototype.interiorParser_=function(t,e){var i=h.a.pushParseAndPop(void 0,this.RING_PARSERS,t,e,this);i&&e[e.length-1].push(i)},I.prototype.exteriorParser_=function(t,e){var i=h.a.pushParseAndPop(void 0,this.RING_PARSERS,t,e,this);i&&(e[e.length-1][0]=i)},I.prototype.readSurface_=function(t,e){var i=h.a.pushParseAndPop([null],this.SURFACE_PARSERS_,t,e,this);if(i&&i[0]){var n,r,a=new E.a(null),o=i[0],l=[o.length];for(n=1,r=i.length;r>n;++n)s.a.extend(o,i[n]),l.push(o.length);return a.setFlatCoordinates(d.a.XYZ,o,l),a}},I.prototype.readCurve_=function(t,e){var i=h.a.pushParseAndPop([null],this.CURVE_PARSERS_,t,e,this);if(i){var n=new p.a(null);return n.setFlatCoordinates(d.a.XYZ,i),n}},I.prototype.readEnvelope_=function(t,e){var i=h.a.pushParseAndPop([null],this.ENVELOPE_PARSERS_,t,e,this);return a.default.createOrUpdate(i[1][0],i[1][1],i[2][0],i[2][1])},I.prototype.readFlatPos_=function(t,e){for(var i,n=h.a.getAllTextContent(t,!1),r=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,a=[];i=r.exec(n);)a.push(parseFloat(i[1])),n=n.substr(i[0].length);if(""===n){var o=e[0],s=o.srsName,l="enu";if(s&&(l=x.default.get(s).getAxisOrientation()),"neu"===l){var u,c;for(u=0,c=a.length;c>u;u+=3){var f=a[u];a[u]=a[u+1],a[u+1]=f}}var d=a.length;if(2==d&&a.push(0),0!==d)return a}},I.prototype.readFlatPosList_=function(t,e){var i=h.a.getAllTextContent(t,!1).replace(/^\s*|\s*$/g,""),n=e[0],r=n.srsName,a=n.srsDimension,o="enu";r&&(o=x.default.get(r).getAxisOrientation());var s=i.split(/\s+/),l=2;t.getAttribute("srsDimension")?l=M.readNonNegativeIntegerString(t.getAttribute("srsDimension")):t.getAttribute("dimension")?l=M.readNonNegativeIntegerString(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?l=M.readNonNegativeIntegerString(t.parentNode.getAttribute("srsDimension")):a&&(l=M.readNonNegativeIntegerString(a));for(var u,c,f,d=[],p=0,g=s.length;g>p;p+=l)u=parseFloat(s[p]),c=parseFloat(s[p+1]),f=3===l?parseFloat(s[p+2]):0,"en"===o.substr(0,2)?d.push(u,c,f):d.push(c,u,f);return d},I.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_={"http://www.opengis.net/gml":{pos:h.a.makeReplacer(I.prototype.readFlatPos_),posList:h.a.makeReplacer(I.prototype.readFlatPosList_)}},I.prototype.FLAT_LINEAR_RINGS_PARSERS_={"http://www.opengis.net/gml":{interior:I.prototype.interiorParser_,exterior:I.prototype.exteriorParser_}},I.prototype.GEOMETRY_PARSERS_={"http://www.opengis.net/gml":{Point:h.a.makeReplacer(S.prototype.readPoint),MultiPoint:h.a.makeReplacer(S.prototype.readMultiPoint),LineString:h.a.makeReplacer(S.prototype.readLineString),MultiLineString:h.a.makeReplacer(S.prototype.readMultiLineString),LinearRing:h.a.makeReplacer(S.prototype.readLinearRing),Polygon:h.a.makeReplacer(S.prototype.readPolygon),MultiPolygon:h.a.makeReplacer(S.prototype.readMultiPolygon),Surface:h.a.makeReplacer(I.prototype.readSurface_),MultiSurface:h.a.makeReplacer(I.prototype.readMultiSurface_),Curve:h.a.makeReplacer(I.prototype.readCurve_),MultiCurve:h.a.makeReplacer(I.prototype.readMultiCurve_),Envelope:h.a.makeReplacer(I.prototype.readEnvelope_)}},I.prototype.MULTICURVE_PARSERS_={"http://www.opengis.net/gml":{curveMember:h.a.makeArrayPusher(I.prototype.curveMemberParser_),curveMembers:h.a.makeArrayPusher(I.prototype.curveMemberParser_)}},I.prototype.MULTISURFACE_PARSERS_={"http://www.opengis.net/gml":{surfaceMember:h.a.makeArrayPusher(I.prototype.surfaceMemberParser_),surfaceMembers:h.a.makeArrayPusher(I.prototype.surfaceMemberParser_)}},I.prototype.CURVEMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:h.a.makeArrayPusher(S.prototype.readLineString),Curve:h.a.makeArrayPusher(I.prototype.readCurve_)}},I.prototype.SURFACEMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:h.a.makeArrayPusher(S.prototype.readPolygon),Surface:h.a.makeArrayPusher(I.prototype.readSurface_)}},I.prototype.SURFACE_PARSERS_={"http://www.opengis.net/gml":{patches:h.a.makeReplacer(I.prototype.readPatch_)}},I.prototype.CURVE_PARSERS_={"http://www.opengis.net/gml":{segments:h.a.makeReplacer(I.prototype.readSegment_)}},I.prototype.ENVELOPE_PARSERS_={"http://www.opengis.net/gml":{lowerCorner:h.a.makeArrayPusher(I.prototype.readFlatPosList_),upperCorner:h.a.makeArrayPusher(I.prototype.readFlatPosList_)}},I.prototype.PATCHES_PARSERS_={"http://www.opengis.net/gml":{PolygonPatch:h.a.makeReplacer(I.prototype.readPolygonPatch_)}},I.prototype.SEGMENTS_PARSERS_={"http://www.opengis.net/gml":{LineStringSegment:h.a.makeReplacer(I.prototype.readLineStringSegment_)}},I.prototype.writePos_=function(t,e,i){var n=i[i.length-1],r=n.hasZ;t.setAttribute("srsDimension",r?3:2);var a=n.srsName,o="enu";a&&(o=x.default.get(a).getAxisOrientation());var s,l=e.getCoordinates();s="en"===o.substr(0,2)?l[0]+" "+l[1]:l[1]+" "+l[0],r&&(s+=" "+(l[2]||0)),M.writeStringTextNode(t,s)},I.prototype.getCoords_=function(t,e,i){var n="enu";e&&(n=x.default.get(e).getAxisOrientation());var r="en"===n.substr(0,2)?t[0]+" "+t[1]:t[1]+" "+t[0];return i&&(r+=" "+(t[2]||0)),r},I.prototype.writePosList_=function(t,e,i){var n=i[i.length-1],r=n.hasZ;t.setAttribute("srsDimension",r?3:2);for(var a,o=n.srsName,s=e.getCoordinates(),l=s.length,u=Array(l),h=0;l>h;++h)a=s[h],u[h]=this.getCoords_(a,o,r);M.writeStringTextNode(t,u.join(" "))},I.prototype.writePoint_=function(t,e,i){var n=i[i.length-1],r=n.srsName;r&&t.setAttribute("srsName",r);var a=h.a.createElementNS(t.namespaceURI,"pos");t.appendChild(a),this.writePos_(a,e,i)},I.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:h.a.makeChildAppender(M.writeStringTextNode),upperCorner:h.a.makeChildAppender(M.writeStringTextNode)}},I.prototype.writeEnvelope=function(t,e,i){var n=i[i.length-1],r=n.srsName;r&&t.setAttribute("srsName",r),h.a.pushSerializeAndPop({node:t},I.ENVELOPE_SERIALIZERS_,h.a.OBJECT_PROPERTY_NODE_FACTORY,[e[0]+" "+e[1],e[2]+" "+e[3]],i,["lowerCorner","upperCorner"],this)},I.prototype.writeLinearRing_=function(t,e,i){var n=i[i.length-1],r=n.srsName;r&&t.setAttribute("srsName",r);var a=h.a.createElementNS(t.namespaceURI,"posList");t.appendChild(a),this.writePosList_(a,e,i)},I.prototype.RING_NODE_FACTORY_=function(t,e,i){var n=e[e.length-1],r=n.node,a=n.exteriorWritten;return void 0===a&&(n.exteriorWritten=!0),h.a.createElementNS(r.namespaceURI,void 0!==a?"interior":"exterior")},I.prototype.writeSurfaceOrPolygon_=function(t,e,i){var n=i[i.length-1],r=n.hasZ,a=n.srsName;if("PolygonPatch"!==t.nodeName&&a&&t.setAttribute("srsName",a),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var o=e.getLinearRings();h.a.pushSerializeAndPop({node:t,hasZ:r,srsName:a},I.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,o,i,void 0,this)}else if("Surface"===t.nodeName){var s=h.a.createElementNS(t.namespaceURI,"patches");t.appendChild(s),this.writeSurfacePatches_(s,e,i)}},I.prototype.writeCurveOrLineString_=function(t,e,i){var n=i[i.length-1],r=n.srsName;if("LineStringSegment"!==t.nodeName&&r&&t.setAttribute("srsName",r),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var a=h.a.createElementNS(t.namespaceURI,"posList");t.appendChild(a),this.writePosList_(a,e,i)}else if("Curve"===t.nodeName){var o=h.a.createElementNS(t.namespaceURI,"segments");t.appendChild(o),this.writeCurveSegments_(o,e,i)}},I.prototype.writeMultiSurfaceOrPolygon_=function(t,e,i){var n=i[i.length-1],r=n.hasZ,a=n.srsName,o=n.surface;a&&t.setAttribute("srsName",a);var s=e.getPolygons();h.a.pushSerializeAndPop({node:t,hasZ:r,srsName:a,surface:o},I.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,i,void 0,this)},I.prototype.writeMultiPoint_=function(t,e,i){var n=i[i.length-1],r=n.srsName,a=n.hasZ;r&&t.setAttribute("srsName",r);var o=e.getPoints();h.a.pushSerializeAndPop({node:t,hasZ:a,srsName:r},I.POINTMEMBER_SERIALIZERS_,h.a.makeSimpleNodeFactory("pointMember"),o,i,void 0,this)},I.prototype.writeMultiCurveOrLineString_=function(t,e,i){var n=i[i.length-1],r=n.hasZ,a=n.srsName,o=n.curve;a&&t.setAttribute("srsName",a);var s=e.getLineStrings();h.a.pushSerializeAndPop({node:t,hasZ:r,srsName:a,curve:o},I.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,i,void 0,this)},I.prototype.writeRing_=function(t,e,i){var n=h.a.createElementNS(t.namespaceURI,"LinearRing");t.appendChild(n),this.writeLinearRing_(n,e,i)},I.prototype.writeSurfaceOrPolygonMember_=function(t,e,i){var n=this.GEOMETRY_NODE_FACTORY_(e,i);n&&(t.appendChild(n),this.writeSurfaceOrPolygon_(n,e,i))},I.prototype.writePointMember_=function(t,e,i){var n=h.a.createElementNS(t.namespaceURI,"Point");t.appendChild(n),this.writePoint_(n,e,i)},I.prototype.writeLineStringOrCurveMember_=function(t,e,i){var n=this.GEOMETRY_NODE_FACTORY_(e,i);n&&(t.appendChild(n),this.writeCurveOrLineString_(n,e,i))},I.prototype.writeSurfacePatches_=function(t,e,i){var n=h.a.createElementNS(t.namespaceURI,"PolygonPatch");t.appendChild(n),this.writeSurfaceOrPolygon_(n,e,i)},I.prototype.writeCurveSegments_=function(t,e,i){var n=h.a.createElementNS(t.namespaceURI,"LineStringSegment");t.appendChild(n),this.writeCurveOrLineString_(n,e,i)},I.prototype.writeGeometryElement=function(t,e,i){var n=i[i.length-1],r=b.a.assign({},n);r.node=t;var a;a=Array.isArray(e)?n.dataProjection?x.default.transformExtent(e,n.featureProjection,n.dataProjection):e:o.a.transformWithOptions(e,!0,n),h.a.pushSerializeAndPop(r,I.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[a],i,void 0,this)},I.prototype.writeFeatureElement=function(t,e,i){var n=e.getId();n&&t.setAttribute("fid",n);var r=i[i.length-1],a=r.featureNS,o=e.getGeometryName();r.serializers||(r.serializers={},r.serializers[a]={});var s=e.getProperties(),l=[],u=[];for(var c in s){var f=s[c];null!==f&&(l.push(c),u.push(f),c==o||f instanceof w.a?c in r.serializers[a]||(r.serializers[a][c]=h.a.makeChildAppender(this.writeGeometryElement,this)):c in r.serializers[a]||(r.serializers[a][c]=h.a.makeChildAppender(M.writeStringTextNode)))}var d=b.a.assign({},r);d.node=t,h.a.pushSerializeAndPop(d,r.serializers,h.a.makeSimpleNodeFactory(void 0,a),u,i,l)},I.prototype.writeFeatureMembers_=function(t,e,i){var n=i[i.length-1],r=n.featureType,a=n.featureNS,o={};o[a]={},o[a][r]=h.a.makeChildAppender(this.writeFeatureElement,this);var s=b.a.assign({},n);s.node=t,h.a.pushSerializeAndPop(s,o,h.a.makeSimpleNodeFactory(r,a),e,i)},I.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:h.a.makeChildAppender(I.prototype.writeSurfaceOrPolygonMember_),polygonMember:h.a.makeChildAppender(I.prototype.writeSurfaceOrPolygonMember_)}},I.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:h.a.makeChildAppender(I.prototype.writePointMember_)}},I.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:h.a.makeChildAppender(I.prototype.writeLineStringOrCurveMember_),curveMember:h.a.makeChildAppender(I.prototype.writeLineStringOrCurveMember_)}},I.RING_SERIALIZERS_={"http://www.opengis.net/gml":{exterior:h.a.makeChildAppender(I.prototype.writeRing_),interior:h.a.makeChildAppender(I.prototype.writeRing_)}},I.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:h.a.makeChildAppender(I.prototype.writeCurveOrLineString_),MultiCurve:h.a.makeChildAppender(I.prototype.writeMultiCurveOrLineString_),Point:h.a.makeChildAppender(I.prototype.writePoint_),MultiPoint:h.a.makeChildAppender(I.prototype.writeMultiPoint_),LineString:h.a.makeChildAppender(I.prototype.writeCurveOrLineString_),MultiLineString:h.a.makeChildAppender(I.prototype.writeMultiCurveOrLineString_),LinearRing:h.a.makeChildAppender(I.prototype.writeLinearRing_),Polygon:h.a.makeChildAppender(I.prototype.writeSurfaceOrPolygon_),MultiPolygon:h.a.makeChildAppender(I.prototype.writeMultiSurfaceOrPolygon_),Surface:h.a.makeChildAppender(I.prototype.writeSurfaceOrPolygon_),MultiSurface:h.a.makeChildAppender(I.prototype.writeMultiSurfaceOrPolygon_),Envelope:h.a.makeChildAppender(I.prototype.writeEnvelope)}},I.MULTIGEOMETRY_TO_MEMBER_NODENAME_={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},I.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,i){return h.a.createElementNS("http://www.opengis.net/gml",I.MULTIGEOMETRY_TO_MEMBER_NODENAME_[e[e.length-1].node.nodeName])},I.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,i){var n,r=e[e.length-1],a=r.multiSurface,o=r.surface,s=r.curve,l=r.multiCurve;return Array.isArray(t)?n="Envelope":(n=t.getType(),"MultiPolygon"===n&&!0===a?n="MultiSurface":"Polygon"===n&&!0===o?n="Surface":"LineString"===n&&!0===s?n="Curve":"MultiLineString"===n&&!0===l&&(n="MultiCurve")),h.a.createElementNS("http://www.opengis.net/gml",n)},I.prototype.writeGeometryNode=function(t,e){e=this.adaptOptions(e);var i=h.a.createElementNS("http://www.opengis.net/gml","geom"),n={node:i,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return e&&b.a.assign(n,e),this.writeGeometryElement(i,t,[n]),i},I.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var i=h.a.createElementNS("http://www.opengis.net/gml","featureMembers");h.a.setAttributeNS(i,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var n={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return e&&b.a.assign(n,e),this.writeFeatureMembers_(i,t,[n]),i};var P=I,L=function(t){this.tagName_=t};L.prototype.getTagName=function(){return this.tagName_};var N=L,F=function(t,e){N.call(this,t),this.conditions=Array.prototype.slice.call(arguments,1),r.a.assert(this.conditions.length>=2,57)};n.a.inherits(F,N);var D=F,k=function(t){var e=["And"].concat(Array.prototype.slice.call(arguments));D.apply(this,e)};n.a.inherits(k,D);var G=k,j=function(t,e,i){N.call(this,"BBOX"),this.geometryName=t,this.extent=e,this.srsName=i};n.a.inherits(j,N);var U=j,B=function(t,e,i,n){N.call(this,t),this.geometryName=e||"the_geom",this.geometry=i,this.srsName=n};n.a.inherits(B,N);var W=B,z=function(t,e,i){W.call(this,"Contains",t,e,i)};n.a.inherits(z,W);var X=z,V=function(t,e){N.call(this,t),this.propertyName=e};n.a.inherits(V,N);var Y=V,q=function(t,e,i){Y.call(this,"During",t),this.begin=e,this.end=i};n.a.inherits(q,Y);var H=q,K=function(t,e,i,n){Y.call(this,t,e),this.expression=i,this.matchCase=n};n.a.inherits(K,Y);var Z=K,J=function(t,e,i){Z.call(this,"PropertyIsEqualTo",t,e,i)};n.a.inherits(J,Z);var Q=J,$=function(t,e){Z.call(this,"PropertyIsGreaterThan",t,e)};n.a.inherits($,Z);var tt=$,et=function(t,e){Z.call(this,"PropertyIsGreaterThanOrEqualTo",t,e)};n.a.inherits(et,Z);var it=et,nt=function(t,e,i){W.call(this,"Intersects",t,e,i)};n.a.inherits(nt,W);var rt=nt,at=function(t,e,i){Y.call(this,"PropertyIsBetween",t),this.lowerBoundary=e,this.upperBoundary=i};n.a.inherits(at,Y);var ot=at,st=function(t,e,i,n,r,a){Y.call(this,"PropertyIsLike",t),this.pattern=e,this.wildCard=void 0!==i?i:"*",this.singleChar=void 0!==n?n:".",this.escapeChar=void 0!==r?r:"!",this.matchCase=a};n.a.inherits(st,Y);var lt=st,ut=function(t){Y.call(this,"PropertyIsNull",t)};n.a.inherits(ut,Y);var ht=ut,ct=function(t,e){Z.call(this,"PropertyIsLessThan",t,e)};n.a.inherits(ct,Z);var ft=ct,dt=function(t,e){Z.call(this,"PropertyIsLessThanOrEqualTo",t,e)};n.a.inherits(dt,Z);var pt=dt,gt=function(t){N.call(this,"Not"),this.condition=t};n.a.inherits(gt,N);var mt=gt,_t=function(t,e,i){Z.call(this,"PropertyIsNotEqualTo",t,e,i)};n.a.inherits(_t,Z);var yt=_t,vt=function(t){var e=["Or"].concat(Array.prototype.slice.call(arguments));D.apply(this,e)};n.a.inherits(vt,D);var Et=vt,bt=function(t,e,i){W.call(this,"Within",t,e,i)};n.a.inherits(bt,W);var xt=bt,Ct={};Ct.and=function(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(G,e))},Ct.or=function(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(Et,e))},Ct.not=function(t){return new mt(t)},Ct.bbox=function(t,e,i){return new U(t,e,i)},Ct.contains=function(t,e,i){return new X(t,e,i)},Ct.intersects=function(t,e,i){return new rt(t,e,i)},Ct.within=function(t,e,i){return new xt(t,e,i)},Ct.equalTo=function(t,e,i){return new Q(t,e,i)},Ct.notEqualTo=function(t,e,i){return new yt(t,e,i)},Ct.lessThan=function(t,e){return new ft(t,e)},Ct.lessThanOrEqualTo=function(t,e){return new pt(t,e)},Ct.greaterThan=function(t,e){return new tt(t,e)},Ct.greaterThanOrEqualTo=function(t,e){return new it(t,e)},Ct.isNull=function(t){return new ht(t)},Ct.between=function(t,e,i){return new ot(t,e,i)},Ct.like=function(t,e,i,n,r,a){return new lt(t,e,i,n,r,a)},Ct.during=function(t,e,i){return new H(t,e,i)};var St=Ct,Tt=function(t){var e=t||{};this.featureType_=e.featureType,this.featureNS_=e.featureNS,this.gmlFormat_=e.gmlFormat?e.gmlFormat:new P,this.schemaLocation_=e.schemaLocation?e.schemaLocation:Tt.SCHEMA_LOCATIONS[Tt.DEFAULT_VERSION],f.call(this)};n.a.inherits(Tt,f),Tt.FEATURE_PREFIX="feature",Tt.XMLNS="http://www.w3.org/2000/xmlns/",Tt.OGCNS="http://www.opengis.net/ogc",Tt.WFSNS="http://www.opengis.net/wfs",Tt.FESNS="http://www.opengis.net/fes",Tt.SCHEMA_LOCATIONS={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},Tt.DEFAULT_VERSION="1.1.0",Tt.prototype.getFeatureType=function(){return this.featureType_},Tt.prototype.setFeatureType=function(t){this.featureType_=t},Tt.prototype.readFeaturesFromNode=function(t,e){var i={featureType:this.featureType_,featureNS:this.featureNS_};b.a.assign(i,this.getReadOptions(t,e||{}));var n=[i];this.gmlFormat_.FEATURE_COLLECTION_PARSERS[S.GMLNS].featureMember=h.a.makeArrayPusher(S.prototype.readFeaturesInternal);var r=h.a.pushParseAndPop([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,n,this.gmlFormat_);return r||(r=[]),r},Tt.prototype.readTransactionResponse=function(t){return h.a.isDocument(t)?this.readTransactionResponseFromDocument(t):h.a.isNode(t)?this.readTransactionResponseFromNode(t):"string"==typeof t?this.readTransactionResponseFromDocument(h.a.parse(t)):void 0},Tt.prototype.readFeatureCollectionMetadata=function(t){return h.a.isDocument(t)?this.readFeatureCollectionMetadataFromDocument(t):h.a.isNode(t)?this.readFeatureCollectionMetadataFromNode(t):"string"==typeof t?this.readFeatureCollectionMetadataFromDocument(h.a.parse(t)):void 0},Tt.prototype.readFeatureCollectionMetadataFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(e)},Tt.FEATURE_COLLECTION_PARSERS_={"http://www.opengis.net/gml":{boundedBy:h.a.makeObjectPropertySetter(S.prototype.readGeometryElement,"bounds")}},Tt.prototype.readFeatureCollectionMetadataFromNode=function(t){var e={};return e.numberOfFeatures=M.readNonNegativeIntegerString(t.getAttribute("numberOfFeatures")),h.a.pushParseAndPop(e,Tt.FEATURE_COLLECTION_PARSERS_,t,[],this.gmlFormat_)},Tt.TRANSACTION_SUMMARY_PARSERS_={"http://www.opengis.net/wfs":{totalInserted:h.a.makeObjectPropertySetter(M.readNonNegativeInteger),totalUpdated:h.a.makeObjectPropertySetter(M.readNonNegativeInteger),totalDeleted:h.a.makeObjectPropertySetter(M.readNonNegativeInteger)}},Tt.readTransactionSummary_=function(t,e){return h.a.pushParseAndPop({},Tt.TRANSACTION_SUMMARY_PARSERS_,t,e)},Tt.OGC_FID_PARSERS_={"http://www.opengis.net/ogc":{FeatureId:h.a.makeArrayPusher(function(t,e){return t.getAttribute("fid")})}},Tt.fidParser_=function(t,e){h.a.parseNode(Tt.OGC_FID_PARSERS_,t,e)},Tt.INSERT_RESULTS_PARSERS_={"http://www.opengis.net/wfs":{Feature:Tt.fidParser_}},Tt.readInsertResults_=function(t,e){return h.a.pushParseAndPop([],Tt.INSERT_RESULTS_PARSERS_,t,e)},Tt.TRANSACTION_RESPONSE_PARSERS_={"http://www.opengis.net/wfs":{TransactionSummary:h.a.makeObjectPropertySetter(Tt.readTransactionSummary_,"transactionSummary"),InsertResults:h.a.makeObjectPropertySetter(Tt.readInsertResults_,"insertIds")}},Tt.prototype.readTransactionResponseFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(e)},Tt.prototype.readTransactionResponseFromNode=function(t){return h.a.pushParseAndPop({},Tt.TRANSACTION_RESPONSE_PARSERS_,t,[])},Tt.QUERY_SERIALIZERS_={"http://www.opengis.net/wfs":{PropertyName:h.a.makeChildAppender(M.writeStringTextNode)}},Tt.writeFeature_=function(t,e,i){var n=i[i.length-1],r=n.featureType,a=n.featureNS,o=n.gmlVersion,s=h.a.createElementNS(a,r);t.appendChild(s),2===o?A.prototype.writeFeatureElement(s,e,i):P.prototype.writeFeatureElement(s,e,i)},Tt.writeOgcFidFilter_=function(t,e,i){var n=h.a.createElementNS(Tt.OGCNS,"Filter"),r=h.a.createElementNS(Tt.OGCNS,"FeatureId");n.appendChild(r),r.setAttribute("fid",e),t.appendChild(n)},Tt.getTypeName_=function(t,e){t=t||Tt.FEATURE_PREFIX;var i=t+":";return 0===e.indexOf(i)?e:i+e},Tt.writeDelete_=function(t,e,i){var n=i[i.length-1];r.a.assert(void 0!==e.getId(),26);var a=n.featureType,o=n.featurePrefix,s=n.featureNS;t.setAttribute("typeName",Tt.getTypeName_(o,a)),h.a.setAttributeNS(t,Tt.XMLNS,"xmlns:"+o,s);var l=e.getId();void 0!==l&&Tt.writeOgcFidFilter_(t,l,i)},Tt.writeUpdate_=function(t,e,i){var n=i[i.length-1];r.a.assert(void 0!==e.getId(),27);var a=n.featureType,o=n.featurePrefix,s=n.featureNS,l=Tt.getTypeName_(o,a),u=e.getGeometryName();t.setAttribute("typeName",l),h.a.setAttributeNS(t,Tt.XMLNS,"xmlns:"+o,s);var c=e.getId();if(void 0!==c){for(var f=e.getKeys(),d=[],p=0,g=f.length;g>p;p++){var m=e.get(f[p]);if(void 0!==m){var _=f[p];m instanceof w.a&&(_=u),d.push({name:_,value:m})}}h.a.pushSerializeAndPop({gmlVersion:n.gmlVersion,node:t,hasZ:n.hasZ,srsName:n.srsName},Tt.TRANSACTION_SERIALIZERS_,h.a.makeSimpleNodeFactory("Property"),d,i),Tt.writeOgcFidFilter_(t,c,i)}},Tt.writeProperty_=function(t,e,i){var n=h.a.createElementNS(Tt.WFSNS,"Name"),r=i[i.length-1],a=r.gmlVersion;if(t.appendChild(n),M.writeStringTextNode(n,e.name),void 0!==e.value&&null!==e.value){var o=h.a.createElementNS(Tt.WFSNS,"Value");t.appendChild(o),e.value instanceof w.a?2===a?A.prototype.writeGeometryElement(o,e.value,i):P.prototype.writeGeometryElement(o,e.value,i):M.writeStringTextNode(o,e.value)}},Tt.writeNative_=function(t,e,i){e.vendorId&&t.setAttribute("vendorId",e.vendorId),void 0!==e.safeToIgnore&&t.setAttribute("safeToIgnore",e.safeToIgnore),void 0!==e.value&&M.writeStringTextNode(t,e.value)},Tt.TRANSACTION_SERIALIZERS_={"http://www.opengis.net/wfs":{Insert:h.a.makeChildAppender(Tt.writeFeature_),Update:h.a.makeChildAppender(Tt.writeUpdate_),Delete:h.a.makeChildAppender(Tt.writeDelete_),Property:h.a.makeChildAppender(Tt.writeProperty_),Native:h.a.makeChildAppender(Tt.writeNative_)}},Tt.writeQuery_=function(t,e,i){var n,r=i[i.length-1],a=r.featurePrefix,o=r.featureNS,s=r.propertyNames,l=r.srsName;n=a?Tt.getTypeName_(a,e):e,t.setAttribute("typeName",n),l&&t.setAttribute("srsName",l),o&&h.a.setAttributeNS(t,Tt.XMLNS,"xmlns:"+a,o);var u=b.a.assign({},r);u.node=t,h.a.pushSerializeAndPop(u,Tt.QUERY_SERIALIZERS_,h.a.makeSimpleNodeFactory("PropertyName"),s,i);var c=r.filter;if(c){var f=h.a.createElementNS(Tt.OGCNS,"Filter");t.appendChild(f),Tt.writeFilterCondition_(f,c,i)}},Tt.writeFilterCondition_=function(t,e,i){h.a.pushSerializeAndPop({node:t},Tt.GETFEATURE_SERIALIZERS_,h.a.makeSimpleNodeFactory(e.getTagName()),[e],i)},Tt.writeBboxFilter_=function(t,e,i){i[i.length-1].srsName=e.srsName,Tt.writeOgcPropertyName_(t,e.geometryName),P.prototype.writeGeometryElement(t,e.extent,i)},Tt.writeContainsFilter_=function(t,e,i){i[i.length-1].srsName=e.srsName,Tt.writeOgcPropertyName_(t,e.geometryName),P.prototype.writeGeometryElement(t,e.geometry,i)},Tt.writeIntersectsFilter_=function(t,e,i){i[i.length-1].srsName=e.srsName,Tt.writeOgcPropertyName_(t,e.geometryName),P.prototype.writeGeometryElement(t,e.geometry,i)},Tt.writeWithinFilter_=function(t,e,i){i[i.length-1].srsName=e.srsName,Tt.writeOgcPropertyName_(t,e.geometryName),P.prototype.writeGeometryElement(t,e.geometry,i)},Tt.writeDuringFilter_=function(t,e,i){var n=h.a.createElementNS(Tt.FESNS,"ValueReference");M.writeStringTextNode(n,e.propertyName),t.appendChild(n);var r=h.a.createElementNS(S.GMLNS,"TimePeriod");t.appendChild(r);var a=h.a.createElementNS(S.GMLNS,"begin");r.appendChild(a),Tt.writeTimeInstant_(a,e.begin);var o=h.a.createElementNS(S.GMLNS,"end");r.appendChild(o),Tt.writeTimeInstant_(o,e.end)},Tt.writeLogicalFilter_=function(t,e,i){for(var n={node:t},r=e.conditions,a=0,o=r.length;o>a;++a){var s=r[a];h.a.pushSerializeAndPop(n,Tt.GETFEATURE_SERIALIZERS_,h.a.makeSimpleNodeFactory(s.getTagName()),[s],i)}},Tt.writeNotFilter_=function(t,e,i){var n={node:t},r=e.condition;h.a.pushSerializeAndPop(n,Tt.GETFEATURE_SERIALIZERS_,h.a.makeSimpleNodeFactory(r.getTagName()),[r],i)},Tt.writeComparisonFilter_=function(t,e,i){void 0!==e.matchCase&&t.setAttribute("matchCase",""+e.matchCase),Tt.writeOgcPropertyName_(t,e.propertyName),Tt.writeOgcLiteral_(t,""+e.expression)},Tt.writeIsNullFilter_=function(t,e,i){Tt.writeOgcPropertyName_(t,e.propertyName)},Tt.writeIsBetweenFilter_=function(t,e,i){Tt.writeOgcPropertyName_(t,e.propertyName);var n=h.a.createElementNS(Tt.OGCNS,"LowerBoundary");t.appendChild(n),Tt.writeOgcLiteral_(n,""+e.lowerBoundary);var r=h.a.createElementNS(Tt.OGCNS,"UpperBoundary");t.appendChild(r),Tt.writeOgcLiteral_(r,""+e.upperBoundary)},Tt.writeIsLikeFilter_=function(t,e,i){t.setAttribute("wildCard",e.wildCard),t.setAttribute("singleChar",e.singleChar),t.setAttribute("escapeChar",e.escapeChar),void 0!==e.matchCase&&t.setAttribute("matchCase",""+e.matchCase),Tt.writeOgcPropertyName_(t,e.propertyName),Tt.writeOgcLiteral_(t,""+e.pattern)},Tt.writeOgcExpression_=function(t,e,i){var n=h.a.createElementNS(Tt.OGCNS,t);M.writeStringTextNode(n,i),e.appendChild(n)},Tt.writeOgcPropertyName_=function(t,e){Tt.writeOgcExpression_("PropertyName",t,e)},Tt.writeOgcLiteral_=function(t,e){Tt.writeOgcExpression_("Literal",t,e)},Tt.writeTimeInstant_=function(t,e){var i=h.a.createElementNS(S.GMLNS,"TimeInstant");t.appendChild(i);var n=h.a.createElementNS(S.GMLNS,"timePosition");i.appendChild(n),M.writeStringTextNode(n,e)},Tt.GETFEATURE_SERIALIZERS_={"http://www.opengis.net/wfs":{Query:h.a.makeChildAppender(Tt.writeQuery_)},"http://www.opengis.net/ogc":{During:h.a.makeChildAppender(Tt.writeDuringFilter_),And:h.a.makeChildAppender(Tt.writeLogicalFilter_),Or:h.a.makeChildAppender(Tt.writeLogicalFilter_),Not:h.a.makeChildAppender(Tt.writeNotFilter_),BBOX:h.a.makeChildAppender(Tt.writeBboxFilter_),Contains:h.a.makeChildAppender(Tt.writeContainsFilter_),Intersects:h.a.makeChildAppender(Tt.writeIntersectsFilter_),Within:h.a.makeChildAppender(Tt.writeWithinFilter_),PropertyIsEqualTo:h.a.makeChildAppender(Tt.writeComparisonFilter_),PropertyIsNotEqualTo:h.a.makeChildAppender(Tt.writeComparisonFilter_),PropertyIsLessThan:h.a.makeChildAppender(Tt.writeComparisonFilter_),PropertyIsLessThanOrEqualTo:h.a.makeChildAppender(Tt.writeComparisonFilter_),PropertyIsGreaterThan:h.a.makeChildAppender(Tt.writeComparisonFilter_),PropertyIsGreaterThanOrEqualTo:h.a.makeChildAppender(Tt.writeComparisonFilter_),PropertyIsNull:h.a.makeChildAppender(Tt.writeIsNullFilter_),PropertyIsBetween:h.a.makeChildAppender(Tt.writeIsBetweenFilter_),PropertyIsLike:h.a.makeChildAppender(Tt.writeIsLikeFilter_)}},Tt.writeFilter=function(t){var e=h.a.createElementNS(Tt.OGCNS,"Filter");return Tt.writeFilterCondition_(e,t,[]),e},Tt.writeGetFeature_=function(t,e,i){var n=i[i.length-1],r=b.a.assign({},n);r.node=t,h.a.pushSerializeAndPop(r,Tt.GETFEATURE_SERIALIZERS_,h.a.makeSimpleNodeFactory("Query"),e,i)},Tt.prototype.writeGetFeature=function(t){var e=h.a.createElementNS(Tt.WFSNS,"GetFeature");e.setAttribute("service","WFS"),e.setAttribute("version","1.1.0");var i;if(t&&(t.handle&&e.setAttribute("handle",t.handle),t.outputFormat&&e.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&e.setAttribute("maxFeatures",t.maxFeatures),t.resultType&&e.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&e.setAttribute("startIndex",t.startIndex),void 0!==t.count&&e.setAttribute("count",t.count),i=t.filter,t.bbox)){r.a.assert(t.geometryName,12);var n=St.bbox(t.geometryName,t.bbox,t.srsName);i=i?St.and(i,n):n}h.a.setAttributeNS(e,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation_);var a={node:e,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.featureNS_,featurePrefix:t.featurePrefix,geometryName:t.geometryName,filter:i,propertyNames:t.propertyNames?t.propertyNames:[]};return r.a.assert(Array.isArray(t.featureTypes),11),Tt.writeGetFeature_(e,t.featureTypes,[a]),e},Tt.prototype.writeTransaction=function(t,e,i,n){var r=[],a=h.a.createElementNS(Tt.WFSNS,"Transaction"),o=n.version?n.version:Tt.DEFAULT_VERSION,s="1.0.0"===o?2:3;a.setAttribute("service","WFS"),a.setAttribute("version",o);var l,u;n&&(l=n.gmlOptions?n.gmlOptions:{},n.handle&&a.setAttribute("handle",n.handle)),h.a.setAttributeNS(a,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",Tt.SCHEMA_LOCATIONS[o]);var c=n.featurePrefix?n.featurePrefix:Tt.FEATURE_PREFIX;return t&&(u={node:a,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:c,gmlVersion:s,hasZ:n.hasZ,srsName:n.srsName},b.a.assign(u,l),h.a.pushSerializeAndPop(u,Tt.TRANSACTION_SERIALIZERS_,h.a.makeSimpleNodeFactory("Insert"),t,r)),e&&(u={node:a,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:c,gmlVersion:s,hasZ:n.hasZ,srsName:n.srsName},b.a.assign(u,l),h.a.pushSerializeAndPop(u,Tt.TRANSACTION_SERIALIZERS_,h.a.makeSimpleNodeFactory("Update"),e,r)),i&&h.a.pushSerializeAndPop({node:a,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:c,gmlVersion:s,srsName:n.srsName},Tt.TRANSACTION_SERIALIZERS_,h.a.makeSimpleNodeFactory("Delete"),i,r),n.nativeElements&&h.a.pushSerializeAndPop({node:a,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:c,gmlVersion:s,srsName:n.srsName},Tt.TRANSACTION_SERIALIZERS_,h.a.makeSimpleNodeFactory("Native"),n.nativeElements,r),a},Tt.prototype.readProjectionFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(e);return null},Tt.prototype.readProjectionFromNode=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild){t=t.firstElementChild.firstElementChild;for(var e=t.firstElementChild;e;e=e.nextElementSibling)if(0!==e.childNodes.length&&(1!==e.childNodes.length||3!==e.firstChild.nodeType)){var i=[{}];return this.gmlFormat_.readGeometryElement(e,i),x.default.get(i.pop().srsName)}}return null},e.default=Tt},VbcQ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("/3K7"),a=i("iHAK"),o=i("sR3l"),s=i("SHxT"),l=i("OEyb"),u=i("6t+W"),h=i("ZVo0"),c=i("/LWt"),f=i("mLRC"),d=i("tFCN"),p=i("T4j3"),g=function(t){var e=t||{},i=d.a.assign({},e);delete i.layers;var n=e.layers;f.default.call(this,i),this.layersListenerKeys_=[],this.listenerKeys_={},u.a.listen(this,o.a.getChangeEventType(g.Property_.LAYERS),this.handleLayersChanged_,this),n?Array.isArray(n)?n=new r.default(n.slice(),{unique:!0}):(l.a.assert(n instanceof r.default,43),n=n):n=new r.default(void 0,{unique:!0}),this.setLayers(n)};n.a.inherits(g,f.default),g.prototype.handleLayerChange_=function(){this.changed()},g.prototype.handleLayersChanged_=function(t){this.layersListenerKeys_.forEach(u.a.unlistenByKey),this.layersListenerKeys_.length=0;var e=this.getLayers();this.layersListenerKeys_.push(u.a.listen(e,a.a.ADD,this.handleLayersAdd_,this),u.a.listen(e,a.a.REMOVE,this.handleLayersRemove_,this));for(var i in this.listenerKeys_)this.listenerKeys_[i].forEach(u.a.unlistenByKey);d.a.clear(this.listenerKeys_);var r,o,l,c=e.getArray();for(r=0,o=c.length;o>r;r++)l=c[r],this.listenerKeys_[""+n.a.getUid(l)]=[u.a.listen(l,s.a.PROPERTYCHANGE,this.handleLayerChange_,this),u.a.listen(l,h.a.CHANGE,this.handleLayerChange_,this)];this.changed()},g.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[""+n.a.getUid(e)]=[u.a.listen(e,s.a.PROPERTYCHANGE,this.handleLayerChange_,this),u.a.listen(e,h.a.CHANGE,this.handleLayerChange_,this)],this.changed()},g.prototype.handleLayersRemove_=function(t){var e=t.element,i=""+n.a.getUid(e);this.listenerKeys_[i].forEach(u.a.unlistenByKey),delete this.listenerKeys_[i],this.changed()},g.prototype.getLayers=function(){return this.get(g.Property_.LAYERS)},g.prototype.setLayers=function(t){this.set(g.Property_.LAYERS,t)},g.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},g.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],i=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});var n,r,a,o=this.getLayerState();for(n=i,r=e.length;r>n;n++)a=e[n],a.opacity*=o.opacity,a.visible=a.visible&&o.visible,a.maxResolution=Math.min(a.maxResolution,o.maxResolution),a.minResolution=Math.max(a.minResolution,o.minResolution),void 0!==o.extent&&(a.extent=void 0!==a.extent?c.default.getIntersection(a.extent,o.extent):o.extent);return e},g.prototype.getSourceState=function(){return p.a.READY},g.Property_={LAYERS:"layers"},e.default=g},WTDv:function(t,e,i){"use strict";e.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},"Wnd/":function(t,e,i){"use strict";var n=i("CXX0"),r=i("J25b"),a=function(t,e,i){r.a.call(this,t),this.map=e,this.frameState=void 0!==i?i:null};n.a.inherits(a,r.a),e.a=a},Wuo8:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0,e.default=new(function(){function t(){n(this,t),this._counter=0}return t.prototype.generateId=function(){return"sdk-layer-"+ ++this._counter},t}())},YSwX:function(t,e,i){"use strict";function n(t,e){if("string"==typeof e&&!(0,a.default)(e)&&e.indexOf("filter(")>-1)return o.map(function(t){return e.replace(/filter\(/g,t+"filter(")})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r=i("g86Z"),a=function(t){return t&&t.__esModule?t:{default:t}}(r),o=["-webkit-",""];t.exports=e.default},YcRe:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("6t+W"),r=i("CXX0"),a=i("sR3l"),o=i("w2Al"),s=i("aC3Q"),l=i("o1z/"),u=i("tFCN"),h=i("Jopg"),c=i("LaVj"),f=i("tOEd"),d=function(t){var e=t||{},i=u.a.assign({},e);delete i.gradient,delete i.radius,delete i.blur,delete i.shadow,delete i.weight,s.default.call(this,i),this.gradient_=null,this.shadow_=void 0!==e.shadow?e.shadow:250,this.circleImage_=void 0,this.styleCache_=null,n.a.listen(this,a.a.getChangeEventType(d.Property_.GRADIENT),this.handleGradientChanged_,this),this.setGradient(e.gradient?e.gradient:d.DEFAULT_GRADIENT),this.setBlur(void 0!==e.blur?e.blur:15),this.setRadius(void 0!==e.radius?e.radius:8),n.a.listen(this,a.a.getChangeEventType(d.Property_.BLUR),this.handleStyleChanged_,this),n.a.listen(this,a.a.getChangeEventType(d.Property_.RADIUS),this.handleStyleChanged_,this),this.handleStyleChanged_();var r,o=e.weight?e.weight:"weight";r="string"==typeof o?function(t){return t.get(o)}:o,this.setStyle(function(t,e){var i=r(t),n=void 0!==i?l.a.clamp(i,0,1):1,a=255*n|0,o=this.styleCache_[a];return o||(o=[new f.default({image:new c.default({opacity:n,src:this.circleImage_})})],this.styleCache_[a]=o),o}.bind(this)),this.setRenderOrder(null),n.a.listen(this,h.a.RENDER,this.handleRender_,this)};r.a.inherits(d,s.default),d.DEFAULT_GRADIENT=["#00f","#0ff","#0f0","#ff0","#f00"],d.createGradient_=function(t){for(var e=o.a.createCanvasContext2D(1,256),i=e.createLinearGradient(0,0,1,256),n=1/(t.length-1),r=0,a=t.length;a>r;++r)i.addColorStop(r*n,t[r]);return e.fillStyle=i,e.fillRect(0,0,1,256),e.getImageData(0,0,1,256).data},d.prototype.createCircle_=function(){var t=this.getRadius(),e=this.getBlur(),i=t+e+1,n=2*i,r=o.a.createCanvasContext2D(n,n);r.shadowOffsetX=r.shadowOffsetY=this.shadow_,r.shadowBlur=e,r.shadowColor="#000",r.beginPath();var a=i-this.shadow_;return r.arc(a,a,t,0,2*Math.PI,!0),r.fill(),r.canvas.toDataURL()},d.prototype.getBlur=function(){return this.get(d.Property_.BLUR)},d.prototype.getGradient=function(){return this.get(d.Property_.GRADIENT)},d.prototype.getRadius=function(){return this.get(d.Property_.RADIUS)},d.prototype.handleGradientChanged_=function(){this.gradient_=d.createGradient_(this.getGradient())},d.prototype.handleStyleChanged_=function(){this.circleImage_=this.createCircle_(),this.styleCache_=Array(256),this.changed()},d.prototype.handleRender_=function(t){var e,i,n,r=t.context,a=r.canvas,o=r.getImageData(0,0,a.width,a.height),s=o.data;for(e=0,i=s.length;i>e;e+=4)(n=4*s[e+3])&&(s[e]=this.gradient_[n],s[e+1]=this.gradient_[n+1],s[e+2]=this.gradient_[n+2]);r.putImageData(o,0,0)},d.prototype.setBlur=function(t){this.set(d.Property_.BLUR,t)},d.prototype.setGradient=function(t){this.set(d.Property_.GRADIENT,t)},d.prototype.setRadius=function(t){this.set(d.Property_.RADIUS,t)},d.Property_={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},e.default=d},YyS4:function(t,e,i){"use strict";e.a={POINT:"point",LINE:"line"}},YzAM:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("796y"),a=i("/LWt"),o={};o.jsonp=function(t,e,i,r){function a(){delete window[s],o.parentNode.removeChild(o)}var o=document.createElement("script"),s="olc_"+n.a.getUid(e);o.async=!0,o.src=t+(-1==t.indexOf("?")?"?":"&")+(r||"callback")+"="+s;var l=setTimeout(function(){a(),i&&i()},1e4);window[s]=function(t){clearTimeout(l),a(),e(t)},document.getElementsByTagName("head")[0].appendChild(o)};var s=o,l=i("yGLh"),u=i("T4j3"),h=i("NUc0"),c=i("fGqn"),f=i("7yEG"),d=function(t){this.hidpi_=void 0!==t.hidpi&&t.hidpi,h.a.call(this,{cacheSize:t.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:l.default.get("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:u.a.LOADING,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:this.hidpi_?2:1,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.culture_=void 0!==t.culture?t.culture:"en-us",this.maxZoom_=void 0!==t.maxZoom?t.maxZoom:-1,this.apiKey_=t.key,this.imagerySet_=t.imagerySet,s.jsonp("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+this.apiKey_+"&c="+this.culture_,this.handleImageryMetadataResponse.bind(this),void 0,"jsonp")};n.a.inherits(d,h.a),d.TOS_ATTRIBUTION='<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html">Terms of Use</a>',d.prototype.getApiKey=function(){return this.apiKey_},d.prototype.getImagerySet=function(){return this.imagerySet_},d.prototype.handleImageryMetadataResponse=function(t){if(200!=t.statusCode||"OK"!=t.statusDescription||"ValidCredentials"!=t.authenticationResultCode||1!=t.resourceSets.length||1!=t.resourceSets[0].resources.length)return void this.setState(u.a.ERROR);var e=t.brandLogoUri;-1==e.indexOf("https")&&(e=e.replace("http","https"));var i=t.resourceSets[0].resources[0],n=-1==this.maxZoom_?i.zoomMax:this.maxZoom_,o=this.getProjection(),s=f.a.extentFromProjection(o);this.tileGrid=f.a.createXYZ({extent:s,minZoom:i.zoomMin,maxZoom:n,tileSize:(i.imageWidth==i.imageHeight?i.imageWidth:[i.imageWidth,i.imageHeight])/(this.hidpi_?2:1)});var h=this.culture_,p=this.hidpi_;if(this.tileUrlFunction=r.a.createFromTileUrlFunctions(i.imageUrlSubdomains.map(function(t){var e=[0,0,0],n=i.imageUrl.replace("{subdomain}",t).replace("{culture}",h);return function(t,i,r){if(t){c.a.createOrUpdate(t[0],t[1],-t[2]-1,e);var a=n;return p&&(a+="&dpi=d1&device=mobile"),a.replace("{quadkey}",c.a.quadKey(e))}}})),i.imageryProviders){var g=l.default.getTransformFromProjections(l.default.get("EPSG:4326"),this.getProjection());this.setAttributions(function(t){var e=[],n=t.viewState.zoom;return i.imageryProviders.map(function(i){for(var r=!1,o=i.coverageAreas,s=0,l=o.length;l>s;++s){var u=o[s];if(n>=u.zoomMin&&u.zoomMax>=n){var h=u.bbox,c=[h[1],h[0],h[3],h[2]],f=a.default.applyTransform(c,g);if(a.default.intersects(f,t.extent)){r=!0;break}}}r&&e.push(i.attribution)}),e.push(d.TOS_ATTRIBUTION),e})}this.setLogo(e),this.setState(u.a.READY)},e.default=d},Z2YM:function(t,e,i){"use strict";function n(t,e){return t&&"object"==typeof t&&null!=t.key?u.escape(t.key):e.toString(36)}function r(t,e,i,a){var f=typeof t;if("undefined"!==f&&"boolean"!==f||(t=null),null===t||"string"===f||"number"===f||"object"===f&&t.$$typeof===s)return i(a,t,""===e?h+n(t,0):e),1;var d,p,g=0,m=""===e?h:e+c;if(Array.isArray(t))for(var _=0;t.length>_;_++)d=t[_],p=m+n(d,_),g+=r(d,p,i,a);else{var y=l(t);if(y){var v,E=y.call(t);if(y!==t.entries)for(var b=0;!(v=E.next()).done;)d=v.value,p=m+n(d,b++),g+=r(d,p,i,a);else for(;!(v=E.next()).done;){var x=v.value;x&&(d=x[1],p=m+u.escape(x[0])+c+n(d,0),g+=r(d,p,i,a))}}else if("object"===f){var C=t+"";o("31","[object Object]"===C?"object with keys {"+Object.keys(t).join(", ")+"}":C,"")}}return g}function a(t,e,i){return null==t?0:r(t,"",e,i)}var o=i("x9Ij"),s=(i("FL23"),i("Kmv0")),l=i("OqFn"),u=(i("cxPT"),i("wGaO")),h=(i("YyeZ"),"."),c=":";t.exports=a},ZDkq:function(t,e,i){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},ZVo0:function(t,e,i){"use strict";e.a={CHANGE:"change",CLEAR:"clear",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"}},ZXW8:function(t,e,i){"use strict";var n=i("/LWt"),r={};r.linearRingContainsExtent=function(t,e,i,a,o){return!n.default.forEachCorner(o,function(n){return!r.linearRingContainsXY(t,e,i,a,n[0],n[1])})},r.linearRingContainsXY=function(t,e,i,n,r,a){for(var o=0,s=t[i-n],l=t[i-n+1];i>e;e+=n){var u=t[e],h=t[e+1];l>a?a>=h&&0>(u-s)*(a-l)-(r-s)*(h-l)&&o--:h>a&&(u-s)*(a-l)-(r-s)*(h-l)>0&&o++,s=u,l=h}return 0!==o},r.linearRingsContainsXY=function(t,e,i,n,a,o){if(0===i.length)return!1;if(!r.linearRingContainsXY(t,e,i[0],n,a,o))return!1;var s,l;for(s=1,l=i.length;l>s;++s)if(r.linearRingContainsXY(t,i[s-1],i[s],n,a,o))return!1;return!0},r.linearRingssContainsXY=function(t,e,i,n,a,o){if(0===i.length)return!1;var s,l;for(s=0,l=i.length;l>s;++s){var u=i[s];if(r.linearRingsContainsXY(t,e,u,n,a,o))return!0;e=u[u.length-1]}return!1},e.a=r},Zww1:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("BV9W"),a=i("zF6X"),o=i("J25b"),s=i("/LWt"),l=i("yGLh"),u=i("8r3X"),h=i("6t+W"),c=i("ZVo0"),f=i("N9JB"),d=i("oraU"),p=function(t,e,i,a,o,l){this.targetProj_=e,this.maxSourceExtent_=t.getExtent();var h=e.getExtent(),c=h?s.default.getIntersection(i,h):i,p=s.default.getCenter(c),g=f.a.calculateSourceResolution(t,e,p,a);this.triangulation_=new d.a(t,e,c,this.maxSourceExtent_,g*n.a.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD),this.targetResolution_=a,this.targetExtent_=i,this.sourceImage_=l(this.triangulation_.calculateSourceExtent(),g,o),this.sourcePixelRatio_=this.sourceImage_?this.sourceImage_.getPixelRatio():1,this.canvas_=null,this.sourceListenerKey_=null;var m=r.a.LOADED;this.sourceImage_&&(m=r.a.IDLE),u.a.call(this,i,a,this.sourcePixelRatio_,m)};n.a.inherits(p,u.a),p.prototype.disposeInternal=function(){this.state==r.a.LOADING&&this.unlistenSource_(),u.a.prototype.disposeInternal.call(this)},p.prototype.getImage=function(){return this.canvas_},p.prototype.getProjection=function(){return this.targetProj_},p.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==r.a.LOADED){var e=s.default.getWidth(this.targetExtent_)/this.targetResolution_,i=s.default.getHeight(this.targetExtent_)/this.targetResolution_;this.canvas_=f.a.render(e,i,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},p.prototype.load=function(){if(this.state==r.a.IDLE){this.state=r.a.LOADING,this.changed();var t=this.sourceImage_.getState();t==r.a.LOADED||t==r.a.ERROR?this.reproject_():(this.sourceListenerKey_=h.a.listen(this.sourceImage_,c.a.CHANGE,function(t){var e=this.sourceImage_.getState();e!=r.a.LOADED&&e!=r.a.ERROR||(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},p.prototype.unlistenSource_=function(){h.a.unlistenByKey(this.sourceListenerKey_),this.sourceListenerKey_=null};var g=p,m=i("vLip"),_=function(t){m.a.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state}),this.resolutions_=void 0!==t.resolutions?t.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0};n.a.inherits(_,m.a),_.prototype.getResolutions=function(){return this.resolutions_},_.prototype.findNearestResolution=function(t){return this.resolutions_&&(t=this.resolutions_[a.a.linearFindNearest(this.resolutions_,t,0)]),t},_.prototype.getImage=function(t,e,i,r){var a=this.getProjection();if(n.a.ENABLE_RASTER_REPROJECTION&&a&&r&&!l.default.equivalent(a,r)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&l.default.equivalent(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==e&&s.default.equals(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new g(a,r,t,e,i,function(t,e,i){return this.getImageInternal(t,e,i,a)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return a&&(r=a),this.getImageInternal(t,e,i,r)},_.prototype.getImageInternal=function(t,e,i,n){},_.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case r.a.LOADING:this.dispatchEvent(new _.Event(_.EventType_.IMAGELOADSTART,e));break;case r.a.LOADED:this.dispatchEvent(new _.Event(_.EventType_.IMAGELOADEND,e));break;case r.a.ERROR:this.dispatchEvent(new _.Event(_.EventType_.IMAGELOADERROR,e))}},_.defaultImageLoadFunction=function(t,e){t.getImage().src=e},_.Event=function(t,e){o.a.call(this,t),this.image=e},n.a.inherits(_.Event,o.a),_.EventType_={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},e.default=_},aBQd:function(t,e,i){"use strict";var n=i("CXX0"),r=i("zF6X"),a=i("/LWt"),o=i("aStr"),s=i("U/IR"),l=i("KUw0"),u=i("f5c8"),h=i("bmSR"),c=i("hrLW"),f=i("wupX"),d=i("MB6k"),p=i("pWpL"),g=i("LmAy"),m=function(t,e){u.a.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(t,e)};n.a.inherits(m,u.a),m.prototype.appendLineString=function(t){this.flatCoordinates?r.a.extend(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},m.prototype.clone=function(){var t=new m(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),t},m.prototype.closestPointXY=function(t,e,i,n){return n<a.default.closestSquaredDistanceXY(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(h.a.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),h.a.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,i,n))},m.prototype.getCoordinateAtM=function(t,e,i){return this.layout!=o.a.XYM&&this.layout!=o.a.XYZM||0===this.flatCoordinates.length?null:d.a.lineStringsCoordinateAtM(this.flatCoordinates,0,this.ends_,this.stride,t,void 0!==e&&e,void 0!==i&&i)},m.prototype.getCoordinates=function(){return f.a.coordinatess(this.flatCoordinates,0,this.ends_,this.stride)},m.prototype.getEnds=function(){return this.ends_},m.prototype.getLineString=function(t){if(0>t||t>=this.ends_.length)return null;var e=new l.a(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t])),e},m.prototype.getLineStrings=function(){var t,e,i=this.flatCoordinates,n=this.ends_,r=this.layout,a=[],o=0;for(t=0,e=n.length;e>t;++t){var s=n[t],u=new l.a(null);u.setFlatCoordinates(r,i.slice(o,s)),a.push(u),o=s}return a},m.prototype.getFlatMidpoints=function(){var t,e,i=[],n=this.flatCoordinates,a=0,o=this.ends_,s=this.stride;for(t=0,e=o.length;e>t;++t){var l=o[t],u=d.a.lineString(n,a,l,s,.5);r.a.extend(i,u),a=l}return i},m.prototype.getSimplifiedGeometryInternal=function(t){var e=[],i=[];e.length=g.a.douglasPeuckers(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,i);var n=new m(null);return n.setFlatCoordinates(o.a.XY,e,i),n},m.prototype.getType=function(){return s.a.MULTI_LINE_STRING},m.prototype.intersectsExtent=function(t){return p.a.lineStrings(this.flatCoordinates,0,this.ends_,this.stride,t)},m.prototype.setCoordinates=function(t,e){if(t){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=c.a.coordinatess(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()}else this.setFlatCoordinates(o.a.XY,null,this.ends_)},m.prototype.setFlatCoordinates=function(t,e,i){this.setFlatCoordinatesInternal(t,e),this.ends_=i,this.changed()},m.prototype.setLineStrings=function(t){var e,i,n=this.getLayout(),a=[],o=[];for(e=0,i=t.length;i>e;++e){var s=t[e];0===e&&(n=s.getLayout()),r.a.extend(a,s.getFlatCoordinates()),o.push(a.length)}this.setFlatCoordinates(n,a,o)},e.a=m},aC3Q:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("ECY+"),a=i("bHOE"),o=i("tFCN"),s=i("tOEd"),l=function(t){var e=t||{},i=o.a.assign({},e);delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,a.default.call(this,i),this.declutter_=void 0!==e.declutter&&e.declutter,this.renderBuffer_=void 0!==e.renderBuffer?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=void 0!==e.updateWhileAnimating&&e.updateWhileAnimating,this.updateWhileInteracting_=void 0!==e.updateWhileInteracting&&e.updateWhileInteracting,this.type=r.a.VECTOR};n.a.inherits(l,a.default),l.prototype.getDeclutter=function(){return this.declutter_},l.prototype.setDeclutter=function(t){this.declutter_=t},l.prototype.getRenderBuffer=function(){return this.renderBuffer_},l.prototype.getRenderOrder=function(){return this.get(l.Property_.RENDER_ORDER)},l.prototype.getStyle=function(){return this.style_},l.prototype.getStyleFunction=function(){return this.styleFunction_},l.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},l.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},l.prototype.setRenderOrder=function(t){this.set(l.Property_.RENDER_ORDER,t)},l.prototype.setStyle=function(t){this.style_=void 0!==t?t:s.default.defaultFunction,this.styleFunction_=null===t?void 0:s.default.createFunction(this.style_),this.changed()},l.Property_={RENDER_ORDER:"renderOrder"},e.default=l},aStr:function(t,e,i){"use strict";e.a={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},"aU+A":function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},l=i("GiK3"),u=n(l),h=i("kHw6"),c=n(h),f=i("KSGD"),d=n(f),p=i("0Efu"),g=n(p),m=function(t){function e(i){r(this,e);var n=a(this,t.call(this,i));return n.showMessage=function(t){n.msg.show(t,{time:5e3,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error"})},n}return o(e,t),e.prototype.render=function(){var t=this,e={offset:14,position:"top right",theme:"light",time:5e3,transition:"scale"},i=this.props,n=i.saving,r=i.urls;return u.default.createElement("div",{className:"text-center "+i.extraClasses},u.default.createElement(c.default,s({ref:function(e){return t.msg=e}},e)),n&&u.default.createElement(g.default,{name:"line-scale-pulse-out",color:"steelblue"}),!n&&u.default.createElement("div",null,u.default.createElement("div",{className:"alert alert-success",role:"alert"},"Your Data Saved Successfully"),u.default.createElement("a",{href:r.viewURL,className:"btn btn-lg btn-success"},"Add New Entry")))},e}(l.Component);e.default=m,m.propTypes={saving:d.default.bool.isRequired,urls:d.default.object.isRequired,extraClasses:d.default.string}},azsZ:function(t,e,i){"use strict";var n=i("OEyb"),r={};r.tmp_=Array(6),r.create=function(){return[1,0,0,1,0,0]},r.reset=function(t){return r.set(t,1,0,0,1,0,0)},r.multiply=function(t,e){var i=t[0],n=t[1],r=t[2],a=t[3],o=t[4],s=t[5],l=e[0],u=e[1],h=e[2],c=e[3],f=e[4],d=e[5];return t[0]=i*l+r*u,t[1]=n*l+a*u,t[2]=i*h+r*c,t[3]=n*h+a*c,t[4]=i*f+r*d+o,t[5]=n*f+a*d+s,t},r.set=function(t,e,i,n,r,a,o){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=a,t[5]=o,t},r.setFromArray=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},r.apply=function(t,e){var i=e[0],n=e[1];return e[0]=t[0]*i+t[2]*n+t[4],e[1]=t[1]*i+t[3]*n+t[5],e},r.rotate=function(t,e){var i=Math.cos(e),n=Math.sin(e);return r.multiply(t,r.set(r.tmp_,i,n,-n,i,0,0))},r.scale=function(t,e,i){return r.multiply(t,r.set(r.tmp_,e,0,0,i,0,0))},r.translate=function(t,e,i){return r.multiply(t,r.set(r.tmp_,1,0,0,1,e,i))},r.compose=function(t,e,i,n,r,a,o,s){var l=Math.sin(a),u=Math.cos(a);return t[0]=n*u,t[1]=r*l,t[2]=-n*l,t[3]=r*u,t[4]=o*n*u-s*n*l+e,t[5]=o*r*l+s*r*u+i,t},r.invert=function(t){var e=r.determinant(t);n.a.assert(0!==e,32);var i=t[0],a=t[1],o=t[2],s=t[3],l=t[4],u=t[5];return t[0]=s/e,t[1]=-a/e,t[2]=-o/e,t[3]=i/e,t[4]=(o*u-s*l)/e,t[5]=-(i*u-a*l)/e,t},r.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},e.a=r},bHOE:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("6t+W"),r=i("ZVo0"),a=i("CXX0"),o=i("sR3l"),s=i("mLRC"),l=i("8gh8"),u=i("tFCN"),h=i("Jopg"),c=i("T4j3"),f=function(t){var e=u.a.assign({},t);delete e.source,s.default.call(this,e),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,t.map&&this.setMap(t.map),n.a.listen(this,o.a.getChangeEventType(l.a.SOURCE),this.handleSourcePropertyChange_,this),this.setSource(t.source?t.source:null)};a.a.inherits(f,s.default),f.visibleAtResolution=function(t,e){return t.visible&&e>=t.minResolution&&t.maxResolution>e},f.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},f.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},f.prototype.getSource=function(){return this.get(l.a.SOURCE)||null},f.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():c.a.UNDEFINED},f.prototype.handleSourceChange_=function(){this.changed()},f.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(n.a.unlistenByKey(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=n.a.listen(t,r.a.CHANGE,this.handleSourceChange_,this)),this.changed()},f.prototype.setMap=function(t){this.mapPrecomposeKey_&&(n.a.unlistenByKey(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(n.a.unlistenByKey(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=n.a.listen(t,h.a.PRECOMPOSE,function(t){var e=this.getLayerState();e.managed=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[a.a.getUid(this)]=e},this),this.mapRenderKey_=n.a.listen(this,r.a.CHANGE,t.render,t),this.changed())},f.prototype.setSource=function(t){this.set(l.a.SOURCE,t)},e.default=f},"beD/":function(t,e,i){"use strict";var n=i("FeXB"),r=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};r.getKey=function(t,e,i){return e+":"+t+":"+(i?n.a.asString(i):"null")},r.prototype.clear=function(){this.cache_={},this.cacheSize_=0},r.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t,e,i=0;for(t in this.cache_)e=this.cache_[t],0!=(3&i++)||e.hasListener()||(delete this.cache_[t],--this.cacheSize_)}},r.prototype.get=function(t,e,i){var n=r.getKey(t,e,i);return n in this.cache_?this.cache_[n]:null},r.prototype.set=function(t,e,i,n){this.cache_[r.getKey(t,e,i)]=n,++this.cacheSize_};var a=r,o={};o.iconImageCache=new a,e.a=o},bmSR:function(t,e,i){"use strict";var n=i("o1z/"),r={};r.point=function(t,e,i,r,a,o,s){var l,u,h=t[e],c=t[e+1],f=t[i]-h,d=t[i+1]-c;if(0===f&&0===d)u=e;else{var p=((a-h)*f+(o-c)*d)/(f*f+d*d);if(p>1)u=i;else{if(p>0){for(l=0;r>l;++l)s[l]=n.a.lerp(t[e+l],t[i+l],p);return void(s.length=r)}u=e}}for(l=0;r>l;++l)s[l]=t[u+l];s.length=r},r.getMaxSquaredDelta=function(t,e,i,r,a){var o=t[e],s=t[e+1];for(e+=r;i>e;e+=r){var l=t[e],u=t[e+1],h=n.a.squaredDistance(o,s,l,u);h>a&&(a=h),o=l,s=u}return a},r.getsMaxSquaredDelta=function(t,e,i,n,a){var o,s;for(o=0,s=i.length;s>o;++o){var l=i[o];a=r.getMaxSquaredDelta(t,e,l,n,a),e=l}return a},r.getssMaxSquaredDelta=function(t,e,i,n,a){var o,s;for(o=0,s=i.length;s>o;++o){var l=i[o];a=r.getsMaxSquaredDelta(t,e,l,n,a),e=l[l.length-1]}return a},r.getClosestPoint=function(t,e,i,a,o,s,l,u,h,c,f){if(e==i)return c;var d,p;if(0===o){if(p=n.a.squaredDistance(l,u,t[e],t[e+1]),c>p){for(d=0;a>d;++d)h[d]=t[e+d];return h.length=a,p}return c}for(var g=f||[NaN,NaN],m=e+a;i>m;)if(r.point(t,m-a,m,a,l,u,g),p=n.a.squaredDistance(l,u,g[0],g[1]),c>p){for(c=p,d=0;a>d;++d)h[d]=g[d];h.length=a,m+=a}else m+=a*Math.max((Math.sqrt(p)-Math.sqrt(c))/o|0,1);if(s&&(r.point(t,i-a,e,a,l,u,g),p=n.a.squaredDistance(l,u,g[0],g[1]),c>p)){for(c=p,d=0;a>d;++d)h[d]=g[d];h.length=a}return c},r.getsClosestPoint=function(t,e,i,n,a,o,s,l,u,h,c){var f,d,p=c||[NaN,NaN];for(f=0,d=i.length;d>f;++f){var g=i[f];h=r.getClosestPoint(t,e,g,n,a,o,s,l,u,h,p),e=g}return h},r.getssClosestPoint=function(t,e,i,n,a,o,s,l,u,h,c){var f,d,p=c||[NaN,NaN];for(f=0,d=i.length;d>f;++f){var g=i[f];h=r.getsClosestPoint(t,e,g,n,a,o,s,l,u,h,p),e=g[g.length-1]}return h},e.a=r},"bvC/":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("tCFE");e.default=(0,function(t){return t&&t.__esModule?t:{default:t}}(n).default)("div")({width:"50px",height:"100%",borderRadius:"0 2px 2px 0",cursor:"pointer",position:"absolute",top:0,right:0,":hover":{opacity:"0.5"}},function(t){return{background:"url('data:image/svg+xml;utf8,<svg fill=\""+(t.glam.dark?"%23fff":"%23333")+'" xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 0 48 48" width="48"><path d="M38 12.83l-2.83-2.83-11.17 11.17-11.17-11.17-2.83 2.83 11.17 11.17-11.17 11.17 2.83 2.83 11.17-11.17 11.17 11.17 2.83-2.83-11.17-11.17z"/><path d="M0 0h48v48h-48z" fill="none"/></svg>\') no-repeat',backgroundPosition:"50%",backgroundSize:"25px",backgroundColor:(t.glam.dark?"#444":"#f3f3f3")+" !important"}})},c5ES:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},l=i("GiK3"),u=n(l),h=i("cZEL"),c=n(h),f=i("2YNO"),d=n(f),p=i("Aa1x"),g=n(p),m=i("TM+o"),_=i("slXJ"),y=n(_),v=i("AAKd"),E=n(v),b=i("KSGD"),x=n(b),C=i("aU+A"),S=n(C),T=i("HW6M"),R=n(T),M=function(t){function e(i){r(this,e);var n=a(this,t.call(this,i));return w.call(n),n}return o(e,t),e.prototype.render=function(){var t=this;return u.default.createElement("div",{className:"container"},u.default.createElement("div",{className:" row wrap"},this.props.childrenProps.showHistory&&u.default.createElement(y.default,this.getModalProps()),u.default.createElement(m.NavigationButtons,this.getNavigationProps()),u.default.createElement(m.Header,this.getHeaderProps()),u.default.createElement(c.default,this.getAttrsFormProps()),u.default.createElement(g.default,this.getFileFormProps()),u.default.createElement(E.default,this.getLocationFormProps()),u.default.createElement(d.default,this.getDetailsPageProps()),u.default.createElement(S.default,s({ref:function(e){return t.savingPanel=e}},this.getSavingPanelProps()))))},e}(l.Component),w=function(){var t=this;this.showMessage=function(e,i){t.savingPanel.showMessage(e,i)},this.getAttrsFormProps=function(){var e=t.props.childrenProps;return{schema:e.schema,fields:e.fields,value:e.value,toggleComponent:e.toggleComponent,onSave:e.setFormValue,extraClasses:(0,R.default)({hidden:"attrsForm"!==e.currentComponent})}},this.getHeaderProps=function(){return{config:t.props.childrenProps.config}},this.getFileFormProps=function(){var e=t.props.childrenProps;return{file:e.file,extraClasses:(0,R.default)({hidden:"fileForm"!==e.currentComponent}),onSave:e.setFileFormValue,toggleComponent:e.toggleComponent}},this.getLocationFormProps=function(){var e=t.props.childrenProps;return{locationValue:e.locationValue,map:e.map,extraClasses:(0,R.default)({hidden:"locationForm"!==e.currentComponent}),onSave:e.changeLocationValue,mapInit:e.mapInit,toggleComponent:e.toggleComponent}},this.getDetailsPageProps=function(){var e=t.props.childrenProps;return{value:e.value,file:e.file,extraClasses:(0,R.default)({hidden:"detailsPage"!==e.currentComponent}),saveAll:e.saveAll,toggleComponent:e.toggleComponent}},this.getSavingPanelProps=function(){var e=t.props.childrenProps;return{saving:e.saving,urls:e.urls,extraClasses:(0,R.default)({hidden:"savingPanel"!==e.currentComponent})}},this.getModalProps=function(){var e=t.props.childrenProps;return{layer:e.config.config.layer,close:e.showHistoryModal,urls:e.urls}},this.getNavigationProps=function(){var e=t.props.childrenProps;return{config:e.config,showHistoryModal:e.showHistoryModal,urls:e.urls}}};M.propTypes={childrenProps:x.default.object.isRequired},e.default=M},cCXU:function(t,e,i){"use strict";var n=i("ZVo0");e.a={SINGLECLICK:"singleclick",CLICK:n.a.CLICK,DBLCLICK:n.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},cFFW:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=!("undefined"==typeof window||!window.document||!window.document.createElement),t.exports=e.default},cURS:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("OEyb"),a=i("p8Td"),o=i("JdA6"),s=i("doJF"),l=function(){o.a.call(this)};n.a.inherits(l,o.a),l.prototype.getObject_=function(t){if("string"==typeof t){return JSON.parse(t)||null}return null!==t?t:null},l.prototype.getType=function(){return s.a.JSON},l.prototype.readFeature=function(t,e){return this.readFeatureFromObject(this.getObject_(t),this.getReadOptions(t,e))},l.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(this.getObject_(t),this.getReadOptions(t,e))},l.prototype.readFeatureFromObject=function(t,e){},l.prototype.readFeaturesFromObject=function(t,e){},l.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(this.getObject_(t),this.getReadOptions(t,e))},l.prototype.readGeometryFromObject=function(t,e){},l.prototype.readProjection=function(t){return this.readProjectionFromObject(this.getObject_(t))},l.prototype.readProjectionFromObject=function(t){},l.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},l.prototype.writeFeatureObject=function(t,e){},l.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},l.prototype.writeFeaturesObject=function(t,e){},l.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},l.prototype.writeGeometryObject=function(t,e){};var u=l,h=i("6t+W"),c=i("ZVo0"),f=i("/LWt"),d=i("A6q1"),p=i("U/IR"),g=i("tFCN"),m=function(t){d.a.call(this),this.geometries_=t||null,this.listenGeometriesChange_()};n.a.inherits(m,d.a),m.cloneGeometries_=function(t){var e,i,n=[];for(e=0,i=t.length;i>e;++e)n.push(t[e].clone());return n},m.prototype.unlistenGeometriesChange_=function(){var t,e;if(this.geometries_)for(t=0,e=this.geometries_.length;e>t;++t)h.a.unlisten(this.geometries_[t],c.a.CHANGE,this.changed,this)},m.prototype.listenGeometriesChange_=function(){var t,e;if(this.geometries_)for(t=0,e=this.geometries_.length;e>t;++t)h.a.listen(this.geometries_[t],c.a.CHANGE,this.changed,this)},m.prototype.clone=function(){var t=new m(null);return t.setGeometries(this.geometries_),t},m.prototype.closestPointXY=function(t,e,i,n){if(n<f.default.closestSquaredDistanceXY(this.getExtent(),t,e))return n;var r,a,o=this.geometries_;for(r=0,a=o.length;a>r;++r)n=o[r].closestPointXY(t,e,i,n);return n},m.prototype.containsXY=function(t,e){var i,n,r=this.geometries_;for(i=0,n=r.length;n>i;++i)if(r[i].containsXY(t,e))return!0;return!1},m.prototype.computeExtent=function(t){f.default.createOrUpdateEmpty(t);for(var e=this.geometries_,i=0,n=e.length;n>i;++i)f.default.extend(t,e[i].getExtent());return t},m.prototype.getGeometries=function(){return m.cloneGeometries_(this.geometries_)},m.prototype.getGeometriesArray=function(){return this.geometries_},m.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(g.a.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),0>t||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&this.simplifiedGeometryMaxMinSquaredTolerance>t)return this;var e=""+t;if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var i,n,r=[],a=this.geometries_,o=!1;for(i=0,n=a.length;n>i;++i){var s=a[i],l=s.getSimplifiedGeometry(t);r.push(l),l!==s&&(o=!0)}if(o){var u=new m(null);return u.setGeometriesArray(r),this.simplifiedGeometryCache[e]=u,u}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},m.prototype.getType=function(){return p.a.GEOMETRY_COLLECTION},m.prototype.intersectsExtent=function(t){var e,i,n=this.geometries_;for(e=0,i=n.length;i>e;++e)if(n[e].intersectsExtent(t))return!0;return!1},m.prototype.isEmpty=function(){return 0===this.geometries_.length},m.prototype.rotate=function(t,e){for(var i=this.geometries_,n=0,r=i.length;r>n;++n)i[n].rotate(t,e);this.changed()},m.prototype.scale=function(t,e,i){var n=i;n||(n=f.default.getCenter(this.getExtent()));for(var r=this.geometries_,a=0,o=r.length;o>a;++a)r[a].scale(t,e,n);this.changed()},m.prototype.setGeometries=function(t){this.setGeometriesArray(m.cloneGeometries_(t))},m.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},m.prototype.applyTransform=function(t){var e,i,n=this.geometries_;for(e=0,i=n.length;i>e;++e)n[e].applyTransform(t);this.changed()},m.prototype.translate=function(t,e){var i,n,r=this.geometries_;for(i=0,n=r.length;n>i;++i)r[i].translate(t,e);this.changed()},m.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),d.a.prototype.disposeInternal.call(this)};var _=m,y=i("KUw0"),v=i("aBQd"),E=i("dyCJ"),b=i("5spe"),x=i("qxxq"),C=i("xL0k"),S=i("yGLh"),T=function(t){var e=t||{};u.call(this),this.defaultDataProjection=S.default.get(e.defaultDataProjection?e.defaultDataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=S.default.get(e.featureProjection)),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName};n.a.inherits(T,u),T.readGeometry_=function(t,e){return t?o.a.transformWithOptions((0,T.GEOMETRY_READERS_[t.type])(t),!1,e):null},T.readGeometryCollectionGeometry_=function(t,e){var i=t.geometries.map(function(t){return T.readGeometry_(t,e)});return new _(i)},T.readPointGeometry_=function(t){return new x.default(t.coordinates)},T.readLineStringGeometry_=function(t){return new y.a(t.coordinates)},T.readMultiLineStringGeometry_=function(t){return new v.a(t.coordinates)},T.readMultiPointGeometry_=function(t){return new E.default(t.coordinates)},T.readMultiPolygonGeometry_=function(t){return new b.a(t.coordinates)},T.readPolygonGeometry_=function(t){return new C.a(t.coordinates)},T.writeGeometry_=function(t,e){return(0,T.GEOMETRY_WRITERS_[t.getType()])(o.a.transformWithOptions(t,!0,e),e)},T.writeEmptyGeometryCollectionGeometry_=function(t){return{type:"GeometryCollection",geometries:[]}},T.writeGeometryCollectionGeometry_=function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(t){var i=g.a.assign({},e);return delete i.featureProjection,T.writeGeometry_(t,i)})}},T.writeLineStringGeometry_=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}},T.writeMultiLineStringGeometry_=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}},T.writeMultiPointGeometry_=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}},T.writeMultiPolygonGeometry_=function(t,e){var i;return e&&(i=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(i)}},T.writePointGeometry_=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}},T.writePolygonGeometry_=function(t,e){var i;return e&&(i=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(i)}},T.GEOMETRY_READERS_={Point:T.readPointGeometry_,LineString:T.readLineStringGeometry_,Polygon:T.readPolygonGeometry_,MultiPoint:T.readMultiPointGeometry_,MultiLineString:T.readMultiLineStringGeometry_,MultiPolygon:T.readMultiPolygonGeometry_,GeometryCollection:T.readGeometryCollectionGeometry_},T.GEOMETRY_WRITERS_={Point:T.writePointGeometry_,LineString:T.writeLineStringGeometry_,Polygon:T.writePolygonGeometry_,MultiPoint:T.writeMultiPointGeometry_,MultiLineString:T.writeMultiLineStringGeometry_,MultiPolygon:T.writeMultiPolygonGeometry_,GeometryCollection:T.writeGeometryCollectionGeometry_,Circle:T.writeEmptyGeometryCollectionGeometry_},T.prototype.readFeatureFromObject=function(t,e){var i=null;i="Feature"===t.type?t:{type:"Feature",geometry:t};var n=T.readGeometry_(i.geometry,e),r=new a.default;return this.geometryName_?r.setGeometryName(this.geometryName_):this.extractGeometryName_&&void 0!==i.geometry_name&&r.setGeometryName(i.geometry_name),r.setGeometry(n),void 0!==i.id&&r.setId(i.id),i.properties&&r.setProperties(i.properties),r},T.prototype.readFeaturesFromObject=function(t,e){var i=t,n=null;if("FeatureCollection"===i.type){var r=t;n=[];var a,o,s=r.features;for(a=0,o=s.length;o>a;++a)n.push(this.readFeatureFromObject(s[a],e))}else n=[this.readFeatureFromObject(t,e)];return n},T.prototype.readGeometryFromObject=function(t,e){return T.readGeometry_(t,e)},T.prototype.readProjectionFromObject=function(t){var e,i=t,n=i.crs;return n?"name"==n.type?e=S.default.get(n.properties.name):r.a.assert(!1,36):e=this.defaultDataProjection,e},T.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var i={type:"Feature"},n=t.getId();void 0!==n&&(i.id=n);var r=t.getGeometry();i.geometry=r?T.writeGeometry_(r,e):null;var a=t.getProperties();return delete a[t.getGeometryName()],i.properties=g.a.isEmpty(a)?null:a,i},T.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);var i,n,r=[];for(i=0,n=t.length;n>i;++i)r.push(this.writeFeatureObject(t[i],e));return{type:"FeatureCollection",features:r}},T.prototype.writeGeometryObject=function(t,e){return T.writeGeometry_(t,this.adaptOptions(e))},e.default=T},cWyq:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){for(var e in t){var i=t[e],n=(0,h.default)(I,e,i,t,P);n&&(t[e]=n),(0,l.default)(P,e,t)}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var a=i("i496"),o=n(a),s=i("5+ax"),l=n(s),u=i("IIJD"),h=n(u),c=i("/r5S"),f=n(c),d=i("J6J5"),p=n(d),g=i("YSwX"),m=n(g),_=i("hij0"),y=n(_),v=i("xYKS"),E=n(v),b=i("gz2j"),x=n(b),C=i("gw3v"),S=n(C),T=i("kETm"),R=n(T),M=i("0qHO"),w=n(M),O=i("oc8V"),A=n(O),I=[p.default,f.default,m.default,E.default,x.default,S.default,R.default,w.default,A.default,y.default],P=o.default.prefixMap},cZEL:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i("GiK3"),l=n(s),u=i("KSGD"),h=n(u),c=i("03MR"),f=n(c),d=function(t){function e(){var i,n,o;r(this,e);for(var s=arguments.length,l=Array(s),u=0;s>u;u++)l[u]=arguments[u];return i=n=a(this,t.call.apply(t,[this].concat(l))),n.save=function(){var t=n.props,e=t.onSave,i=t.toggleComponent,r=n.form.getValue();r&&(e(r),i("fileForm"))},o=i,a(n,o)}return o(e,t),e.prototype.render=function(){var t=this,e=this.props,i=e.schema,n=e.value,r=e.fields;return l.default.createElement("div",{className:e.extraClasses},l.default.createElement("div",{className:"panel panel-primary"},l.default.createElement("div",{className:"panel-heading"},"Enter Information"),l.default.createElement("div",{className:"panel-body"},l.default.createElement(f.default.form.Form,{ref:function(e){return t.form=e},type:f.default.struct(i),options:{fields:r},value:n}))),l.default.createElement("div",{className:"row"},l.default.createElement("div",{className:"col-xs-12 col-sm-6 col-md-4 col-lg-4 col-sm-offset-3 col-md-offset-4 col-lg-offset-4 "},l.default.createElement("button",{onClick:function(){return t.save()},className:"btn btn-block btn-primary"},"Next"))))},e}(s.Component);e.default=d,d.propTypes={schema:h.default.object.isRequired,value:h.default.object.isRequired,fields:h.default.object.isRequired,extraClasses:h.default.string,onSave:h.default.func.isRequired,toggleComponent:h.default.func.isRequired}},clia:function(t,e,i){"use strict";e.__esModule=!0,e.doPost=e.doGet=void 0;var n=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r=i("v6PS");e.doGet=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(t,{method:"GET",credentials:"include",headers:n({"X-CSRFToken":(0,r.getCRSFToken)()},e)}).then(function(t){return t.json()})},e.doPost=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"json";return fetch(t,{method:"POST",credentials:"include",headers:new Headers(n({"X-CSRFToken":(0,r.getCRSFToken)()},i)),body:e}).then(function(t){return"json"===a?t.json():"xml"===a?t.text():void 0})}},cnnw:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},l=i("GiK3"),u=n(l),h=i("KSGD"),c=(n(h),i("tW2u")),f=n(c),d=i("UE8d"),p=n(d),g=i("QzNM"),m=((0,g.transitionTimeout)("Appear"),(0,g.transitionTimeout)("Enter"),(0,g.transitionTimeout)("Leave"),{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}),_=function(t){function e(){var i,n,o;r(this,e);for(var s=arguments.length,l=Array(s),h=0;s>h;h++)l[h]=arguments[h];return i=n=a(this,t.call.apply(t,[this].concat(l))),n._wrapChild=function(t){return u.default.createElement(p.default,{name:n.props.transitionName,appear:n.props.transitionAppear,enter:n.props.transitionEnter,leave:n.props.transitionLeave,appearTimeout:n.props.transitionAppearTimeout,enterTimeout:n.props.transitionEnterTimeout,leaveTimeout:n.props.transitionLeaveTimeout},t)},o=i,a(n,o)}return o(e,t),e.prototype.render=function(){return u.default.createElement(f.default,s({},this.props,{childFactory:this._wrapChild}))},e}(u.default.Component);_.displayName="CSSTransitionGroup",_.propTypes={},_.defaultProps=m,e.default=_,t.exports=e.default},dDPv:function(t,e,i){"use strict";var n=i("CXX0"),r=i("mkUQ"),a=i("6t+W"),o=i("J25b"),s=function(){r.a.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}};n.a.inherits(s,r.a),s.prototype.addEventListener=function(t,e){var i=this.listeners_[t];i||(i=this.listeners_[t]=[]),-1===i.indexOf(e)&&i.push(e)},s.prototype.dispatchEvent=function(t){var e="string"==typeof t?new o.a(t):t,i=e.type;e.target=this;var r,a=this.listeners_[i];if(a){i in this.dispatching_||(this.dispatching_[i]=0,this.pendingRemovals_[i]=0),++this.dispatching_[i];for(var s=0,l=a.length;l>s;++s)if(!1===a[s].call(this,e)||e.propagationStopped){r=!1;break}if(0==--this.dispatching_[i]){var u=this.pendingRemovals_[i];for(delete this.pendingRemovals_[i];u--;)this.removeEventListener(i,n.a.nullFunction);delete this.dispatching_[i]}return r}},s.prototype.disposeInternal=function(){a.a.unlistenAll(this)},s.prototype.getListeners=function(t){return this.listeners_[t]},s.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},s.prototype.removeEventListener=function(t,e){var i=this.listeners_[t];if(i){var r=i.indexOf(e);t in this.pendingRemovals_?(i[r]=n.a.nullFunction,++this.pendingRemovals_[t]):(i.splice(r,1),0===i.length&&delete this.listeners_[t])}},e.a=s},dJCB:function(t,e,i){"use strict";e.a={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}},dkMO:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},l=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i("GiK3"),h=n(u),c=i("KSGD"),f=n(c),d=i("UVf0"),p=i("F0gO"),g=n(p),m=i("U9ya"),_=n(m),y=i("ruFS"),v=n(y),E=function(t){function e(){var t,i,n,o;r(this,e);for(var l=arguments.length,u=Array(l),h=0;l>h;h++)u[h]=arguments[h];return i=n=a(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),n.state={alerts:[]},n.success=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.type="success",n.show(t,e)},n.error=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.type="error",n.show(t,e)},n.info=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.type="info",n.show(t,e)},n.show=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.props,r=i.theme,a=i.time,o=s({id:(0,g.default)(7),message:t,time:a,theme:r},e);return n.setState(function(t){return{alerts:t.alerts.concat(o)}}),o.id},n.removeAll=function(){var t=n.state.alerts;n.setState({alerts:[]}),t.forEach(function(t){return t.onClose&&t.onClose()})},n.removeAlert=function(t){var e=n.state.alerts.filter(function(e){return e.id===t})[0];n.setState(function(e){return{alerts:e.alerts.filter(function(e){return e.id!==t})}}),e&&e.onClose&&e.onClose()},o=i,a(n,o)}return o(e,t),l(e,[{key:"render",value:function(){var t=this,e=this.props;return h.default.createElement(_.default,{glam:{position:e.position,offset:e.offset}},h.default.createElement(d.CSSTransitionGroup,{transitionName:e.transition,transitionEnterTimeout:250,transitionLeaveTimeout:250},this.state.alerts.map(function(e){return h.default.createElement(v.default,s({key:e.id},e,{onRemoveAlert:t.removeAlert}))})))}}]),e}(u.Component);E.defaultProps={offset:14,position:"bottom left",theme:"dark",time:5e3,transition:"scale"},E.propTypes={offset:f.default.number,position:f.default.oneOf(["bottom left","bottom right","top right","top left","top center","bottom center"]),theme:f.default.oneOf(["dark","light"]),time:f.default.number,transition:f.default.oneOf(["scale","fade"])},e.default=E},doJF:function(t,e,i){"use strict";e.a={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},dx3C:function(t,e,i){"use strict";function n(t){return(""+t).replace(E,"$&/")}function r(t,e){this.func=t,this.context=e,this.count=0}function a(t,e,i){t.func.call(t.context,e,t.count++)}function o(t,e,i){if(null==t)return t;var n=r.getPooled(e,i);_(t,a,n),r.release(n)}function s(t,e,i,n){this.result=t,this.keyPrefix=e,this.func=i,this.context=n,this.count=0}function l(t,e,i){var r=t.result,a=t.keyPrefix,o=t.func,s=t.context,l=o.call(s,e,t.count++);Array.isArray(l)?u(l,r,i,m.thatReturnsArgument):null!=l&&(g.isValidElement(l)&&(l=g.cloneAndReplaceKey(l,a+(!l.key||e&&e.key===l.key?"":n(l.key)+"/")+i)),r.push(l))}function u(t,e,i,r,a){var o="";null!=i&&(o=n(i)+"/");var u=s.getPooled(e,o,r,a);_(t,l,u),s.release(u)}function h(t,e,i){if(null==t)return t;var n=[];return u(t,n,null,e,i),n}function c(t,e,i){return null}function f(t,e){return _(t,c,null)}function d(t){var e=[];return u(t,e,null,m.thatReturnsArgument),e}var p=i("QTYG"),g=i("+w9S"),m=i("e6+Q"),_=i("Z2YM"),y=p.twoArgumentPooler,v=p.fourArgumentPooler,E=/\/+/g;r.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},p.addPoolingTo(r,y),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},p.addPoolingTo(s,v),t.exports={forEach:o,map:h,mapIntoWithKeyPrefixInternal:u,count:f,toArray:d}},dyCJ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("zF6X"),a=i("/LWt"),o=i("aStr"),s=i("U/IR"),l=i("qxxq"),u=i("f5c8"),h=i("hrLW"),c=i("wupX"),f=i("o1z/"),d=function(t,e){u.a.call(this),this.setCoordinates(t,e)};n.a.inherits(d,u.a),d.prototype.appendPoint=function(t){this.flatCoordinates?r.a.extend(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},d.prototype.clone=function(){var t=new d(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),t},d.prototype.closestPointXY=function(t,e,i,n){if(n<a.default.closestSquaredDistanceXY(this.getExtent(),t,e))return n;var r,o,s,l=this.flatCoordinates,u=this.stride;for(r=0,o=l.length;o>r;r+=u){var h=f.a.squaredDistance(t,e,l[r],l[r+1]);if(n>h){for(n=h,s=0;u>s;++s)i[s]=l[r+s];i.length=u}}return n},d.prototype.getCoordinates=function(){return c.a.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},d.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;if(0>t||t>=e)return null;var i=new l.default(null);return i.setFlatCoordinates(this.layout,this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride)),i},d.prototype.getPoints=function(){var t,e,i=this.flatCoordinates,n=this.layout,r=this.stride,a=[];for(t=0,e=i.length;e>t;t+=r){var o=new l.default(null);o.setFlatCoordinates(n,i.slice(t,t+r)),a.push(o)}return a},d.prototype.getType=function(){return s.a.MULTI_POINT},d.prototype.intersectsExtent=function(t){var e,i,n,r,o=this.flatCoordinates,s=this.stride;for(e=0,i=o.length;i>e;e+=s)if(n=o[e],r=o[e+1],a.default.containsXY(t,n,r))return!0;return!1},d.prototype.setCoordinates=function(t,e){t?(this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=h.a.coordinates(this.flatCoordinates,0,t,this.stride),this.changed()):this.setFlatCoordinates(o.a.XY,null)},d.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e),this.changed()},e.default=d},e9JR:function(t,e,i){"use strict";function n(t){return a.isValidElement(t)||r("143"),t}var r=i("x9Ij"),a=i("+w9S");i("cxPT"),t.exports=n},emf4:function(t,e,i){"use strict";function n(t,e){if(!(this instanceof n))return new n(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function r(t,e,i){if(!i)return e.indexOf(t);for(var n=0;e.length>n;n++)if(i(t,e[n]))return n;return-1}function a(t,e){o(t,0,t.children.length,e,t)}function o(t,e,i,n,r){r||(r=m(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var a,o=e;i>o;o++)a=t.children[o],s(r,t.leaf?n(a):a);return r}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function c(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function d(t,e){var i=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),a=Math.min(t.maxY,e.maxY);return Math.max(0,r-i)*Math.max(0,a-n)}function p(t,e){return!(t.minX>e.minX||t.minY>e.minY||e.maxX>t.maxX||e.maxY>t.maxY)}function g(t,e){return!(e.minX>t.maxX||e.minY>t.maxY||t.minX>e.maxX||t.minY>e.maxY)}function m(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _(t,e,i,n,r){for(var a,o=[e,i];o.length;)i=o.pop(),e=o.pop(),i-e>n&&(a=e+Math.ceil((i-e)/n/2)*n,y(t,a,e,i,r),o.push(e,a,a,i))}t.exports=n;var y=i("ILa1");n.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],n=this.toBBox;if(!g(t,e))return i;for(var r,a,o,s,l=[];e;){for(r=0,a=e.children.length;a>r;r++)o=e.children[r],s=e.leaf?n(o):o,g(t,s)&&(e.leaf?i.push(o):p(t,s)?this._all(o,i):l.push(o));e=l.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!g(t,e))return!1;for(var n,r,a,o,s=[];e;){for(n=0,r=e.children.length;r>n;n++)if(a=e.children[n],o=e.leaf?i(a):a,g(t,o)){if(e.leaf||p(t,o))return!0;s.push(a)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(this._minEntries>t.length){for(var e=0,i=t.length;i>e;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(n.height>this.data.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(t,e){if(!t)return this;for(var i,n,a,o,s=this.data,l=this.toBBox(t),u=[],h=[];s||u.length;){if(s||(s=u.pop(),n=u[u.length-1],i=h.pop(),o=!0),s.leaf&&-1!==(a=r(t,s.children,e)))return s.children.splice(a,1),u.push(s),this._condense(u),this;o||s.leaf||!p(s,l)?n?(i++,s=n.children[i],o=!1):s=null:(u.push(s),h.push(i),i=0,n=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:l,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,n){var r,o=i-e+1,s=this._maxEntries;if(s>=o)return r=m(t.slice(e,i+1)),a(r,this.toBBox),r;n||(n=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,n-1))),r=m([]),r.leaf=!1,r.height=n;var l,u,h,c,f=Math.ceil(o/s),d=f*Math.ceil(Math.sqrt(s));for(_(t,e,i,d,this.compareMinX),l=e;i>=l;l+=d)for(h=Math.min(l+d-1,i),_(t,l,h,f,this.compareMinY),u=l;h>=u;u+=f)c=Math.min(u+f-1,h),r.children.push(this._build(t,u,c,n-1));return a(r,this.toBBox),r},_chooseSubtree:function(t,e,i,n){for(var r,a,o,s,l,u,c,d;n.push(e),!e.leaf&&n.length-1!==i;){for(c=d=1/0,r=0,a=e.children.length;a>r;r++)o=e.children[r],l=h(o),u=f(t,o)-l,d>u?(d=u,c=c>l?l:c,s=o):u===d&&c>l&&(c=l,s=o);e=s||e.children[0]}return e},_insert:function(t,e,i){var n=this.toBBox,r=i?t:n(t),a=[],o=this._chooseSubtree(r,this.data,e,a);for(o.children.push(t),s(o,r);e>=0&&a[e].children.length>this._maxEntries;)this._split(a,e),e--;this._adjustParentBBoxes(r,a,e)},_split:function(t,e){var i=t[e],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var o=this._chooseSplitIndex(i,r,n),s=m(i.children.splice(o,i.children.length-o));s.height=i.height,s.leaf=i.leaf,a(i,this.toBBox),a(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(i,s)},_splitRoot:function(t,e){this.data=m([t,e]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var n,r,a,s,l,u,c,f;for(u=c=1/0,n=e;i-e>=n;n++)r=o(t,0,n,this.toBBox),a=o(t,n,i,this.toBBox),s=d(r,a),l=h(r)+h(a),u>s?(u=s,f=n,c=c>l?l:c):s===u&&c>l&&(c=l,f=n);return f},_chooseSplitAxis:function(t,e,i){var n=t.leaf?this.compareMinX:l,r=t.leaf?this.compareMinY:u,a=this._allDistMargin(t,e,i,n);this._allDistMargin(t,e,i,r)>a&&t.children.sort(n)},_allDistMargin:function(t,e,i,n){t.children.sort(n);var r,a,l=this.toBBox,u=o(t,0,e,l),h=o(t,i-e,i,l),f=c(u)+c(h);for(r=e;i-e>r;r++)a=t.children[r],s(u,t.leaf?l(a):a),f+=c(u);for(r=i-e-1;r>=e;r--)a=t.children[r],s(h,t.leaf?l(a):a),f+=c(h);return f},_adjustParentBBoxes:function(t,e,i){for(var n=i;n>=0;n--)s(e[n],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children,e.splice(e.indexOf(t[i]),1)):this.clear():a(t[i],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=Function("a","b",e.join(t[0])),this.compareMinY=Function("a","b",e.join(t[1])),this.toBBox=Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},f5c8:function(t,e,i){"use strict";var n=i("CXX0"),r=i("V2dr"),a=i("/LWt"),o=i("A6q1"),s=i("aStr"),l=i("RUSk"),u=i("tFCN"),h=function(){o.a.call(this),this.layout=s.a.XY,this.stride=2,this.flatCoordinates=null};n.a.inherits(h,o.a),h.getLayoutForStride_=function(t){var e;return 2==t?e=s.a.XY:3==t?e=s.a.XYZ:4==t&&(e=s.a.XYZM),e},h.getStrideForLayout=function(t){var e;return t==s.a.XY?e=2:t==s.a.XYZ||t==s.a.XYM?e=3:t==s.a.XYZM&&(e=4),e},h.prototype.containsXY=r.a.FALSE,h.prototype.computeExtent=function(t){return a.default.createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},h.prototype.getCoordinates=function(){},h.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},h.prototype.getFlatCoordinates=function(){return this.flatCoordinates},h.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},h.prototype.getLayout=function(){return this.layout},h.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(u.a.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),0>t||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&this.simplifiedGeometryMaxMinSquaredTolerance>=t)return this;var e=""+t;if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var i=this.getSimplifiedGeometryInternal(t);return this.flatCoordinates.length>i.getFlatCoordinates().length?(this.simplifiedGeometryCache[e]=i,i):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},h.prototype.getSimplifiedGeometryInternal=function(t){return this},h.prototype.getStride=function(){return this.stride},h.prototype.setFlatCoordinatesInternal=function(t,e){this.stride=h.getStrideForLayout(t),this.layout=t,this.flatCoordinates=e},h.prototype.setCoordinates=function(t,e){},h.prototype.setLayout=function(t,e,i){var n;if(t)n=h.getStrideForLayout(t);else{var r;for(r=0;i>r;++r){if(0===e.length)return this.layout=s.a.XY,void(this.stride=2);e=e[0]}n=e.length,t=h.getLayoutForStride_(n)}this.layout=t,this.stride=n},h.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},h.prototype.rotate=function(t,e){var i=this.getFlatCoordinates();if(i){var n=this.getStride();l.a.rotate(i,0,i.length,n,t,e,i),this.changed()}},h.prototype.scale=function(t,e,i){var n=e;void 0===n&&(n=t);var r=i;r||(r=a.default.getCenter(this.getExtent()));var o=this.getFlatCoordinates();if(o){var s=this.getStride();l.a.scale(o,0,o.length,s,t,n,r,o),this.changed()}},h.prototype.translate=function(t,e){var i=this.getFlatCoordinates();if(i){var n=this.getStride();l.a.translate(i,0,i.length,n,t,e,i),this.changed()}},h.transform2D=function(t,e,i){var n=t.getFlatCoordinates();if(n){var r=t.getStride();return l.a.transform2D(n,0,n.length,r,e,i)}return null},e.a=h},fGqn:function(t,e,i){"use strict";var n={};n.createOrUpdate=function(t,e,i,n){return void 0!==n?(n[0]=t,n[1]=e,n[2]=i,n):[t,e,i]},n.getKeyZXY=function(t,e,i){return t+"/"+e+"/"+i},n.getKey=function(t){return n.getKeyZXY(t[0],t[1],t[2])},n.fromKey=function(t){return t.split("/").map(Number)},n.hash=function(t){return(t[1]<<t[0])+t[2]},n.quadKey=function(t){var e,i,n=t[0],r=Array(n),a=1<<n-1;for(e=0;n>e;++e)i=48,t[1]&a&&(i+=1),t[2]&a&&(i+=2),r[e]=String.fromCharCode(i),a>>=1;return r.join("")},n.withinExtentAndZ=function(t,e){var i=t[0],n=t[1],r=t[2];if(e.getMinZoom()>i||i>e.getMaxZoom())return!1;var a,o=e.getExtent();return!(a=o?e.getTileRangeForExtentAndZ(o,i):e.getFullTileRange(i))||a.containsXY(n,r)},e.a=n},fIT1:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){this.fns=t||[]}function a(t){if(Object.keys(t.style).map(function(e){return Array.isArray(t.style[e])}).indexOf(!0)>=0){var e=t.style,i=Object.keys(e).reduce(function(t,i){return t[i]=Array.isArray(e[i])?e[i].join("; "+(0,c.processStyleName)(i)+": "):e[i],t},{});return(0,h.default)({},t,{style:i})}return t}function o(t){if(t.style.content){var e=t.style.content;return 0>p.indexOf(e)?/^(attr|calc|counters?|url)\(/.test(e)?t:e.charAt(0)!==e.charAt(e.length-1)||'"'!==e.charAt(0)&&"'"!==e.charAt(0)?l({},t,{style:l({},t.style,{content:'"'+e+'"'})}):t:t}return t}function s(t){return(0,h.default)({},t,{style:(0,d.default)(l({},t.style))})}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.PluginSet=r,e.fallbacks=a,e.contentWrap=o,e.prefixes=s;var u=i("BEQ0"),h=n(u),c=i("t6ee"),f=i("cWyq"),d=n(f);(0,h.default)(r.prototype,{add:function(){for(var t=this,e=arguments.length,i=Array(e),n=0;e>n;n++)i[n]=arguments[n];i.forEach(function(e){0>t.fns.indexOf(e)&&(t.fns=[e].concat(t.fns))})},remove:function(t){this.fns=this.fns.filter(function(e){return e!==t})},clear:function(){this.fns=[]},transform:function(t){return this.fns.reduce(function(t,e){return e(t)},t)}});var p=["normal","none","counter","open-quote","close-quote","no-open-quote","no-close-quote","initial","inherit"]},fJST:function(t,e,i){"use strict";var n=i("CXX0"),r=i("OEyb"),a=i("2p9+"),o=i("zF6X"),s=i("/LWt"),l=i("o1z/"),u=i("xifc"),h=i("fGqn"),c=function(t){this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,r.a.assert(o.a.isSorted(this.resolutions_,function(t,e){return e-t},!0),17);var e;if(!t.origins)for(var i=0,l=this.resolutions_.length-1;l>i;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,r.a.assert(this.origins_.length==this.resolutions_.length,20));var u=t.extent;void 0===u||this.origin_||this.origins_||(this.origin_=s.default.getTopLeft(u)),r.a.assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,r.a.assert(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:n.a.DEFAULT_TILE_SIZE,r.a.assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==u?u:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new a.a(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):u&&this.calculateTileRanges_(u)};c.tmpTileCoord_=[0,0,0],c.prototype.forEachTileCoord=function(t,e,i){for(var n=this.getTileRangeForExtentAndZ(t,e),r=n.minX,a=n.maxX;a>=r;++r)for(var o=n.minY,s=n.maxY;s>=o;++o)i([e,r,o])},c.prototype.forEachTileCoordParentTileRange=function(t,e,i,n,r){var o,s,l,u=null,h=t[0]-1;for(2===this.zoomFactor_?(s=t[1],l=t[2]):u=this.getTileCoordExtent(t,r);h>=this.minZoom;){if(2===this.zoomFactor_?(s=Math.floor(s/2),l=Math.floor(l/2),o=a.a.createOrUpdate(s,s,l,l,n)):o=this.getTileRangeForExtentAndZ(u,h,n),e.call(i,h,o))return!0;--h}return!1},c.prototype.getExtent=function(){return this.extent_},c.prototype.getMaxZoom=function(){return this.maxZoom},c.prototype.getMinZoom=function(){return this.minZoom},c.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},c.prototype.getResolution=function(t){return this.resolutions_[t]},c.prototype.getResolutions=function(){return this.resolutions_},c.prototype.getTileCoordChildTileRange=function(t,e,i){if(this.maxZoom>t[0]){if(2===this.zoomFactor_){var n=2*t[1],r=2*t[2];return a.a.createOrUpdate(n,n+1,r,r+1,e)}return this.getTileRangeForExtentAndZ(this.getTileCoordExtent(t,i),t[0]+1,e)}return null},c.prototype.getTileRangeExtent=function(t,e,i){var n=this.getOrigin(t),r=this.getResolution(t),a=u.a.toSize(this.getTileSize(t),this.tmpSize_);return s.default.createOrUpdate(n[0]+e.minX*a[0]*r,n[1]+e.minY*a[1]*r,n[0]+(e.maxX+1)*a[0]*r,n[1]+(e.maxY+1)*a[1]*r,i)},c.prototype.getTileRangeForExtentAndZ=function(t,e,i){var n=c.tmpTileCoord_;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n);var r=n[1],o=n[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,n),a.a.createOrUpdate(r,n[1],o,n[2],i)},c.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),i=this.getResolution(t[0]),n=u.a.toSize(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*n[0]*i,e[1]+(t[2]+.5)*n[1]*i]},c.prototype.getTileCoordExtent=function(t,e){var i=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=u.a.toSize(this.getTileSize(t[0]),this.tmpSize_),a=i[0]+t[1]*r[0]*n,o=i[1]+t[2]*r[1]*n;return s.default.createOrUpdate(a,o,a+r[0]*n,o+r[1]*n,e)},c.prototype.getTileCoordForCoordAndResolution=function(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)},c.prototype.getTileCoordForXYAndResolution_=function(t,e,i,n,r){var a=this.getZForResolution(i),o=i/this.getResolution(a),s=this.getOrigin(a),l=u.a.toSize(this.getTileSize(a),this.tmpSize_),c=n?.5:0,f=n?0:.5,d=Math.floor((t-s[0])/i+c),p=Math.floor((e-s[1])/i+f),g=o*d/l[0],m=o*p/l[1];return n?(g=Math.ceil(g)-1,m=Math.ceil(m)-1):(g=Math.floor(g),m=Math.floor(m)),h.a.createOrUpdate(a,g,m,r)},c.prototype.getTileCoordForXYAndZ_=function(t,e,i,n,r){var a=this.getOrigin(i),o=this.getResolution(i),s=u.a.toSize(this.getTileSize(i),this.tmpSize_),l=n?.5:0,c=n?0:.5,f=Math.floor((t-a[0])/o+l),d=Math.floor((e-a[1])/o+c),p=f/s[0],g=d/s[1];return n?(p=Math.ceil(p)-1,g=Math.ceil(g)-1):(p=Math.floor(p),g=Math.floor(g)),h.a.createOrUpdate(i,p,g,r)},c.prototype.getTileCoordForCoordAndZ=function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)},c.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},c.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},c.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},c.prototype.getZForResolution=function(t,e){var i=o.a.linearFindNearest(this.resolutions_,t,e||0);return l.a.clamp(i,this.minZoom,this.maxZoom)},c.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,i=Array(e),n=this.minZoom;e>n;++n)i[n]=this.getTileRangeForExtentAndZ(t,n);this.fullTileRanges_=i},e.a=c},g32j:function(t,e,i){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);t.length>e;e++)i[e]=t[e];return i}return Array.from(t)}function r(t){return t[t.length-1]}function a(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function o(){var t=document.createElement("style");return t.type="text/css",t.setAttribute("data-glamor",""),t.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(t),t}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.speedy,i=void 0===e?!c&&!f:e,n=t.maxLength,r=void 0===n?h&&d?4e3:65e3:n;this.isSpeedy=i,this.sheet=void 0,this.tags=[],this.maxLength=r,this.ctr=0}Object.defineProperty(e,"__esModule",{value:!0}),e.StyleSheet=s;var l=i("BEQ0"),u=function(t){return t&&t.__esModule?t:{default:t}}(l),h="undefined"!=typeof window,c=!1,f=!1,d=function(){if(h){var t=document.createElement("div");return t.innerHTML="\x3c!--[if lt IE 10]><i></i><![endif]--\x3e",1===t.getElementsByTagName("i").length}}();(0,u.default)(s.prototype,{getSheet:function(){return a(r(this.tags))},inject:function(){var t=this;if(this.injected)throw Error("already injected stylesheet!");h?this.tags[0]=o():this.sheet={cssRules:[],insertRule:function(e){t.sheet.cssRules.push({cssText:e})}},this.injected=!0},speedy:function(t){if(0!==this.ctr)throw Error("cannot change speedy mode after inserting any rule to sheet. Either call speedy("+t+") earlier in your app, or call flush() before speedy("+t+")");this.isSpeedy=!!t},_insert:function(t){try{var e=this.getSheet();e.insertRule(t,-1!==t.indexOf("@import")?0:e.cssRules.length)}catch(e){c&&console.warn("whoops, illegal rule inserted",t)}},insert:function(t){if(h)if(this.isSpeedy&&this.getSheet().insertRule)this._insert(t);else if(-1!==t.indexOf("@import")){var e=r(this.tags);e.insertBefore(document.createTextNode(t),e.firstChild)}else r(this.tags).appendChild(document.createTextNode(t));else this.sheet.insertRule(t,-1!==t.indexOf("@import")?0:this.sheet.cssRules.length);return this.ctr++,h&&this.ctr%this.maxLength==0&&this.tags.push(o()),this.ctr-1},delete:function(t){return this.replace(t,"")},flush:function(){h?(this.tags.forEach(function(t){return t.parentNode.removeChild(t)}),this.tags=[],this.sheet=null,this.ctr=0):this.sheet.cssRules=[],this.injected=!1},rules:function(){if(!h)return this.sheet.cssRules;var t=[];return this.tags.forEach(function(e){return t.splice.apply(t,[t.length,0].concat(n(Array.from(a(e).cssRules))))}),t}})},g86Z:function(t,e,i){"use strict";function n(t){return"string"==typeof t&&r.test(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r=/-webkit-|-moz-|-ms-/;t.exports=e.default},g8Ld:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("tCFE");e.default=(0,function(t){return t&&t.__esModule?t:{default:t}}(n).default)("div")({width:"300px",minHeight:"50px",margin:"10px 0 0 0",display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:"2px",fontSize:"11px",boxShadow:"0 8px 12px 0 rgba(0,0,0,0.3)",position:"relative","&.scale-enter":{transform:"scale(0)"},"&.scale-enter.scale-enter-active":{transform:"scale(1)",transition:"all 250ms cubic-bezier(0, 0, 0.5, 1.5)"},"&.scale-leave":{transform:"scale(1)"},"&.scale-leave.scale-leave-active":{transform:"scale(0)",transition:"all 250ms ease-in-out"},"&.fade-enter":{opacity:"0.1"},"&.fade-enter.fade-enter-active":{opacity:"1",transition:"all 250ms ease-out"},"&.fade-leave":{opacity:"1"},"&.fade-leave.fade-leave-active":{opacity:"0.1",transition:"all 250ms ease-in"}},function(t){return{backgroundColor:t.glam.dark?"#333":"#fff",color:t.glam.dark?"#fff":"#333"}})},gCHX:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("o1z/"),a={};a.createExtent=function(t){return function(e){return e?[r.a.clamp(e[0],t[0],t[2]),r.a.clamp(e[1],t[1],t[3])]:void 0}},a.none=function(t){return t};var o=a,s=i("sR3l"),l=i("zF6X"),u={};u.createSnapToResolutions=function(t){return function(e,i,n){if(void 0!==e){var a=l.a.linearFindNearest(t,e,n);a=r.a.clamp(a+i,0,t.length-1);var o=Math.floor(a);if(a!=o&&t.length-1>o){var s=t[o]/t[o+1];return t[o]/Math.pow(s,a-o)}return t[o]}}},u.createSnapToPower=function(t,e,i){return function(n,r,a){if(void 0!==n){var o=-a/2+.5,s=Math.floor(Math.log(e/n)/Math.log(t)+o),l=Math.max(s+r,0);return void 0!==i&&(l=Math.min(l,i)),e/Math.pow(t,l)}}};var h=u,c=i("xek4"),f=i("kfRt"),d={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},p=d,g=i("OEyb"),m=i("IZoy"),_=i("2S6f"),y=i("/LWt"),v=i("U/IR"),E=i("xL0k"),b=i("f5c8"),x=i("tFCN"),C=i("yGLh"),S=i("Ae3H"),T=function(t){s.a.call(this);var e=x.a.assign({},t);this.hints_=[0,0],this.animations_=[],this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=C.default.createProjection(e.projection,"EPSG:3857"),this.applyOptions_(e)};n.a.inherits(T,s.a),T.prototype.applyOptions_=function(t){var e={};e[p.CENTER]=void 0!==t.center?t.center:null;var i=T.createResolutionConstraint_(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=i.minZoom,this.constraints_={center:T.createCenterConstraint_(t),resolution:i.constraint,rotation:T.createRotationConstraint_(t)},void 0!==t.resolution?e[p.RESOLUTION]=t.resolution:void 0!==t.zoom&&(e[p.RESOLUTION]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_)),e[p.ROTATION]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},T.prototype.getUpdatedOptions_=function(t){var e=x.a.assign({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),x.a.assign({},e,t)},T.prototype.animate=function(t){var e,i=arguments.length;if(i>1&&"function"==typeof arguments[i-1]&&(e=arguments[i-1],--i),!this.isDef()){var n=arguments[i-1];return n.center&&this.setCenter(n.center),void 0!==n.zoom&&this.setZoom(n.zoom),void 0!==n.rotation&&this.setRotation(n.rotation),void(e&&e(!0))}for(var a=Date.now(),o=this.getCenter().slice(),s=this.getResolution(),l=this.getRotation(),u=[],h=0;i>h;++h){var c=arguments[h],d={start:a,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||_.a.inAndOut};c.center&&(d.sourceCenter=o,d.targetCenter=c.center,o=d.targetCenter),void 0!==c.zoom?(d.sourceResolution=s,d.targetResolution=this.constrainResolution(this.maxResolution_,c.zoom-this.minZoom_,0),s=d.targetResolution):c.resolution&&(d.sourceResolution=s,d.targetResolution=c.resolution,s=d.targetResolution),void 0!==c.rotation&&(d.sourceRotation=l,d.targetRotation=l+(r.a.modulo(c.rotation-l+Math.PI,2*Math.PI)-Math.PI),l=d.targetRotation),d.callback=e,T.isNoopAnimation(d)?d.complete=!0:a+=d.duration,u.push(d)}this.animations_.push(u),this.setHint(f.a.ANIMATING,1),this.updateAnimations_()},T.prototype.getAnimating=function(){return this.hints_[f.a.ANIMATING]>0},T.prototype.getInteracting=function(){return this.hints_[f.a.INTERACTING]>0},T.prototype.cancelAnimations=function(){this.setHint(f.a.ANIMATING,-this.hints_[f.a.ANIMATING]);for(var t=0,e=this.animations_.length;e>t;++t){var i=this.animations_[t];i[0].callback&&i[0].callback(!1)}this.animations_.length=0},T.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,i=this.animations_.length-1;i>=0;--i){for(var n=this.animations_[i],a=!0,o=0,s=n.length;s>o;++o){var l=n[o];if(!l.complete){var u=t-l.start,h=l.duration>0?u/l.duration:1;1>h?a=!1:(l.complete=!0,h=1);var c=l.easing(h);if(l.sourceCenter){var d=l.sourceCenter[0],g=l.sourceCenter[1];this.set(p.CENTER,[d+c*(l.targetCenter[0]-d),g+c*(l.targetCenter[1]-g)])}if(l.sourceResolution&&l.targetResolution){var m=1===c?l.targetResolution:l.sourceResolution+c*(l.targetResolution-l.sourceResolution);l.anchor&&this.set(p.CENTER,this.calculateCenterZoom(m,l.anchor)),this.set(p.RESOLUTION,m)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){var _=1===c?r.a.modulo(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+c*(l.targetRotation-l.sourceRotation);l.anchor&&this.set(p.CENTER,this.calculateCenterRotate(_,l.anchor)),this.set(p.ROTATION,_)}if(e=!0,!l.complete)break}}if(a){this.animations_[i]=null,this.setHint(f.a.ANIMATING,-1);var y=n[0].callback;y&&y(!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},T.prototype.calculateCenterRotate=function(t,e){var i,n=this.getCenter();return void 0!==n&&(i=[n[0]-e[0],n[1]-e[1]],m.a.rotate(i,t-this.getRotation()),m.a.add(i,e)),i},T.prototype.calculateCenterZoom=function(t,e){var i,n=this.getCenter(),r=this.getResolution();return void 0!==n&&void 0!==r&&(i=[e[0]-t*(e[0]-n[0])/r,e[1]-t*(e[1]-n[1])/r]),i},T.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+n.a.getUid(this)+'"]',i=document.querySelector(e);if(i){var r=getComputedStyle(i);t[0]=parseInt(r.width,10),t[1]=parseInt(r.height,10)}return t},T.prototype.constrainCenter=function(t){return this.constraints_.center(t)},T.prototype.constrainResolution=function(t,e,i){return this.constraints_.resolution(t,e||0,i||0)},T.prototype.constrainRotation=function(t,e){return this.constraints_.rotation(t,e||0)},T.prototype.getCenter=function(){return this.get(p.CENTER)},T.prototype.getConstraints=function(){return this.constraints_},T.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},T.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),i=this.getCenter();g.a.assert(i,1);var n=this.getResolution();g.a.assert(void 0!==n,2);var r=this.getRotation();return g.a.assert(void 0!==r,3),y.default.getForViewAndSize(i,n,r,e)},T.prototype.getMaxResolution=function(){return this.maxResolution_},T.prototype.getMinResolution=function(){return this.minResolution_},T.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},T.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},T.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},T.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},T.prototype.getProjection=function(){return this.projection_},T.prototype.getResolution=function(){return this.get(p.RESOLUTION)},T.prototype.getResolutions=function(){return this.resolutions_},T.prototype.getResolutionForExtent=function(t,e){var i=e||this.getSizeFromViewport_(),n=y.default.getWidth(t)/i[0],r=y.default.getHeight(t)/i[1];return Math.max(n,r)},T.prototype.getResolutionForValueFunction=function(t){var e=t||2,i=this.maxResolution_,n=this.minResolution_,r=Math.log(i/n)/Math.log(e);return function(t){return i/Math.pow(e,t*r)}},T.prototype.getRotation=function(){return this.get(p.ROTATION)},T.prototype.getValueForResolutionFunction=function(t){var e=t||2,i=this.maxResolution_,n=this.minResolution_,r=Math.log(i/n)/Math.log(e);return function(t){return Math.log(i/t)/Math.log(e)/r}},T.prototype.getState=function(){var t=this.getCenter(),e=this.getProjection(),i=this.getResolution(),n=this.getRotation();return{center:t.slice(),projection:void 0!==e?e:null,resolution:i,rotation:n,zoom:this.getZoom()}},T.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},T.prototype.getZoomForResolution=function(t){var e,i,n=this.minZoom_||0;if(this.resolutions_){var r=l.a.linearFindNearest(this.resolutions_,t,1);n+=r,e=this.resolutions_[r],i=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(e/t)/Math.log(i)},T.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},T.prototype.fit=function(t,e){var i=e||{},r=i.size;r||(r=this.getSizeFromViewport_());var a;t instanceof b.a?t.getType()===v.a.CIRCLE?(t=t.getExtent(),a=E.a.fromExtent(t),a.rotate(this.getRotation(),y.default.getCenter(t))):a=t:(g.a.assert(Array.isArray(t),24),g.a.assert(!y.default.isEmpty(t),25),a=E.a.fromExtent(t));var o,s=void 0!==i.padding?i.padding:[0,0,0,0],l=void 0===i.constrainResolution||i.constrainResolution,u=void 0!==i.nearest&&i.nearest;o=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.constrainResolution(this.maxResolution_,i.maxZoom-this.minZoom_,0):0;for(var h=a.getFlatCoordinates(),c=this.getRotation(),f=Math.cos(-c),d=Math.sin(-c),p=1/0,m=1/0,_=-1/0,x=-1/0,C=a.getStride(),S=0,T=h.length;T>S;S+=C){var R=h[S]*f-h[S+1]*d,M=h[S]*d+h[S+1]*f;p=Math.min(p,R),m=Math.min(m,M),_=Math.max(_,R),x=Math.max(x,M)}var w=this.getResolutionForExtent([p,m,_,x],[r[0]-s[1]-s[3],r[1]-s[0]-s[2]]);if(w=isNaN(w)?o:Math.max(w,o),l){var O=this.constrainResolution(w,0,0);!u&&w>O&&(O=this.constrainResolution(O,-1,0)),w=O}d=-d;var A=(p+_)/2,I=(m+x)/2;A+=(s[1]-s[3])/2*w,I+=(s[0]-s[2])/2*w;var P=A*f-I*d,L=I*f+A*d,N=[P,L],F=i.callback?i.callback:n.a.nullFunction;void 0!==i.duration?this.animate({resolution:w,center:N,duration:i.duration,easing:i.easing},F):(this.setResolution(w),this.setCenter(N),setTimeout(F.bind(void 0,!0),0))},T.prototype.centerOn=function(t,e,i){var n=this.getRotation(),r=Math.cos(-n),a=Math.sin(-n),o=t[0]*r-t[1]*a,s=t[1]*r+t[0]*a,l=this.getResolution();o+=(e[0]/2-i[0])*l,s+=(i[1]-e[1]/2)*l,a=-a,this.setCenter([o*r-s*a,s*r+o*a])},T.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},T.prototype.rotate=function(t,e){void 0!==e&&this.setCenter(this.calculateCenterRotate(t,e)),this.setRotation(t)},T.prototype.setCenter=function(t){this.set(p.CENTER,t),this.getAnimating()&&this.cancelAnimations()},T.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},T.prototype.setResolution=function(t){this.set(p.RESOLUTION,t),this.getAnimating()&&this.cancelAnimations()},T.prototype.setRotation=function(t){this.set(p.ROTATION,t),this.getAnimating()&&this.cancelAnimations()},T.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},T.createCenterConstraint_=function(t){return void 0!==t.extent?o.createExtent(t.extent):o.none},T.createResolutionConstraint_=function(t){var e,i,r,a=void 0!==t.minZoom?t.minZoom:n.a.DEFAULT_MIN_ZOOM,o=void 0!==t.maxZoom?t.maxZoom:28,s=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var l=t.resolutions;i=l[0],r=l[l.length-1],e=h.createSnapToResolutions(l)}else{var u=C.default.createProjection(t.projection,"EPSG:3857"),c=u.getExtent(),f=c?Math.max(y.default.getWidth(c),y.default.getHeight(c)):360*C.default.METERS_PER_UNIT[S.a.DEGREES]/u.getMetersPerUnit(),d=f/n.a.DEFAULT_TILE_SIZE/Math.pow(2,n.a.DEFAULT_MIN_ZOOM),p=d/Math.pow(2,28-n.a.DEFAULT_MIN_ZOOM);i=t.maxResolution,void 0!==i?a=0:i=d/Math.pow(s,a),r=t.minResolution,void 0===r&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?i/Math.pow(s,o):d/Math.pow(s,o):p),o=a+Math.floor(Math.log(i/r)/Math.log(s)),r=i/Math.pow(s,o-a),e=h.createSnapToPower(s,i,o-a)}return{constraint:e,maxResolution:i,minResolution:r,minZoom:a,zoomFactor:s}},T.createRotationConstraint_=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?c.a.createSnapToZero():!1===e?c.a.none:"number"==typeof e?c.a.createSnapToN(e):c.a.none}return c.a.disable},T.isNoopAnimation=function(t){return!(t.sourceCenter&&t.targetCenter&&!m.a.equals(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation},e.default=T},gw3v:function(t,e,i){"use strict";function n(t,e){if("string"==typeof e&&!(0,a.default)(e)&&e.indexOf("image-set(")>-1)return o.map(function(t){return e.replace(/image-set\(/g,t+"image-set(")})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r=i("g86Z"),a=function(t){return t&&t.__esModule?t:{default:t}}(r),o=["-webkit-",""];t.exports=e.default},gz2j:function(t,e,i){"use strict";function n(t,e){if("string"==typeof e&&!(0,a.default)(e)&&s.test(e))return o.map(function(t){return t+e})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r=i("g86Z"),a=function(t){return t&&t.__esModule?t:{default:t}}(r),o=["-webkit-","-moz-",""],s=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;t.exports=e.default},hij0:function(t,e,i){"use strict";function n(t,e){if("display"===t&&r.hasOwnProperty(e))return r[e]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};t.exports=e.default},hrLW:function(t,e,i){"use strict";var n={};n.coordinate=function(t,e,i,n){var r,a;for(r=0,a=i.length;a>r;++r)t[e++]=i[r];return e},n.coordinates=function(t,e,i,n){var r,a;for(r=0,a=i.length;a>r;++r){var o,s=i[r];for(o=0;n>o;++o)t[e++]=s[o]}return e},n.coordinatess=function(t,e,i,r,a){var o,s,l=a||[],u=0;for(o=0,s=i.length;s>o;++o){var h=n.coordinates(t,e,i[o],r);l[u++]=h,e=h}return l.length=u,l},n.coordinatesss=function(t,e,i,r,a){var o,s,l=a||[],u=0;for(o=0,s=i.length;s>o;++o){var h=n.coordinatess(t,e,i[o],r,l[u]);l[u++]=h,e=h[h.length-1]}return l.length=u,l},e.a=n},i496:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=["Webkit"],r=["Moz"],a=["ms"],o=["Webkit","Moz"],s=["Webkit","ms"],l=["Webkit","Moz","ms"];e.default={plugins:[],prefixMap:{appearance:o,userSelect:l,textEmphasisPosition:n,textEmphasis:n,textEmphasisStyle:n,textEmphasisColor:n,boxDecorationBreak:n,clipPath:n,maskImage:n,maskMode:n,maskRepeat:n,maskPosition:n,maskClip:n,maskOrigin:n,maskSize:n,maskComposite:n,mask:n,maskBorderSource:n,maskBorderMode:n,maskBorderSlice:n,maskBorderWidth:n,maskBorderOutset:n,maskBorderRepeat:n,maskBorder:n,maskType:n,textDecorationStyle:n,textDecorationSkip:n,textDecorationLine:n,textDecorationColor:n,filter:n,fontFeatureSettings:n,breakAfter:l,breakBefore:l,breakInside:l,columnCount:o,columnFill:o,columnGap:o,columnRule:o,columnRuleColor:o,columnRuleStyle:o,columnRuleWidth:o,columns:o,columnSpan:o,columnWidth:o,writingMode:s,flex:n,flexBasis:n,flexDirection:n,flexGrow:n,flexFlow:n,flexShrink:n,flexWrap:n,alignContent:n,alignItems:n,alignSelf:n,justifyContent:n,order:n,transform:n,transformOrigin:n,transformOriginX:n,transformOriginY:n,backfaceVisibility:n,perspective:n,perspectiveOrigin:n,transformStyle:n,transformOriginZ:n,animation:n,animationDelay:n,animationDirection:n,animationFillMode:n,animationDuration:n,animationIterationCount:n,animationName:n,animationPlayState:n,animationTimingFunction:n,backdropFilter:n,fontKerning:n,scrollSnapType:s,scrollSnapPointsX:s,scrollSnapPointsY:s,scrollSnapDestination:s,scrollSnapCoordinate:s,shapeImageThreshold:n,shapeImageMargin:n,shapeImageOutside:n,hyphens:l,flowInto:s,flowFrom:s,regionFragment:s,textAlignLast:r,tabSize:r,wrapFlow:a,wrapThrough:a,wrapMargin:a,gridTemplateColumns:a,gridTemplateRows:a,gridTemplateAreas:a,gridTemplate:a,gridAutoColumns:a,gridAutoRows:a,gridAutoFlow:a,grid:a,gridRowStart:a,gridColumnStart:a,gridRowEnd:a,gridRow:a,gridColumn:a,gridColumnEnd:a,gridColumnGap:a,gridRowGap:a,gridArea:a,gridGap:a,textSizeAdjust:s,borderImage:n,borderImageOutset:n,borderImageRepeat:n,borderImageSlice:n,borderImageSource:n,borderImageWidth:n,transitionDelay:n,transitionDuration:n,transitionProperty:n,transitionTimingFunction:n}},t.exports=e.default},iFba:function(t,e,i){"use strict";var n={};n.appendParams=function(t,e){var i=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&i.push(t+"="+encodeURIComponent(e[t]))});var n=i.join("&");return t=t.replace(/[?&]$/,""),(t=-1===t.indexOf("?")?t+"?":t+"&")+n},e.a=n},iHAK:function(t,e,i){"use strict";e.a={ADD:"add",REMOVE:"remove"}},iOl9:function(t,e,i){"use strict";var n=i("CXX0"),r=i("jwW8"),a=function(t,e,i,n,a){r.a.call(this,t,e,i.originalEvent,n,a),this.pointerEvent=i};n.a.inherits(a,r.a),e.a=a},jAuj:function(t,e,i){e=t.exports=i("FZ+f")(void 0),e.push([t.i,'body{padding-top:80px}.form-control{border-radius:0;color:#464a4c;background-color:#fff;background-image:none;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid rgba(0,0,0,.15)}.loading{border-radius:100%;border:3px solid hsla(0,0%,100%,.6);border-top-color:#fff;box-sizing:border-box;height:30px;width:30px;-webkit-animation:spin .7s linear infinite;animation:spin 2s linear infinite}.btn .loading{height:16px;width:16px;float:left;margin:2px 4px}.featureListMap{width:70%;height:400px}.img-logo{background-size:cover}@-webkit-keyframes spin{to{-webkit-transform:rotate(1turn)}}#feature-item .img-responsive{display:block;width:auto;max-height:100%}@keyframes spin{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.vcenter{display:inline-block;vertical-align:middle;float:none}#map-ct{border:2px solid #d3d3d3;border-radius:8px;height:400px}.wrap{padding-top:50px;padding-bottom:50px}.hidden{display:none}.text-wrap{word-break:break-word;white-space:pre-line}body{background-image:url("/static/cartoview_geo_collect/src/img/crossword.png");background-repeat:repeat}.collector-title{margin-bottom:20px;margin-left:5px;border-left:6px solid #2c689c;background-color:#fff;padding-bottom:10px;padding-top:10px}.overlay{position:fixed;display:none;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.7);z-index:2;cursor:pointer}.overlay .content{position:absolute;top:50%;left:50%;font-size:50px;color:#fff;transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%)}',""])},jTtL:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=i("oj2/"),o=n(a),s=i("mLRC"),l=n(s),u=i("YzAM"),h=n(u),c=i("JmQP"),f=n(c),d=i("cURS"),p=n(d),g=i("VbcQ"),m=n(g),_=i("YcRe"),y=n(_),v=i("ApDP"),E=n(v),b=i("qx2u"),x=n(b),C=i("bHOE"),S=n(C),T=i("Wuo8"),R=n(T),M=i("/3dj"),w=n(M),O=i("Zww1"),A=n(O),I=i("86p+"),P=n(I),L=i("L2CZ"),N=n(L),F=i("T0Da"),D=n(F),k=i("M4zB"),G=n(k),j=i("aC3Q"),U=n(j),B=i("/zVC"),W=n(B),z=i("gCHX"),X=n(z),V=i("Hlta"),Y=n(V),q=i("1Cty"),H=n(q),K=i("yGLh"),Z=n(K),J=i("EnGD"),Q=n(J),$={OSM:w.default,TileArcGISRest:D.default,TileWMS:G.default,XYZ:H.default,ImageWMS:x.default,Cluster:f.default,BingMaps:h.default,Vector:P.default,Image:A.default,WMTS:Y.default},tt={Tile:N.default,Group:m.default,Base:l.default,Heatmap:y.default,Image:E.default,Layer:S.default,Vector:U.default,VectorTile:W.default};e.default=new(function(){function t(){r(this,t)}return t.prototype.generateSourceFromConfig=function(t,e,i,n,r){var a=e.properties||{};if(a.attributions){for(var s=[],l=0,u=a.attributions.length;u>l;++l)s.push(new o.default({html:a.attributions[l]}));a.attributions=s}if(a.wrapX=!1,"Cluster"===e.type&&(a.source=this.generateSourceFromConfig(t,e.source,i,n,r)),"TMS"===e.type){e.type="XYZ";var h=a.urls||[a.url];a.tileUrlFunction=function(t,e,i){var n,r,o,s=h.length-1,l=Math.floor(Math.random()*(s-0+1))+0;return o=t[0],n=t[1],r=t[2]+(1<<o),h[l]+o+"/"+n+"/"+r+"."+a.format},delete a.urls,delete a.url;var c=new $[e.type](a);return c.set("originalType","TMS"),c.set("originalProperties",Object.assign({},a,{urls:h})),c}var f=new $[e.type](a);return i&&"TileWMS"===e.type&&f.once("tileloaderror",function(){f.setTileLoadFunction(function(){var t=f.getTileLoadFunction();return function(e,n){t(e,Q.default.getProxiedUrl(n,i))}}())}),f},t.prototype.generateLayerFromConfig=function(t,e,i){var n=t.type,r=t.properties||{};if(r.id=R.default.generateId(),"Group"===n){r.layers=[];for(var a=0,o=t.children.length;o>a;++a)r.layers.push(this.generateLayerFromConfig(t.children[a],e,i))}var s=new tt[n](r),l=t.source;return l&&s.setSource(this.generateSourceFromConfig(e,l,i,r.url,r.name)),s},t.prototype.getLayerType=function(t){return t instanceof m.default?"Group":t instanceof U.default?"Vector":t instanceof N.default?"Tile":t instanceof E.default?"Image":void 0},t.prototype.getFormatType=function(t){if(t instanceof p.default)return"GeoJSON"},t.prototype.getSourceConfig=function(t){var e,i={},n=t.getAttributions();if(null!==n){e=[];for(var r=0,a=n.length;a>r;++r)e.push(n[r].getHTML())}return t instanceof G.default?(i.type="TileWMS",i.properties={params:t.getParams(),urls:t.getUrls()}):t instanceof f.default?(i.type="Cluster",i.source=this.getSourceConfig(t.getSource())):t instanceof P.default?(i.type="Vector",i.properties={attributions:e,format:{type:this.getFormatType(t.getFormat())},url:t.getUrl()}):t instanceof x.default?(i.type="ImageWMS",i.properties={url:t.getUrl(),params:t.getParams(),attributions:e}):t instanceof w.default?(i.type="OSM",i.properties={attributions:e}):t instanceof h.default?(i.type="BingMaps",i.properties={key:t.getApiKey(),imagerySet:t.getImagerySet()}):t instanceof H.default?"TMS"===t.get("originalType")?(i.type="TMS",i.properties=t.get("originalProperties")):(i.type="XYZ",i.properties={attributions:e,urls:t.getUrls()}):t instanceof D.default&&(i.type="TileArcGISRest",i.properties={urls:t.getUrls(),params:t.getParams()}),i},t.prototype.getLayerConfig=function(t,e){t.type=this.getLayerType(e),t.properties=e.getProperties(),delete t.properties.maxResolution,delete t.properties.minResolution;var i="Group"!==t.type?e.getSource():null;return i&&(delete t.properties.source,t.source=this.getSourceConfig(i)),e instanceof m.default&&(delete t.properties.layers,t.children=[],e.getLayers().forEach(function(e){if(null!==e.get("title")){var i={};t.children.push(i),this.getLayerConfig(i,e)}},this)),t},t.prototype.load=function(t,e,i){var n=t.view,r=t.layers,a=[];e.getLayers().forEach(function(t){null!==t.get("title")&&a.push(t)});var o,s;for(o=0,s=a.length;s>o;++o)e.removeLayer(a[o]);for(o=0,s=r.length;s>o;++o)e.addLayer(this.generateLayerFromConfig(r[o],e,i));var l=e.getView(),u=Z.default.get(n.projection);u&&!Z.default.equivalent(l.getProjection(),u)?e.setView(new X.default({center:n.center,resolution:n.resolution,zoom:n.zoom,rotation:n.rotation,projection:n.projection})):(l.setCenter(n.center),void 0!==n.resolution?l.setResolution(n.resolution):void 0!==n.zoom&&l.setZoom(n.zoom),void 0!==n.rotation&&l.setRotation(n.rotation))},t.prototype.save=function(t){var e=[];t.getLayers().forEach(function(t){if(null!==t.get("title")){var i={};e.push(i),this.getLayerConfig(i,t)}},this);var i={};i.layers=e;var n=t.getView();return i.view={projection:n.getProjection().getCode(),center:n.getCenter(),resolution:n.getResolution(),zoom:n.getZoom(),rotation:n.getRotation()},i},t}())},jwW8:function(t,e,i){"use strict";var n=i("CXX0"),r=i("Wnd/"),a=function(t,e,i,n,a){r.a.call(this,t,e,a),this.originalEvent=i,this.pixel=e.getEventPixel(i),this.coordinate=e.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==n&&n};n.a.inherits(a,r.a),a.prototype.preventDefault=function(){r.a.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},a.prototype.stopPropagation=function(){r.a.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e.a=a},kETm:function(t,e,i){"use strict";function n(t,e){if("position"===t&&"sticky"===e)return["-webkit-sticky","sticky"]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n,t.exports=e.default},kHw6:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Ki3i");e.default=function(t){return t&&t.__esModule?t:{default:t}}(n).default},kfRt:function(t,e,i){"use strict";e.a={ANIMATING:0,INTERACTING:1}},l87I:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0,e.default=new function t(){n(this,t),this.layerName=function(t){return t.split(":").pop()},this.layerNameSpace=function(t){return t.split(":")[0]}}},lQeg:function(t,e){t.exports={name:"proj4",version:"2.4.4",description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",main:"dist/proj4-src.js",module:"lib/index.js",directories:{test:"test",doc:"docs"},scripts:{build:"grunt","build:tmerc":"grunt build:tmerc",test:"npm run build && istanbul test _mocha test/test.js"},repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},author:"",license:"MIT",devDependencies:{chai:"~1.8.1",curl:"git://github.com/cujojs/curl.git",grunt:"^1.0.1","grunt-cli":"~0.1.13","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~1.1.0","grunt-contrib-uglify":"~0.11.1","grunt-mocha-phantomjs":"~0.4.0","grunt-rollup":"^1.0.1",istanbul:"~0.2.4",mocha:"~1.17.1",rollup:"^0.41.4","rollup-plugin-json":"^2.0.1","rollup-plugin-node-resolve":"^2.0.0",tin:"~0.4.0"},dependencies:{mgrs:"1.0.0","wkt-parser":"^1.2.0"}}},lSD1:function(t,e,i){"use strict";function n(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-c)),n=setTimeout(t,i);return c=e,n}Object.defineProperty(e,"__esModule",{value:!0});var r=i("cFFW"),a=function(t){return t&&t.__esModule?t:{default:t}}(r),o=["","webkit","moz","o","ms"],s="clearTimeout",l=n,u=void 0,h=function(t,e){return t+(t?e[0].toUpperCase()+e.substr(1):e)+"AnimationFrame"};a.default&&o.some(function(t){var e=h(t,"request");if(e in window)return s=h(t,"cancel"),l=function(t){return window[e](t)}});var c=(new Date).getTime();u=function(t){return l(t)},u.cancel=function(t){window[s]&&"function"==typeof window[s]&&window[s](t)},e.default=u,t.exports=e.default},lY9i:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};r.prototype.clone=function(){var t=this.getColor();return new r({color:t&&t.slice?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},r.prototype.getColor=function(){return this.color_},r.prototype.getLineCap=function(){return this.lineCap_},r.prototype.getLineDash=function(){return this.lineDash_},r.prototype.getLineDashOffset=function(){return this.lineDashOffset_},r.prototype.getLineJoin=function(){return this.lineJoin_},r.prototype.getMiterLimit=function(){return this.miterLimit_},r.prototype.getWidth=function(){return this.width_},r.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},r.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},r.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},r.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},r.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},r.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},r.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},r.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.checksum_+=this.color_?"string"==typeof this.color_?this.color_:""+n.a.getUid(this.color_):"-",this.checksum_+=","+(void 0!==this.lineCap_?""+this.lineCap_:"-")+","+(this.lineDash_?""+this.lineDash_:"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?""+this.miterLimit_:"-")+","+(void 0!==this.width_?""+this.width_:"-")),this.checksum_},e.default=r},lxwt:function(t,e,i){"use strict";var n=i("+w9S"),r=n.isValidElement;t.exports=i("fQuc")(r)},mL1Z:function(t,e,i){"use strict";function n(t){return r(t).replace(a,"-ms-")}var r=i("APD3"),a=/^ms-/;t.exports=n},mLRC:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("sR3l"),a=i("8gh8"),o=i("o1z/"),s=i("tFCN"),l=function(t){r.a.call(this);var e=s.a.assign({},t);e[a.a.OPACITY]=void 0!==t.opacity?t.opacity:1,e[a.a.VISIBLE]=void 0===t.visible||t.visible,e[a.a.Z_INDEX]=void 0!==t.zIndex?t.zIndex:0,e[a.a.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,e[a.a.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,this.setProperties(e),this.state_={layer:this,managed:!0}};n.a.inherits(l,r.a),l.prototype.getType=function(){return this.type},l.prototype.getLayerState=function(){return this.state_.opacity=o.a.clamp(this.getOpacity(),0,1),this.state_.sourceState=this.getSourceState(),this.state_.visible=this.getVisible(),this.state_.extent=this.getExtent(),this.state_.zIndex=this.getZIndex(),this.state_.maxResolution=this.getMaxResolution(),this.state_.minResolution=Math.max(this.getMinResolution(),0),this.state_},l.prototype.getLayersArray=function(t){},l.prototype.getLayerStatesArray=function(t){},l.prototype.getExtent=function(){return this.get(a.a.EXTENT)},l.prototype.getMaxResolution=function(){return this.get(a.a.MAX_RESOLUTION)},l.prototype.getMinResolution=function(){return this.get(a.a.MIN_RESOLUTION)},l.prototype.getOpacity=function(){return this.get(a.a.OPACITY)},l.prototype.getSourceState=function(){},l.prototype.getVisible=function(){return this.get(a.a.VISIBLE)},l.prototype.getZIndex=function(){return this.get(a.a.Z_INDEX)},l.prototype.setExtent=function(t){this.set(a.a.EXTENT,t)},l.prototype.setMaxResolution=function(t){this.set(a.a.MAX_RESOLUTION,t)},l.prototype.setMinResolution=function(t){this.set(a.a.MIN_RESOLUTION,t)},l.prototype.setOpacity=function(t){this.set(a.a.OPACITY,t)},l.prototype.setVisible=function(t){this.set(a.a.VISIBLE,t)},l.prototype.setZIndex=function(t){this.set(a.a.Z_INDEX,t)},e.default=l},mkUQ:function(t,e,i){"use strict";var n=i("CXX0"),r=function(){};r.prototype.disposed_=!1,r.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},r.prototype.disposeInternal=n.a.nullFunction,e.a=r},ngwR:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=i("/3K7"),o=n(a),s=i("4wBM"),l=n(s),u=i("p8Td"),h=n(u),c=i("l87I"),f=n(c),d=i("9bGr"),p=n(d),g=i("MiJB"),m=n(g),_=i("dyCJ"),y=n(_),v=i("/3dj"),E=n(v),b=i("qxxq"),x=n(b),C=i("tRnt"),S=n(C),T=i("L2CZ"),R=n(T),M=i("aC3Q"),w=n(M),O=i("86p+"),A=n(O),I=i("gCHX"),P=n(I),L=i("VGlj"),N=n(L),F=i("/LWt"),D=n(F),k=i("TDso"),G=n(k),j=i("yGLh"),U=n(j),B=i("nvAS"),W=n(B),z=i("03MR"),X=n(z),V={Point:x.default,MultiPoint:y.default},Y=X.default.refinement(X.default.Number,function(t){return t%1==0});e.default=new function t(){var e=this;r(this,t),this.getCenterOfExtent=function(t){return D.default.getCenter(t)},this.getGeomerty=function(t,e){return new V[e]("Point"===e?t:[t,t],"XY")},this.getPointFeature=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"the_geom",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Point",r=new h.default({});return r.setGeometryName(i),r.setGeometry(e.getGeomerty(t,n)),r},this.wfsTransaction=function(t,e,i,n){var r=new N.default,a={featureNS:i,featurePrefix:f.default.layerNameSpace(e),featureType:f.default.layerName(e),gmlOptions:{srsName:""+n}},o=r.writeTransaction([t],null,null,a);return(new XMLSerializer).serializeToString(o)},this.getModifyInteraction=function(t){return new m.default({features:new o.default([t]),pixelTolerance:32})},this.getMap=function(){var t=new R.default({title:"OpenStreetMap",source:new E.default});return new p.default({interactions:G.default.defaults().extend([new l.default]),layers:[t],view:new P.default({center:U.default.fromLonLat([0,0]),zoom:6})})},this.getVectorLayer=function(t){return new w.default({source:new A.default({features:[t]}),style:S.default.getMarker()})},this.buildForm=function(t){var e={},i={},n={};return t.forEach(function(t){if(t.included){if(i[t.name]={label:t.label,help:t.helpText,type:t.fieldType,attrs:{placeholder:t.placeholder}},n[t.name]=t.defaultValue,"select"==t.fieldType){var r={};t.options.forEach(function(t){return r[t.value]=t.label}),e[t.name]=X.default.enums(r)}else"number"==t.fieldType?(i[t.name].type="number",e[t.name]="int"==t.dataType?Y:X.default.Number):"checkbox"==t.fieldType?e[t.name]=X.default.Bool:"string"==t.dataType&&(e[t.name]=X.default.String);e[t.name]&&(t.required?i[t.name].help+=" (Required)":e[t.name]=X.default.maybe(e[t.name]))}}),{schema:e,value:n,fields:i}},this.getCRS=function(t){return new Promise(function(e,i){W.default.defs("EPSG:"+t)?e(t):fetch("https://epsg.io/?format=json&q="+t).then(function(t){return t.json()}).then(function(i){W.default.defs("EPSG:"+t,i.results[0].proj4),e(t)})})},this.zoomToLocation=function(t,i){var n=i.getView().getMaxZoom(),r=e.reprojectLocation(t,i);i.getView().setCenter(r),i.getView().setZoom(n-4)},this.reprojectLocation=function(t,e){return U.default.transform(t,e.getView().getProjection(),"EPSG:900913")},this.reprojectExtent=function(t,e){return U.default.transformExtent(t,"EPSG:4326",e.getView().getProjection())}}},nvAS:function(t,e,i){"use strict";function n(t,e){if(t[e])return t[e];for(var i,n=Object.keys(t),r=e.toLowerCase().replace(Ke,""),a=-1;++a<n.length;)if(i=n[a],i.toLowerCase().replace(Ke,"")===r)return t[i]}function r(t){if("string"!=typeof t)throw Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Qe}function a(t){return new r(t).output()}function o(t,e,i){Array.isArray(e)&&(i.unshift(e),e=null);var n=e?{}:t,r=i.reduce(function(t,e){return s(e,t),t},n);e&&(t[e]=r)}function s(t,e){if(!Array.isArray(t))return void(e[t]=!0);var i=t.shift();if("PARAMETER"===i&&(i=t.shift()),1===t.length)return Array.isArray(t[0])?(e[i]={},void s(t[0],e[i])):void(e[i]=t[0]);if(!t.length)return void(e[i]=!0);if("TOWGS84"===i)return void(e[i]=t);Array.isArray(i)||(e[i]={});var n;switch(i){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[i]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&s(t[2],e[i]));case"SPHEROID":case"ELLIPSOID":return e[i]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&s(t[3],e[i]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void o(e,i,t);default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return s(t,e[i]);return o(e,i,t)}}function l(t,e){var i=e[0],n=e[1];!(i in t)&&n in t&&(t[i]=t[n],3===e.length&&(t[i]=e[2](t[i])))}function u(t){return t*ri}function h(t){function e(e){return e*(t.to_meter||1)}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):t.projName="object"==typeof t.PROJECTION?Object.keys(t.PROJECTION)[0]:t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var i=t.GEOGCS;"GEOGCS"===t.type&&(i=t),i&&(t.datumCode=i.DATUM?i.DATUM.name.toLowerCase():i.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),i.DATUM&&i.DATUM.SPHEROID&&(t.ellps=i.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=i.DATUM.SPHEROID.a,t.rf=parseFloat(i.DATUM.SPHEROID.rf,10)),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",u],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",u],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",u],["lat0","latitude_of_origin",u],["lat0","standard_parallel_1",u],["lat1","standard_parallel_1",u],["lat2","standard_parallel_2",u],["azimuth","Azimuth"],["alpha","azimuth",u],["srsCode","name"]].forEach(function(e){return l(t,e)}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=u(t.lat1>0?90:-90),t.lat_ts=t.lat1)}function c(t){var e=this;if(2===arguments.length){var i=arguments[1];c[t]="string"==typeof i?"+"===i.charAt(0)?Ze(arguments[1]):ai(arguments[1]):i}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?c.apply(e,t):c(t)});if("string"==typeof t){if(t in c)return c[t]}else"EPSG"in t?c["EPSG:"+t.EPSG]=t:"ESRI"in t?c["ESRI:"+t.ESRI]=t:"IAU2000"in t?c["IAU2000:"+t.IAU2000]=t:console.log(t);return}}function f(t){return"string"==typeof t}function d(t){return t in oi}function p(t){return si.some(function(e){return t.indexOf(e)>-1})}function g(t){return"+"===t[0]}function m(t){return f(t)?d(t)?oi[t]:p(t)?ai(t):g(t)?Ze(t):void 0:t}function _(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):hi(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)}function y(t){var e=t.x,i=t.y;if(i*ze>90&&-90>i*ze&&e*ze>180&&-180>e*ze)return null;var n,r;if(Math.abs(Math.abs(i)-ke)>Be){if(this.sphere)n=this.x0+this.a*this.k0*fi(e-this.long0),r=this.y0+this.a*this.k0*Math.log(Math.tan(Xe+.5*i));else{var a=Math.sin(i),o=di(this.e,i,a);n=this.x0+this.a*this.k0*fi(e-this.long0),r=this.y0-this.a*this.k0*Math.log(o)}return t.x=n,t.y=r,t}return null}function v(t){var e,i,n=t.x-this.x0,r=t.y-this.y0;if(this.sphere)i=ke-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var a=Math.exp(-r/(this.a*this.k0));if(-9999===(i=pi(this.e,a)))return null}return e=fi(this.long0+n/(this.a*this.k0)),t.x=e,t.y=i,t}function E(){}function b(t){return t}function x(t,e){var i=bi.length;return t.names?(bi[i]=t,t.names.forEach(function(t){Ei[t.toLowerCase()]=i}),this):(console.log(e),!0)}function C(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==Ei[e]&&bi[Ei[e]]?bi[Ei[e]]:void 0}function S(){vi.forEach(x)}function T(t,e,i,n){var r=t*t,a=e*e,o=(r-a)/r,s=0;return n?(t*=1-o*(Ge+o*(je+o*Ue)),r=t*t,o=0):s=Math.sqrt(o),{es:o,e:s,ep2:(r-a)/a}}function R(t,e,i,r,a){if(!t){var o=n(Ci,r);o||(o=Si),t=o.a,e=o.b,i=o.rf}return i&&!e&&(e=(1-1/i)*t),(0===i||Math.abs(t-e)<Be)&&(a=!0,e=t),{a:t,b:e,rf:i,sphere:a}}function M(t,e,i,n,r,a){var o={};return o.datum_type=void 0===t||"none"===t?Fe:Ne,e&&(o.datum_params=e.map(parseFloat),0===o.datum_params[0]&&0===o.datum_params[1]&&0===o.datum_params[2]||(o.datum_type=Pe),o.datum_params.length>3&&(0===o.datum_params[3]&&0===o.datum_params[4]&&0===o.datum_params[5]&&0===o.datum_params[6]||(o.datum_type=Le,o.datum_params[3]*=De,o.datum_params[4]*=De,o.datum_params[5]*=De,o.datum_params[6]=o.datum_params[6]/1e6+1))),o.a=i,o.b=n,o.es=r,o.ep2=a,o}function w(t,e){if(!(this instanceof w))return new w(t);e=e||function(t){if(t)throw t};var i=li(t);if("object"!=typeof i)return void e(t);var r=w.projections.get(i.projName);if(!r)return void e(t);if(i.datumCode&&"none"!==i.datumCode){var a=n(Ti,i.datumCode);a&&(i.datum_params=a.towgs84?a.towgs84.split(","):null,i.ellps=a.ellipse,i.datumName=a.datumName?a.datumName:i.datumCode)}i.k0=i.k0||1,i.axis=i.axis||"enu",i.ellps=i.ellps||"wgs84";var o=R(i.a,i.b,i.rf,i.ellps,i.sphere),s=T(o.a,o.b,o.rf,i.R_A),l=i.datum||Ri(i.datumCode,i.datum_params,o.a,o.b,s.es,s.ep2);ui(this,i),ui(this,r),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=l,this.init(),e(null,this)}function O(t,e){return t.datum_type===e.datum_type&&t.a===e.a&&5e-11>=Math.abs(t.es-e.es)&&(t.datum_type===Pe?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==Le||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}function A(t,e,i){var n,r,a,o,s=t.x,l=t.y,u=t.z?t.z:0;if(-ke>l&&l>-1.001*ke)l=-ke;else if(l>ke&&1.001*ke>l)l=ke;else if(-ke>l||l>ke)return null;return s>Math.PI&&(s-=2*Math.PI),r=Math.sin(l),o=Math.cos(l),a=r*r,n=i/Math.sqrt(1-e*a),{x:(n+u)*o*Math.cos(s),y:(n+u)*o*Math.sin(s),z:(n*(1-e)+u)*r}}function I(t,e,i,n){var r,a,o,s,l,u,h,c,f,d,p,g,m,_,y,v,E=t.x,b=t.y,x=t.z?t.z:0;if(r=Math.sqrt(E*E+b*b),a=Math.sqrt(E*E+b*b+x*x),1e-12>r/i){if(_=0,1e-12>a/i)return y=ke,v=-n,{x:t.x,y:t.y,z:t.z}}else _=Math.atan2(b,E);o=x/a,s=r/a,l=1/Math.sqrt(1-e*(2-e)*s*s),c=s*(1-e)*l,f=o*l,m=0;do{m++,h=i/Math.sqrt(1-e*f*f),v=r*c+x*f-h*(1-e*f*f),u=e*h/(h+v),l=1/Math.sqrt(1-u*(2-u)*s*s),d=s*(1-u)*l,p=o*l,g=p*c-d*f,c=d,f=p}while(g*g>1e-24&&30>m);return y=Math.atan(p/Math.abs(d)),{x:_,y:y,z:v}}function P(t,e,i){if(e===Pe)return{x:t.x+i[0],y:t.y+i[1],z:t.z+i[2]};if(e===Le){var n=i[0],r=i[1],a=i[2],o=i[3],s=i[4],l=i[5],u=i[6];return{x:u*(t.x-l*t.y+s*t.z)+n,y:u*(l*t.x+t.y-o*t.z)+r,z:u*(-s*t.x+o*t.y+t.z)+a}}}function L(t,e,i){if(e===Pe)return{x:t.x-i[0],y:t.y-i[1],z:t.z-i[2]};if(e===Le){var n=i[0],r=i[1],a=i[2],o=i[3],s=i[4],l=i[5],u=i[6],h=(t.x-n)/u,c=(t.y-r)/u,f=(t.z-a)/u;return{x:h+l*c-s*f,y:-l*h+c+o*f,z:s*h-o*c+f}}}function N(t){return t===Pe||t===Le}function F(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function D(t,e){return(t.datum.datum_type===Pe||t.datum.datum_type===Le)&&"WGS84"!==e.datumCode||(e.datum.datum_type===Pe||e.datum.datum_type===Le)&&"WGS84"!==t.datumCode}function k(t,e,i){var n;return Array.isArray(i)&&(i=Ai(i)),Ii(i),t.datum&&e.datum&&D(t,e)&&(n=new Mi("WGS84"),i=k(t,n,i),t=n),"enu"!==t.axis&&(i=Oi(t,!1,i)),"longlat"===t.projName?i={x:i.x*We,y:i.y*We}:(t.to_meter&&(i={x:i.x*t.to_meter,y:i.y*t.to_meter}),i=t.inverse(i)),t.from_greenwich&&(i.x+=t.from_greenwich),i=wi(t.datum,e.datum,i),e.from_greenwich&&(i={x:i.x-e.from_greenwich,y:i.y}),"longlat"===e.projName?i={x:i.x*ze,y:i.y*ze}:(i=e.forward(i),e.to_meter&&(i={x:i.x/e.to_meter,y:i.y/e.to_meter})),"enu"!==e.axis?Oi(e,!0,i):i}function G(t,e,i){var n,r,a;return Array.isArray(i)?(n=k(t,e,i),3===i.length?[n.x,n.y,n.z]:[n.x,n.y]):(r=k(t,e,i),a=Object.keys(i),2===a.length?r:(a.forEach(function(t){"x"!==t&&"y"!==t&&(r[t]=i[t])}),r))}function j(t){return t instanceof Mi?t:t.oProj?t.oProj:Mi(t)}function U(t,e,i){t=j(t);var n,r=!1;return void 0===e?(e=t,t=Pi,r=!0):(void 0!==e.x||Array.isArray(e))&&(i=e,e=t,t=Pi,r=!0),e=j(e),i?G(t,e,i):(n={forward:function(i){return G(t,e,i)},inverse:function(i){return G(e,t,i)}},r&&(n.oProj=e),n)}function B(t,e){return e=e||5,K(Y({lat:t[1],lon:t[0]}),e)}function W(t){var e=q($(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function z(t){var e=q($(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function X(t){return t*(Math.PI/180)}function V(t){return t/Math.PI*180}function Y(t){var e,i,n,r,a,o,s,l,u,h=t.lat,c=t.lon,f=6378137,d=X(h),p=X(c);u=Math.floor((c+180)/6)+1,180===c&&(u=60),h>=56&&64>h&&c>=3&&12>c&&(u=32),h>=72&&84>h&&(c>=0&&9>c?u=31:c>=9&&21>c?u=33:c>=21&&33>c?u=35:c>=33&&42>c&&(u=37)),e=6*(u-1)-180+3,l=X(e),i=.006739496752268451,n=f/Math.sqrt(1-.00669438*Math.sin(d)*Math.sin(d)),r=Math.tan(d)*Math.tan(d),a=i*Math.cos(d)*Math.cos(d),o=Math.cos(d)*(p-l),s=f*(.9983242984503243*d-.002514607064228144*Math.sin(2*d)+2639046602129982e-21*Math.sin(4*d)-3.418046101696858e-9*Math.sin(6*d));var g=.9996*n*(o+(1-r+a)*o*o*o/6+(5-18*r+r*r+72*a-58*i)*o*o*o*o*o/120)+5e5,m=.9996*(s+n*Math.tan(d)*(o*o/2+(5-r+9*a+4*a*a)*o*o*o*o/24+(61-58*r+r*r+600*a-330*i)*o*o*o*o*o*o/720));return 0>h&&(m+=1e7),{northing:Math.round(m),easting:Math.round(g),zoneNumber:u,zoneLetter:H(h)}}function q(t){var e=t.northing,i=t.easting,n=t.zoneLetter,r=t.zoneNumber;if(0>r||r>60)return null;var a,o,s,l,u,h,c,f,d,p,g=6378137,m=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),_=i-5e5,y=e;"N">n&&(y-=1e7),f=6*(r-1)-180+3,a=.006739496752268451,c=y/.9996,d=c/6367449.145945056,p=d+(3*m/2-27*m*m*m/32)*Math.sin(2*d)+(21*m*m/16-55*m*m*m*m/32)*Math.sin(4*d)+151*m*m*m/96*Math.sin(6*d),o=g/Math.sqrt(1-.00669438*Math.sin(p)*Math.sin(p)),s=Math.tan(p)*Math.tan(p),l=a*Math.cos(p)*Math.cos(p),u=.99330562*g/Math.pow(1-.00669438*Math.sin(p)*Math.sin(p),1.5),h=_/(.9996*o);var v=p-o*Math.tan(p)/u*(h*h/2-(5+3*s+10*l-4*l*l-9*a)*h*h*h*h/24+(61+90*s+298*l+45*s*s-252*a-3*l*l)*h*h*h*h*h*h/720);v=V(v);var E=(h-(1+2*s+l)*h*h*h/6+(5-2*l+28*s-3*l*l+8*a+24*s*s)*h*h*h*h*h/120)/Math.cos(p);E=f+V(E);var b;if(t.accuracy){var x=q({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});b={top:x.lat,right:x.lon,bottom:v,left:E}}else b={lat:v,lon:E};return b}function H(t){var e="Z";return t>84||72>t?72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"):e="X",e}function K(t,e){var i="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+Z(t.easting,t.northing,t.zoneNumber)+i.substr(i.length-5,e)+n.substr(n.length-5,e)}function Z(t,e,i){var n=J(i);return Q(Math.floor(t/1e5),Math.floor(e/1e5)%20,n)}function J(t){var e=t%Ni;return 0===e&&(e=Ni),e}function Q(t,e,i){var n=i-1,r=Fi.charCodeAt(n),a=Di.charCodeAt(n),o=r+t-1,s=a+e,l=!1;return o>Bi&&(o=o-Bi+ki-1,l=!0),(o===Gi||Gi>r&&o>Gi||(o>Gi||Gi>r)&&l)&&o++,(o===ji||ji>r&&o>ji||(o>ji||ji>r)&&l)&&++o===Gi&&o++,o>Bi&&(o=o-Bi+ki-1),s>Ui?(s=s-Ui+ki-1,l=!0):l=!1,(s===Gi||Gi>a&&s>Gi||(s>Gi||Gi>a)&&l)&&s++,(s===ji||ji>a&&s>ji||(s>ji||ji>a)&&l)&&++s===Gi&&s++,s>Ui&&(s=s-Ui+ki-1),String.fromCharCode(o)+String.fromCharCode(s)}function $(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,i=t.length,n=null,r="",a=0;!/[A-Z]/.test(e=t.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,a++}var o=parseInt(r,10);if(0===a||a+3>i)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(a++);if("A">=s||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+t;n=t.substring(a,a+=2);for(var l=J(o),u=tt(n.charAt(0),l),h=et(n.charAt(1),l);h<it(s);)h+=2e6;var c=i-a;if(c%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f,d,p,g,m,_=c/2,y=0,v=0;return _>0&&(f=1e5/Math.pow(10,_),d=t.substring(a,a+_),y=parseFloat(d)*f,p=t.substring(a+_),v=parseFloat(p)*f),g=y+u,m=v+h,{easting:g,northing:m,zoneLetter:s,zoneNumber:o,accuracy:f}}function tt(t,e){for(var i=Fi.charCodeAt(e-1),n=1e5,r=!1;i!==t.charCodeAt(0);){if(i++,i===Gi&&i++,i===ji&&i++,i>Bi){if(r)throw"Bad character: "+t;i=ki,r=!0}n+=1e5}return n}function et(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var i=Di.charCodeAt(e-1),n=0,r=!1;i!==t.charCodeAt(0);){if(i++,i===Gi&&i++,i===ji&&i++,i>Ui){if(r)throw"Bad character: "+t;i=ki,r=!0}n+=1e5}return n}function it(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(0>e)throw"Invalid zone letter: "+t;return e}function nt(t,e,i){if(!(this instanceof nt))return new nt(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var n=t.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}function rt(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Yi(this.es),this.ml0=qi(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function at(t){var e,i,n,r=t.x,a=t.y,o=fi(r-this.long0),s=Math.sin(a),l=Math.cos(a);if(this.es){var u=l*o,h=Math.pow(u,2),c=this.ep2*Math.pow(l,2),f=Math.pow(c,2),d=Math.abs(l)>Be?Math.tan(a):0,p=Math.pow(d,2),g=Math.pow(p,2);e=1-this.es*Math.pow(s,2),u/=Math.sqrt(e);var m=qi(a,s,l,this.en);i=this.a*(this.k0*u*(1+h/6*(1-p+c+h/20*(5-18*p+g+14*c-58*p*c+h/42*(61+179*g-g*p-479*p)))))+this.x0,n=this.a*(this.k0*(m-this.ml0+s*o*u/2*(1+h/12*(5-p+9*c+4*f+h/30*(61+g-58*p+270*c-330*p*c+h/56*(1385+543*g-g*p-3111*p))))))+this.y0}else{var _=l*Math.sin(o);if(Math.abs(Math.abs(_)-1)<Be)return 93;if(i=.5*this.a*this.k0*Math.log((1+_)/(1-_))+this.x0,n=l*Math.cos(o)/Math.sqrt(1-Math.pow(_,2)),1>(_=Math.abs(n)))n=Math.acos(n);else{if(_-1>Be)return 93;n=0}0>a&&(n=-n),n=this.a*this.k0*(n-this.lat0)+this.y0}return t.x=i,t.y=n,t}function ot(t){var e,i,n,r,a=1/this.a*(t.x-this.x0),o=1/this.a*(t.y-this.y0);if(this.es)if(e=this.ml0+o/this.k0,i=Hi(e,this.es,this.en),Math.abs(i)<ke){var s=Math.sin(i),l=Math.cos(i),u=Math.abs(l)>Be?Math.tan(i):0,h=this.ep2*Math.pow(l,2),c=Math.pow(h,2),f=Math.pow(u,2),d=Math.pow(f,2);e=1-this.es*Math.pow(s,2);var p=a*Math.sqrt(e)/this.k0,g=Math.pow(p,2);e*=u,n=i-e*g/(1-this.es)*.5*(1-g/12*(5+3*f-9*h*f+h-4*c-g/30*(61+90*f-252*h*f+45*d+46*h-g/56*(1385+3633*f+4095*d+1574*d*f)))),r=fi(this.long0+p*(1-g/6*(1+2*f+h-g/20*(5+28*f+24*d+8*h*f+6*h-g/42*(61+662*f+1320*d+720*d*f))))/l)}else n=ke*ci(o),r=0;else{var m=Math.exp(a/this.k0),_=.5*(m-1/m),y=this.lat0+o/this.k0,v=Math.cos(y);e=Math.sqrt((1-Math.pow(v,2))/(1+Math.pow(_,2))),n=Math.asin(e),0>o&&(n=-n),r=0===_&&0===v?0:fi(Math.atan2(_,v)+this.long0)}return t.x=r,t.y=n,t}function st(){if(void 0===this.es||0>=this.es)throw Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),i=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),i*=e,this.cgb[1]=i*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=i*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),i*=e,this.cgb[2]=i*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=i*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),i*=e,this.cgb[3]=i*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=i*(1237/630+e*(e*(-24832/14175)-2.4)),i*=e,this.cgb[4]=i*(4174/315+e*(-144838/6237)),this.cbg[4]=i*(-734/315+e*(109598/31185)),i*=e,this.cgb[5]=i*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+i*(.25+i*(1/64+i/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=i*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=i*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),i*=e,this.utg[2]=i*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=i*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),i*=e,this.utg[3]=i*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=i*(49561/161280+e*(-179/168+e*(6601661/7257600))),i*=e,this.utg[4]=i*(-4583/161280+e*(108847/3991680)),this.gtu[4]=i*(34729/80640+e*(-3418889/1995840)),i*=e,this.utg[5]=-.03233083094085698*i,this.gtu[5]=.6650675310896665*i;var n=en(this.cbg,this.lat0);this.Zb=-this.Qn*(n+nn(this.gtu,2*n))}function lt(t){var e=fi(t.x-this.long0),i=t.y;i=en(this.cbg,i);var n=Math.sin(i),r=Math.cos(i),a=Math.sin(e),o=Math.cos(e);i=Math.atan2(n,o*r),e=Math.atan2(a*r,Qi(n,r*o)),e=tn(Math.tan(e));var s=an(this.gtu,2*i,2*e);i+=s[0],e+=s[1];var l,u;return Math.abs(e)>2.623395162778?(l=1/0,u=1/0):(l=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*i+this.Zb)+this.y0),t.x=l,t.y=u,t}function ut(t){var e=1/this.a*(t.x-this.x0),i=1/this.a*(t.y-this.y0);i=(i-this.Zb)/this.Qn,e/=this.Qn;var n,r;if(2.623395162778<Math.abs(e))n=1/0,r=1/0;else{var a=an(this.utg,2*i,2*e);i+=a[0],e+=a[1],e=Math.atan(Ji(e));var o=Math.sin(i),s=Math.cos(i),l=Math.sin(e),u=Math.cos(e);i=Math.atan2(o*u,Qi(l,u*s)),e=Math.atan2(l,u*s),n=fi(e+this.long0),r=en(this.cgb,i)}return t.x=n,t.y=r,t}function ht(){var t=ln(this.zone,this.long0);if(void 0===t)throw Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*We,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,sn.init.apply(this),this.forward=sn.forward,this.inverse=sn.inverse}function ct(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Xe)/(Math.pow(Math.tan(.5*this.lat0+Xe),this.C)*cn(this.e*t,this.ratexp))}function ft(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+Xe),this.C)*cn(this.e*Math.sin(i),this.ratexp))-ke,t.x=this.C*e,t}function dt(t){for(var e=t.x/this.C,i=t.y,n=Math.pow(Math.tan(.5*i+Xe)/this.K,1/this.C),r=fn;r>0&&(i=2*Math.atan(n*cn(this.e*Math.sin(t.y),-.5*this.e))-ke,1e-14<=Math.abs(i-t.y));--r)t.y=i;return r?(t.x=e,t.y=i,t):null}function pt(){pn.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function gt(t){var e,i,n,r;return t.x=fi(t.x-this.long0),pn.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),n=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*n),t.x=r*i*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*i*n),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function mt(t){var e,i,n,r,a;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,a=Math.sqrt(t.x*t.x+t.y*t.y)){var o=2*Math.atan2(a,this.R2);e=Math.sin(o),i=Math.cos(o),r=Math.asin(i*this.sinc0+t.y*e*this.cosc0/a),n=Math.atan2(t.x*e,a*this.cosc0*i-t.y*this.sinc0*e)}else r=this.phic0,n=0;return t.x=n,t.y=r,pn.inverse.apply(this,[t]),t.x=fi(t.x+this.long0),t}function _t(t,e,i){return e*=i,Math.tan(.5*(ke+t))*Math.pow((1-e)/(1+e),.5*i)}function yt(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1!==this.k0||isNaN(this.lat_ts)||Math.abs(this.coslat0)>Be||(this.k0=.5*(1+ci(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)>Be||(this.con=this.lat0>0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1!==this.k0||isNaN(this.lat_ts)||Math.abs(this.coslat0)>Be||(this.k0=.5*this.cons*hi(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/di(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=hi(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-ke,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function vt(t){var e,i,n,r,a,o,s=t.x,l=t.y,u=Math.sin(l),h=Math.cos(l),c=fi(s-this.long0);return Math.abs(Math.abs(s-this.long0)-Math.PI)>Be||Math.abs(l+this.lat0)>Be?this.sphere?(e=2*this.k0/(1+this.sinlat0*u+this.coslat0*h*Math.cos(c)),t.x=this.a*e*h*Math.sin(c)+this.x0,t.y=this.a*e*(this.coslat0*u-this.sinlat0*h*Math.cos(c))+this.y0,t):(i=2*Math.atan(this.ssfn_(l,u,this.e))-ke,r=Math.cos(i),n=Math.sin(i),Math.abs(this.coslat0)>Be?(Math.abs(this.sinlat0)<Be?(e=2*this.a*this.k0/(1+r*Math.cos(c)),t.y=e*n):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*n+this.cosX0*r*Math.cos(c))),t.y=e*(this.cosX0*n-this.sinX0*r*Math.cos(c))+this.y0),t.x=e*r*Math.sin(c)+this.x0,t):(a=di(this.e,l*this.con,this.con*u),o=2*this.a*this.k0*a/this.cons,t.x=this.x0+o*Math.sin(s-this.long0),t.y=this.y0-this.con*o*Math.cos(s-this.long0),t)):(t.x=NaN,t.y=NaN,t)}function Et(t){t.x-=this.x0,t.y-=this.y0;var e,i,n,r,a,o=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var s=2*Math.atan(o/(.5*this.a*this.k0));return e=this.long0,i=this.lat0,o>Be?(i=Math.asin(Math.cos(s)*this.sinlat0+t.y*Math.sin(s)*this.coslat0/o),e=fi(Math.abs(this.coslat0)<Be?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(s),o*this.coslat0*Math.cos(s)-t.y*this.sinlat0*Math.sin(s))),t.x=e,t.y=i,t):(t.x=e,t.y=i,t)}if(Math.abs(this.coslat0)>Be)r=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,o>Be?(a=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/o),e=fi(this.long0+Math.atan2(t.x*Math.sin(r),o*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))):a=this.X0,i=-1*pi(this.e,Math.tan(.5*(ke+a)));else{if(Be>=o)return i=this.lat0,e=this.long0,t.x=e,t.y=i,t;t.x*=this.con,t.y*=this.con,n=o*this.cons/(2*this.a*this.k0),i=this.con*pi(this.e,n),e=this.con*fi(this.con*this.long0+Math.atan2(t.x,-1*t.y))}return t.x=e,t.y=i,t}function bt(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,n=this.rf,r=1/n,a=2*r-Math.pow(r,2),o=this.e=Math.sqrt(a);this.R=this.k0*i*Math.sqrt(1-a)/(1-a*Math.pow(e,2)),this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha),this.K=Math.log(Math.tan(Math.PI/4+this.b0/2))-this.alpha*Math.log(Math.tan(Math.PI/4+t/2))+this.alpha*o/2*Math.log((1+o*e)/(1-o*e))}function xt(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+i)+this.K,r=2*(Math.atan(Math.exp(n))-Math.PI/4),a=this.alpha*(t.x-this.lambda0),o=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(a))),s=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(a));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*o+this.x0,t}function Ct(t){for(var e=t.x-this.x0,i=t.y-this.y0,n=e/this.R,r=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(n)),o=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(r))),s=this.lambda0+o/this.alpha,l=0,u=a,h=-1e3,c=0;Math.abs(u-h)>1e-7;){if(++c>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),h=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=s,t.y=u,t}function St(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),i=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-i*i);var n=di(this.e,this.lat0,t),r=this.bl/e*Math.sqrt((1-this.es)/(1-i*i));1>r*r&&(r=1);var a,o;if(isNaN(this.longc)){var s=di(this.e,this.lat1,Math.sin(this.lat1)),l=di(this.e,this.lat2,Math.sin(this.lat2));this.el=0>this.lat0?(r-Math.sqrt(r*r-1))*Math.pow(n,this.bl):(r+Math.sqrt(r*r-1))*Math.pow(n,this.bl);var u=Math.pow(s,this.bl),h=Math.pow(l,this.bl);a=this.el/u,o=.5*(a-1/a);var c=(this.el*this.el-h*u)/(this.el*this.el+h*u),f=(h-u)/(h+u),d=fi(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(c*Math.tan(.5*this.bl*d)/f)/this.bl,this.long0=fi(this.long0);var p=fi(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*p)/o),this.alpha=Math.asin(r*Math.sin(this.gamma0))}else a=0>this.lat0?r-Math.sqrt(r*r-1):r+Math.sqrt(r*r-1),this.el=a*Math.pow(n,this.bl),o=.5*(a-1/a),this.gamma0=Math.asin(Math.sin(this.alpha)/r),this.long0=this.longc-Math.asin(o*Math.tan(this.gamma0))/this.bl;this.uc=this.no_off?0:0>this.lat0?-1*this.al/this.bl*Math.atan2(Math.sqrt(r*r-1),Math.cos(this.alpha)):this.al/this.bl*Math.atan2(Math.sqrt(r*r-1),Math.cos(this.alpha))}function Tt(t){var e,i,n,r=t.x,a=t.y,o=fi(r-this.long0);if(Math.abs(Math.abs(a)-ke)>Be){var s=di(this.e,a,Math.sin(a)),l=this.el/Math.pow(s,this.bl),u=.5*(l-1/l),h=.5*(l+1/l),c=Math.sin(this.bl*o),f=(u*Math.sin(this.gamma0)-c*Math.cos(this.gamma0))/h;i=Math.abs(Math.abs(f)-1)>Be?.5*this.al*Math.log((1-f)/(1+f))/this.bl:Number.POSITIVE_INFINITY,e=Math.abs(Math.cos(this.bl*o))>Be?this.al*Math.atan2(u*Math.cos(this.gamma0)+c*Math.sin(this.gamma0),Math.cos(this.bl*o))/this.bl:this.al*this.bl*o}else n=a>0?-1:1,i=this.al/this.bl*Math.log(Math.tan(Xe+n*this.gamma0*.5)),e=-1*n*ke*this.al/this.bl;return this.no_rot?(t.x=this.x0+e,t.y=this.y0+i):(e-=this.uc,t.x=this.x0+i*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-i*Math.sin(this.alpha)),t}function Rt(t){var e,i;this.no_rot?(i=t.y-this.y0,e=t.x-this.x0):(i=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var n=Math.exp(-1*this.bl*i/this.al),r=.5*(n-1/n),a=.5*(n+1/n),o=Math.sin(this.bl*e/this.al),s=(o*Math.cos(this.gamma0)+r*Math.sin(this.gamma0))/a,l=Math.pow(this.el/Math.sqrt((1+s)/(1-s)),1/this.bl);return Math.abs(s-1)<Be?(t.x=this.long0,t.y=ke):Math.abs(s+1)<Be?(t.x=this.long0,t.y=-1*ke):(t.y=pi(this.e,l),t.x=fi(this.long0-Math.atan2(r*Math.cos(this.gamma0)-o*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t}function Mt(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,Math.abs(this.lat1+this.lat2)>=Be){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),n=hi(this.e,e,i),r=di(this.e,this.lat1,e),a=Math.sin(this.lat2),o=Math.cos(this.lat2),s=hi(this.e,a,o),l=di(this.e,this.lat2,a),u=di(this.e,this.lat0,Math.sin(this.lat0));this.ns=Math.abs(this.lat1-this.lat2)>Be?Math.log(n/s)/Math.log(r/l):e,isNaN(this.ns)&&(this.ns=e),this.f0=n/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function wt(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)>Be||(i=ci(i)*(ke-2*Be));var n,r,a=Math.abs(Math.abs(i)-ke);if(a>Be)n=di(this.e,i,Math.sin(i)),r=this.a*this.f0*Math.pow(n,this.ns);else{if(0>=(a=i*this.ns))return null;r=0}var o=this.ns*fi(e-this.long0);return t.x=this.k0*(r*Math.sin(o))+this.x0,t.y=this.k0*(this.rh-r*Math.cos(o))+this.y0,t}function Ot(t){var e,i,n,r,a,o=(t.x-this.x0)/this.k0,s=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(o*o+s*s),i=1):(e=-Math.sqrt(o*o+s*s),i=-1);var l=0;if(0!==e&&(l=Math.atan2(i*o,i*s)),0!==e||this.ns>0){if(i=1/this.ns,n=Math.pow(e/(this.a*this.f0),i),-9999===(r=pi(this.e,n)))return null}else r=-ke;return a=fi(l/this.ns+this.long0),t.x=a,t.y=r,t}function At(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function It(t){var e,i,n,r,a,o,s,l=t.x,u=t.y,h=fi(l-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),n=-h*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(n)),a=Math.asin(Math.cos(i)*Math.sin(n)/Math.cos(r)),o=this.n*a,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=s*Math.cos(o)/1,t.x=s*Math.sin(o)/1,this.czech||(t.y*=-1,t.x*=-1),t}function Pt(t){var e,i,n,r,a,o,s,l,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),a=Math.atan2(t.y,t.x),r=a/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),i=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(e)),t.x=this.long0-i/this.alfa,s=e,l=0;var h=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),1e-10>Math.abs(s-t.y)&&(l=1),s=t.y,h+=1}while(0===l&&15>h);return 15>h?t:null}function Lt(){this.sphere||(this.e0=wn(this.es),this.e1=On(this.es),this.e2=An(this.es),this.e3=In(this.es),this.ml0=this.a*Mn(this.e0,this.e1,this.e2,this.e3,this.lat0))}function Nt(t){var e,i,n=t.x,r=t.y;if(n=fi(n-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(n)),i=this.a*(Math.atan2(Math.tan(r),Math.cos(n))-this.lat0);else{var a=Math.sin(r),o=Math.cos(r),s=Pn(this.a,this.e,a),l=Math.tan(r)*Math.tan(r),u=n*Math.cos(r),h=u*u,c=this.es*o*o/(1-this.es),f=this.a*Mn(this.e0,this.e1,this.e2,this.e3,r);e=s*u*(1-h*l*(1/6-(8-l+8*c)*h/120)),i=f-this.ml0+s*a/o*h*(.5+(5-l+6*c)*h/24)}return t.x=e+this.x0,t.y=i+this.y0,t}function Ft(t){t.x-=this.x0,t.y-=this.y0;var e,i,n=t.x/this.a,r=t.y/this.a;if(this.sphere){var a=r+this.lat0;e=Math.asin(Math.sin(a)*Math.cos(n)),i=Math.atan2(Math.tan(n),Math.cos(a))}else{var o=this.ml0/this.a+r,s=Nn(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-ke)<=Be)return t.x=this.long0,t.y=ke,0>r&&(t.y*=-1),t;var l=Pn(this.a,this.e,Math.sin(s)),u=l*l*l/this.a/this.a*(1-this.es),h=Math.pow(Math.tan(s),2),c=n*this.a/l,f=c*c;e=s-l*Math.tan(s)/u*c*c*(.5-(1+3*h)*c*c/24),i=c*(1-f*(h/3+(1+3*h)*h*f/15))/Math.cos(s)}return t.x=fi(i+this.long0),t.y=Ln(e),t}function Dt(){var t=Math.abs(this.lat0);if(this.mode=Math.abs(t-ke)<Be?0>this.lat0?this.S_POLE:this.N_POLE:Math.abs(t)<Be?this.EQUIT:this.OBLIQ,this.es>0){var e;switch(this.qp=kn(this.e,1),this.mmf=.5/(1-this.es),this.apa=jt(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=kn(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function kt(t){var e,i,n,r,a,o,s,l,u,h,c=t.x,f=t.y;if(c=fi(c-this.long0),this.sphere){if(a=Math.sin(f),h=Math.cos(f),n=Math.cos(c),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(i=this.mode===this.EQUIT?1+h*n:1+this.sinph0*a+this.cosph0*h*n,Be>=i)return null;i=Math.sqrt(2/i),e=i*h*Math.sin(c),i*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*h*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(f+this.phi0)<Be)return null;i=Xe-.5*f,i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)),e=i*Math.sin(c),i*=n}}else{switch(s=0,l=0,u=0,n=Math.cos(c),r=Math.sin(c),a=Math.sin(f),o=kn(this.e,a),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=o/this.qp,l=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:u=1+this.sinb1*s+this.cosb1*l*n;break;case this.EQUIT:u=1+l*n;break;case this.N_POLE:u=ke+f,o=this.qp-o;break;case this.S_POLE:u=f-ke,o=this.qp+o}if(Math.abs(u)<Be)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),i=this.mode===this.OBLIQ?this.ymf*u*(this.cosb1*s-this.sinb1*l*n):(u=Math.sqrt(2/(1+l*n)))*s*this.ymf,e=this.xmf*u*l*r;break;case this.N_POLE:case this.S_POLE:0>o?e=i=0:(e=(u=Math.sqrt(o))*r,i=n*(this.mode===this.S_POLE?u:-u))}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t}function Gt(t){t.x-=this.x0,t.y-=this.y0;var e,i,n,r,a,o,s,l=t.x/this.a,u=t.y/this.a;if(this.sphere){var h,c=0,f=0;if(h=Math.sqrt(l*l+u*u),(i=.5*h)>1)return null;switch(i=2*Math.asin(i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=Math.sin(i),c=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(h)>Be?Math.asin(u*f/h):0,l*=f,u=c*h;break;case this.OBLIQ:i=Math.abs(h)>Be?Math.asin(c*this.sinph0+u*f*this.cosph0/h):this.phi0,l*=f*this.cosph0,u=(c-Math.sin(i)*this.sinph0)*h;break;case this.N_POLE:u=-u,i=ke-i;break;case this.S_POLE:i-=ke}e=0!==u||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(l,u):0}else{if(s=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(l/=this.dd,u*=this.dd,o=Math.sqrt(l*l+u*u),Be>o)return t.x=0,t.y=this.phi0,t;r=2*Math.asin(.5*o/this.rq),n=Math.cos(r),l*=r=Math.sin(r),this.mode===this.OBLIQ?(s=n*this.sinb1+u*r*this.cosb1/o,a=this.qp*s,u=o*this.cosb1*n-u*this.sinb1*r):(s=u*r/o,a=this.qp*s,u=o*n)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(u=-u),!(a=l*l+u*u))return t.x=0,t.y=this.phi0,t;s=1-a/this.qp,this.mode===this.S_POLE&&(s=-s)}e=Math.atan2(l,u),i=Ut(Math.asin(s),this.apa)}return t.x=fi(this.long0+e),t.y=i,t}function jt(t){var e,i=[];return i[0]=t*Gn,e=t*t,i[0]+=e*jn,i[1]=e*Bn,e*=t,i[0]+=e*Un,i[1]+=e*Wn,i[2]=e*zn,i}function Ut(t,e){var i=t+t;return t+e[0]*Math.sin(i)+e[1]*Math.sin(i+i)+e[2]*Math.sin(i+i+i)}function Bt(){Math.abs(this.lat1+this.lat2)<Be||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=hi(this.e3,this.sin_po,this.cos_po),this.qs1=kn(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=hi(this.e3,this.sin_po,this.cos_po),this.qs2=kn(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=kn(this.e3,this.sin_po,this.cos_po),this.ns0=Math.abs(this.lat1-this.lat2)>Be?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Wt(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var n=kn(this.e3,this.sin_phi,this.cos_phi),r=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,a=this.ns0*fi(e-this.long0),o=r*Math.sin(a)+this.x0,s=this.rh-r*Math.cos(a)+this.y0;return t.x=o,t.y=s,t}function zt(t){var e,i,n,r,a,o;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,0>this.ns0?(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1):(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1),r=0,0!==e&&(r=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?o=Math.asin((this.c-n*n)/(2*this.ns0)):(i=(this.c-n*n)/this.ns0,o=this.phi1z(this.e3,i)),a=fi(r/this.ns0+this.long0),t.x=a,t.y=o,t}function Xt(t,e){var i,n,r,a,o,s=Yn(.5*e);if(Be>t)return s;for(var l=t*t,u=1;25>=u;u++)if(i=Math.sin(s),n=Math.cos(s),r=t*i,a=1-r*r,o=.5*a*a/n*(e/(1-l)-i/a+.5/t*Math.log((1-r)/(1+r))),s+=o,1e-7>=Math.abs(o))return s;return null}function Vt(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Yt(t){var e,i,n,r,a,o,s,l,u=t.x,h=t.y;return n=fi(u-this.long0),e=Math.sin(h),i=Math.cos(h),r=Math.cos(n),o=this.sin_p14*e+this.cos_p14*i*r,a=1,o>0||Math.abs(o)<=Be?(s=this.x0+this.a*a*i*Math.sin(n)/o,l=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*i*r)/o):(s=this.x0+this.infinity_dist*i*Math.sin(n),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*r)),t.x=s,t.y=l,t}function qt(t){var e,i,n,r,a,o;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),i=Math.sin(r),n=Math.cos(r),o=Yn(n*this.sin_p14+t.y*i*this.cos_p14/e),a=Math.atan2(t.x*i,e*this.cos_p14*n-t.y*this.sin_p14*i),a=fi(this.long0+a)):(o=this.phic0,a=0),t.x=a,t.y=o,t}function Ht(){this.sphere||(this.k0=hi(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Kt(t){var e,i,n=t.x,r=t.y,a=fi(n-this.long0);if(this.sphere)e=this.x0+this.a*a*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var o=kn(this.e,Math.sin(r));e=this.x0+this.a*this.k0*a,i=this.y0+this.a*o*.5/this.k0}return t.x=e,t.y=i,t}function Zt(t){t.x-=this.x0,t.y-=this.y0;var e,i;return this.sphere?(e=fi(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=Jn(this.e,2*t.y*this.k0/this.a),e=fi(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t}function Jt(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function Qt(t){var e=t.x,i=t.y,n=fi(e-this.long0),r=Ln(i-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*r,t}function $t(t){var e=t.x,i=t.y;return t.x=fi(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=Ln(this.lat0+(i-this.y0)/this.a),t}function te(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=wn(this.es),this.e1=On(this.es),this.e2=An(this.es),this.e3=In(this.es),this.ml0=this.a*Mn(this.e0,this.e1,this.e2,this.e3,this.lat0)}function ee(t){var e,i,n,r=t.x,a=t.y,o=fi(r-this.long0);if(n=o*Math.sin(a),this.sphere)Math.abs(a)>Be?(e=this.a*Math.sin(n)/Math.tan(a),i=this.a*(Ln(a-this.lat0)+(1-Math.cos(n))/Math.tan(a))):(e=this.a*o,i=-1*this.a*this.lat0);else if(Math.abs(a)>Be){var s=Pn(this.a,this.e,Math.sin(a))/Math.tan(a);e=s*Math.sin(n),i=this.a*Mn(this.e0,this.e1,this.e2,this.e3,a)-this.ml0+s*(1-Math.cos(n))}else e=this.a*o,i=-1*this.ml0;return t.x=e+this.x0,t.y=i+this.y0,t}function ie(t){var e,i,n,r,a,o,s,l,u;if(n=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)>Be){o=this.lat0+r/this.a,s=n*n/this.a/this.a+o*o,l=o;var h;for(a=ir;a;--a)if(h=Math.tan(l),u=-1*(o*(l*h+1)-l-.5*(l*l+s)*h)/((l-o)/h-1),l+=u,Math.abs(u)<=Be){i=l;break}e=fi(this.long0+Math.asin(n*Math.tan(l)/this.a)/Math.sin(i))}else e=fi(n/this.a+this.long0),i=0;else if(Math.abs(r+this.ml0)>Be){o=(this.ml0+r)/this.a,s=n*n/this.a/this.a+o*o,l=o;var c,f,d,p,g;for(a=ir;a;--a)if(g=this.e*Math.sin(l),c=Math.sqrt(1-g*g)*Math.tan(l),f=this.a*Mn(this.e0,this.e1,this.e2,this.e3,l),d=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),p=f/this.a,u=(o*(c*p+1)-p-.5*c*(p*p+s))/(this.es*Math.sin(2*l)*(p*p+s-2*o*p)/(4*c)+(o-p)*(c*d-2/Math.sin(2*l))-d),l-=u,Math.abs(u)<=Be){i=l;break}c=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=fi(this.long0+Math.asin(n*c/this.a)/Math.sin(i))}else i=0,e=fi(this.long0+n/this.a);return t.x=e,t.y=i,t}function ne(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function re(t){var e,i=t.x,n=t.y,r=n-this.lat0,a=i-this.long0,o=r/De*1e-5,s=a,l=1,u=0;for(e=1;10>=e;e++)l*=o,u+=this.A[e]*l;var h,c,f=u,d=s,p=1,g=0,m=0,_=0;for(e=1;6>=e;e++)h=p*f-g*d,c=g*f+p*d,p=h,g=c,m=m+this.B_re[e]*p-this.B_im[e]*g,_=_+this.B_im[e]*p+this.B_re[e]*g;return t.x=_*this.a+this.x0,t.y=m*this.a+this.y0,t}function ae(t){var e,i,n,r=t.x,a=t.y,o=r-this.x0,s=a-this.y0,l=s/this.a,u=o/this.a,h=1,c=0,f=0,d=0;for(e=1;6>=e;e++)i=h*l-c*u,n=c*l+h*u,h=i,c=n,f=f+this.C_re[e]*h-this.C_im[e]*c,d=d+this.C_im[e]*h+this.C_re[e]*c;for(var p=0;this.iterations>p;p++){var g,m,_=f,y=d,v=l,E=u;for(e=2;6>=e;e++)g=_*f-y*d,m=y*f+_*d,_=g,y=m,v+=(e-1)*(this.B_re[e]*_-this.B_im[e]*y),E+=(e-1)*(this.B_im[e]*_+this.B_re[e]*y);_=1,y=0;var b=this.B_re[1],x=this.B_im[1];for(e=2;6>=e;e++)g=_*f-y*d,m=y*f+_*d,_=g,y=m,b+=e*(this.B_re[e]*_-this.B_im[e]*y),x+=e*(this.B_im[e]*_+this.B_re[e]*y);var C=b*b+x*x;f=(v*b+E*x)/C,d=(E*b-v*x)/C}var S=f,T=d,R=1,M=0;for(e=1;9>=e;e++)R*=S,M+=this.D[e]*R;var w=this.lat0+M*De*1e5;return t.x=this.long0+T,t.y=w,t}function oe(){}function se(t){var e=t.x,i=t.y,n=fi(e-this.long0),r=this.x0+this.a*n,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=r,t.y=a,t}function le(t){t.x-=this.x0,t.y-=this.y0;var e=fi(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t}function ue(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Yi(this.es)}function he(t){var e,i,n=t.x,r=t.y;if(n=fi(n-this.long0),this.sphere){if(this.m)for(var a=this.n*Math.sin(r),o=ur;o;--o){var s=(this.m*r+Math.sin(r)-a)/(this.m+Math.cos(r));if(r-=s,Math.abs(s)<Be)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*n*(this.m+Math.cos(r)),i=this.a*this.C_y*r}else{var l=Math.sin(r),u=Math.cos(r);i=this.a*qi(r,l,u,this.en),e=this.a*n*u/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=i,t}function ce(t){var e,i,n,r;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n/=this.C_x*(this.m+Math.cos(e)),this.m?e=Yn((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=Yn(Math.sin(e)/this.n)),n=fi(n+this.long0),e=Ln(e)):(e=Hi(t.y/this.a,this.es,this.en),r=Math.abs(e),ke>r?(r=Math.sin(e),i=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),n=fi(i)):ke>r-Be&&(n=this.long0)),t.x=n,t.y=e,t}function fe(){}function de(t){for(var e=t.x,i=t.y,n=fi(e-this.long0),r=i,a=Math.PI*Math.sin(i);;){var o=-(r+Math.sin(r)-a)/(1+Math.cos(r));if(r+=o,Math.abs(o)<Be)break}r/=2,Math.PI/2-Math.abs(i)<Be&&(n=0);var s=.900316316158*this.a*n*Math.cos(r)+this.x0,l=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=s,t.y=l,t}function pe(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),e=Math.asin(i);var n=fi(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,Math.abs(i)>1&&(i=1);var r=Math.asin(i);return t.x=n,t.y=r,t}function ge(){Math.abs(this.lat1+this.lat2)<Be||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=wn(this.es),this.e1=On(this.es),this.e2=An(this.es),this.e3=In(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=hi(this.e,this.sinphi,this.cosphi),this.ml1=Mn(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Be?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=hi(this.e,this.sinphi,this.cosphi),this.ml2=Mn(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Mn(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function me(t){var e,i=t.x,n=t.y;e=this.sphere?this.a*(this.g-n):this.a*(this.g-Mn(this.e0,this.e1,this.e2,this.e3,n));var r=this.ns*fi(i-this.long0),a=this.x0+e*Math.sin(r),o=this.y0+this.rh-e*Math.cos(r);return t.x=a,t.y=o,t}function _e(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,i,n,r;0>this.ns?(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1):(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1);var a=0;return 0!==i&&(a=Math.atan2(e*t.x,e*t.y)),this.sphere?(r=fi(this.long0+a/this.ns),n=Ln(this.g-i/this.a),t.x=r,t.y=n,t):(n=Nn(this.g-i/this.a,this.e0,this.e1,this.e2,this.e3),r=fi(this.long0+a/this.ns),t.x=r,t.y=n,t)}function ye(){this.R=this.a}function ve(t){var e,i,n=t.x,r=t.y,a=fi(n-this.long0);Math.abs(r)>Be||(e=this.x0+this.R*a,i=this.y0);var o=Yn(2*Math.abs(r/Math.PI));Math.abs(a)>Be&&Math.abs(Math.abs(r)-ke)>Be||(e=this.x0,i=0>r?this.y0+Math.PI*this.R*-Math.tan(.5*o):this.y0+Math.PI*this.R*Math.tan(.5*o));var s=.5*Math.abs(Math.PI/a-a/Math.PI),l=s*s,u=Math.sin(o),h=Math.cos(o),c=h/(u+h-1),f=c*c,d=c*(2/u-1),p=d*d,g=Math.PI*this.R*(s*(c-p)+Math.sqrt(l*(c-p)*(c-p)-(p+l)*(f-p)))/(p+l);0>a&&(g=-g),e=this.x0+g;var m=l+c;return g=Math.PI*this.R*(d*m-s*Math.sqrt((p+l)*(l+1)-m*m))/(p+l),i=0>r?this.y0-g:this.y0+g,t.x=e,t.y=i,t}function Ee(t){var e,i,n,r,a,o,s,l,u,h,c,f,d;return t.x-=this.x0,t.y-=this.y0,c=Math.PI*this.R,n=t.x/c,r=t.y/c,a=n*n+r*r,o=-Math.abs(r)*(1+a),s=o-2*r*r+n*n,l=-2*o+1+2*r*r+a*a,d=r*r/l+(2*s*s*s/l/l/l-9*o*s/l/l)/27,u=(o-s*s/3/l)/l,h=2*Math.sqrt(-u/3),c=3*d/u/h,Math.abs(c)>1&&(c=0>c?-1:1),f=Math.acos(c)/3,i=0>t.y?-(-h*Math.cos(f+Math.PI/3)-s/3/l)*Math.PI:(-h*Math.cos(f+Math.PI/3)-s/3/l)*Math.PI,e=Math.abs(n)<Be?this.long0:fi(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(n*n-r*r)+a*a))/2/n),t.x=e,t.y=i,t}function be(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function xe(t){var e,i,n,r,a,o,s,l,u,h,c,f,d,p,g,m,_,y,v,E,b,x,C,S=t.x,T=t.y,R=Math.sin(t.y),M=Math.cos(t.y),w=fi(S-this.long0);return this.sphere?Math.abs(this.sin_p12-1)>Be?Math.abs(this.sin_p12+1)>Be?(y=this.sin_p12*R+this.cos_p12*M*Math.cos(w),m=Math.acos(y),_=m/Math.sin(m),t.x=this.x0+this.a*_*M*Math.sin(w),t.y=this.y0+this.a*_*(this.cos_p12*R-this.sin_p12*M*Math.cos(w)),t):(t.x=this.x0+this.a*(ke+T)*Math.sin(w),t.y=this.y0+this.a*(ke+T)*Math.cos(w),t):(t.x=this.x0+this.a*(ke-T)*Math.sin(w),t.y=this.y0-this.a*(ke-T)*Math.cos(w),t):(e=wn(this.es),i=On(this.es),n=An(this.es),r=In(this.es),Math.abs(this.sin_p12-1)>Be?Math.abs(this.sin_p12+1)>Be?(s=R/M,l=Pn(this.a,this.e,this.sin_p12),u=Pn(this.a,this.e,R),h=Math.atan((1-this.es)*s+this.es*l*this.sin_p12/(u*M)),c=Math.atan2(Math.sin(w),this.cos_p12*Math.tan(h)-this.sin_p12*Math.cos(w)),v=0===c?Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)):Math.abs(Math.abs(c)-Math.PI)>Be?Math.asin(Math.sin(w)*Math.cos(h)/Math.sin(c)):-Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)),f=this.e*this.sin_p12/Math.sqrt(1-this.es),d=this.e*this.cos_p12*Math.cos(c)/Math.sqrt(1-this.es),p=f*d,g=d*d,E=v*v,b=E*v,x=b*v,C=x*v,m=l*v*(1-E*g*(1-g)/6+b/8*p*(1-2*g)+x/120*(g*(4-7*g)-3*f*f*(1-7*g))-C/48*p),t.x=this.x0+m*Math.sin(c),t.y=this.y0+m*Math.cos(c),t):(a=this.a*Mn(e,i,n,r,ke),o=this.a*Mn(e,i,n,r,T),t.x=this.x0+(a+o)*Math.sin(w),t.y=this.y0+(a+o)*Math.cos(w),t):(a=this.a*Mn(e,i,n,r,ke),o=this.a*Mn(e,i,n,r,T),t.x=this.x0+(a-o)*Math.sin(w),t.y=this.y0-(a-o)*Math.cos(w),t))}function Ce(t){t.x-=this.x0,t.y-=this.y0;var e,i,n,r,a,o,s,l,u,h,c,f,d,p,g,m,_,y,v,E,b,x,C;if(this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*ke*this.a)return;return i=e/this.a,n=Math.sin(i),r=Math.cos(i),a=this.long0,Math.abs(e)>Be?(o=Yn(r*this.sin_p12+t.y*n*this.cos_p12/e),s=Math.abs(this.lat0)-ke,a=fi(Math.abs(s)>Be?this.long0+Math.atan2(t.x*n,e*this.cos_p12*r-t.y*this.sin_p12*n):0>this.lat0?this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x,-t.y))):o=this.lat0,t.x=a,t.y=o,t}return l=wn(this.es),u=On(this.es),h=An(this.es),c=In(this.es),Math.abs(this.sin_p12-1)>Be?Math.abs(this.sin_p12+1)>Be?(e=Math.sqrt(t.x*t.x+t.y*t.y),m=Math.atan2(t.x,t.y),p=Pn(this.a,this.e,this.sin_p12),_=Math.cos(m),y=this.e*this.cos_p12*_,v=-y*y/(1-this.es),E=3*this.es*(1-v)*this.sin_p12*this.cos_p12*_/(1-this.es),b=e/p,x=b-v*(1+v)*Math.pow(b,3)/6-E*(1+3*v)*Math.pow(b,4)/24,C=1-v*x*x/2-b*x*x*x/6,g=Math.asin(this.sin_p12*Math.cos(x)+this.cos_p12*Math.sin(x)*_),a=fi(this.long0+Math.asin(Math.sin(m)*Math.sin(x)/Math.cos(g))),o=Math.atan((1-this.es*C*this.sin_p12/Math.sin(g))*Math.tan(g)/(1-this.es)),t.x=a,t.y=o,t):(f=this.a*Mn(l,u,h,c,ke),e=Math.sqrt(t.x*t.x+t.y*t.y),d=e-f,o=Nn(d/this.a,l,u,h,c),a=fi(this.long0+Math.atan2(t.x,t.y)),t.x=a,t.y=o,t):(f=this.a*Mn(l,u,h,c,ke),e=Math.sqrt(t.x*t.x+t.y*t.y),d=f-e,o=Nn(d/this.a,l,u,h,c),a=fi(this.long0+Math.atan2(t.x,-1*t.y)),t.x=a,t.y=o,t)}function Se(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Te(t){var e,i,n,r,a,o,s,l,u=t.x,h=t.y;return n=fi(u-this.long0),e=Math.sin(h),i=Math.cos(h),r=Math.cos(n),o=this.sin_p14*e+this.cos_p14*i*r,a=1,0>=o&&Math.abs(o)>Be||(s=this.a*a*i*Math.sin(n),l=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*i*r)),t.x=s,t.y=l,t}function Re(t){var e,i,n,r,a,o,s;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),i=Yn(e/this.a),n=Math.sin(i),r=Math.cos(i),o=this.long0,Math.abs(e)>Be?(s=Yn(r*this.sin_p14+t.y*n*this.cos_p14/e),a=Math.abs(this.lat0)-ke,Math.abs(a)>Be?(o=fi(this.long0+Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n)),t.x=o,t.y=s,t):(o=fi(0>this.lat0?this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x,-t.y)),t.x=o,t.y=s,t)):(s=this.lat0,t.x=o,t.y=s,t)}function Me(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.face=ke-Xe/2>this.lat0?this.lat0>-(ke-Xe/2)?Math.abs(this.long0)>Xe?Math.abs(this.long0)>ke+Xe?xr.BACK:this.long0>0?xr.RIGHT:xr.LEFT:xr.FRONT:xr.BOTTOM:xr.TOP,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function we(t){var e,i,n,r,a,o,s={x:0,y:0},l={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,i=t.x,this.face===xr.TOP)r=ke-e,Xe>i||i>ke+Xe?i>ke+Xe||-(ke+Xe)>=i?(l.value=Cr.AREA_1,n=i>0?i-Ye:i+Ye):i>-(ke+Xe)&&-Xe>=i?(l.value=Cr.AREA_2,n=i+ke):(l.value=Cr.AREA_3,n=i):(l.value=Cr.AREA_0,n=i-ke);else if(this.face===xr.BOTTOM)r=ke+e,Xe>i||i>ke+Xe?Xe>i&&i>=-Xe?(l.value=Cr.AREA_1,n=-i):-Xe>i&&i>=-(ke+Xe)?(l.value=Cr.AREA_2,n=-i-ke):(l.value=Cr.AREA_3,n=i>0?-i+Ye:-i-Ye):(l.value=Cr.AREA_0,n=-i+ke);else{var u,h,c,f,d,p,g;this.face===xr.RIGHT?i=Ie(i,+ke):this.face===xr.BACK?i=Ie(i,+Ye):this.face===xr.LEFT&&(i=Ie(i,-ke)),f=Math.sin(e),d=Math.cos(e),p=Math.sin(i),g=Math.cos(i),u=d*g,h=d*p,c=f,this.face===xr.FRONT?(r=Math.acos(u),n=Ae(r,c,h,l)):this.face===xr.RIGHT?(r=Math.acos(h),n=Ae(r,c,-u,l)):this.face===xr.BACK?(r=Math.acos(-u),n=Ae(r,c,-h,l)):this.face===xr.LEFT?(r=Math.acos(-h),n=Ae(r,c,u,l)):(r=n=0,l.value=Cr.AREA_0)}return o=Math.atan(12/Ye*(n+Math.acos(Math.sin(n)*Math.cos(Xe))-ke)),a=Math.sqrt((1-Math.cos(r))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(n))))),l.value===Cr.AREA_1?o+=ke:l.value===Cr.AREA_2?o+=Ye:l.value===Cr.AREA_3&&(o+=1.5*Ye),s.x=a*Math.cos(o),s.y=a*Math.sin(o),s.x=s.x*this.a+this.x0,s.y=s.y*this.a+this.y0,t.x=s.x,t.y=s.y,t}function Oe(t){var e,i,n,r,a,o,s,l,u,h={lam:0,phi:0},c={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),0>t.x||t.x<Math.abs(t.y)?0>t.y||t.y<Math.abs(t.x)?0>t.x&&-t.x>=Math.abs(t.y)?(c.value=Cr.AREA_2,e=0>e?e+Ye:e-Ye):(c.value=Cr.AREA_3,e+=ke):(c.value=Cr.AREA_1,e-=ke):c.value=Cr.AREA_0,u=Ye/12*Math.tan(e),a=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),o=Math.atan(a),n=Math.cos(e),r=Math.tan(i),s=1-n*n*r*r*(1-Math.cos(Math.atan(1/Math.cos(o)))),-1>s?s=-1:s>1&&(s=1),this.face===xr.TOP)l=Math.acos(s),h.phi=ke-l,h.lam=c.value===Cr.AREA_0?o+ke:c.value===Cr.AREA_1?0>o?o+Ye:o-Ye:c.value===Cr.AREA_2?o-ke:o;else if(this.face===xr.BOTTOM)l=Math.acos(s),h.phi=l-ke,h.lam=c.value===Cr.AREA_0?-o+ke:c.value===Cr.AREA_1?-o:c.value===Cr.AREA_2?-o-ke:0>o?-o-Ye:-o+Ye;else{var f,d,p;f=s,u=f*f,p=1>u?Math.sqrt(1-u)*Math.sin(o):0,u+=p*p,d=1>u?Math.sqrt(1-u):0,c.value===Cr.AREA_1?(u=d,d=-p,p=u):c.value===Cr.AREA_2?(d=-d,p=-p):c.value===Cr.AREA_3&&(u=d,d=p,p=-u),this.face===xr.RIGHT?(u=f,f=-d,d=u):this.face===xr.BACK?(f=-f,d=-d):this.face===xr.LEFT&&(u=f,f=d,d=-u),h.phi=Math.acos(-p)-ke,h.lam=Math.atan2(d,f),this.face===xr.RIGHT?h.lam=Ie(h.lam,-ke):this.face===xr.BACK?h.lam=Ie(h.lam,-Ye):this.face===xr.LEFT&&(h.lam=Ie(h.lam,+ke))}if(0!==this.es){var g,m,_;g=0>h.phi?1:0,m=Math.tan(h.phi),_=this.b/Math.sqrt(m*m+this.one_minus_f_squared),h.phi=Math.atan(Math.sqrt(this.a*this.a-_*_)/(this.one_minus_f*_)),g&&(h.phi=-h.phi)}return h.lam+=this.long0,t.x=h.lam,t.y=h.phi,t}function Ae(t,e,i,n){var r;return Be>t?(n.value=Cr.AREA_0,r=0):(r=Math.atan2(e,i),Math.abs(r)>Xe?r>Xe&&ke+Xe>=r?(n.value=Cr.AREA_1,r-=ke):r>ke+Xe||-(ke+Xe)>=r?(n.value=Cr.AREA_2,r=0>r?r+Ye:r-Ye):(n.value=Cr.AREA_3,r+=ke):n.value=Cr.AREA_0),r}function Ie(t,e){var i=t+e;return-Ye>i?i+=Ve:i>+Ye&&(i-=Ve),i}Object.defineProperty(e,"__esModule",{value:!0});var Pe=1,Le=2,Ne=4,Fe=5,De=484813681109536e-20,ke=Math.PI/2,Ge=.16666666666666666,je=.04722222222222222,Ue=.022156084656084655,Be=1e-10,We=.017453292519943295,ze=57.29577951308232,Xe=Math.PI/4,Ve=2*Math.PI,Ye=3.14159265359,qe={};qe.greenwich=0,qe.lisbon=-9.131906111111,qe.paris=2.337229166667,qe.bogota=-74.080916666667,qe.madrid=-3.687938888889,qe.rome=12.452333333333,qe.bern=7.439583333333,qe.jakarta=106.807719444444,qe.ferro=-17.666666666667,qe.brussels=4.367975,qe.stockholm=18.058277777778,qe.athens=23.7163375,qe.oslo=10.722916666667;var He={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},Ke=/[\s_\-\/\(\)]/g,Ze=function(t){var e,i,r,a={},o=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var i=e.split("=");return i.push(!0),t[i[0].toLowerCase()]=i[1],t},{}),s={proj:"projName",datum:"datumCode",rf:function(t){a.rf=parseFloat(t)},lat_0:function(t){a.lat0=t*We},lat_1:function(t){a.lat1=t*We},lat_2:function(t){a.lat2=t*We},lat_ts:function(t){a.lat_ts=t*We},lon_0:function(t){a.long0=t*We},lon_1:function(t){a.long1=t*We},lon_2:function(t){a.long2=t*We},alpha:function(t){a.alpha=parseFloat(t)*We},lonc:function(t){a.longc=t*We},x_0:function(t){a.x0=parseFloat(t)},y_0:function(t){a.y0=parseFloat(t)},k_0:function(t){a.k0=parseFloat(t)},k:function(t){a.k0=parseFloat(t)},a:function(t){a.a=parseFloat(t)},b:function(t){a.b=parseFloat(t)},r_a:function(){a.R_A=!0},zone:function(t){a.zone=parseInt(t,10)},south:function(){a.utmSouth=!0},towgs84:function(t){a.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){a.to_meter=parseFloat(t)},units:function(t){a.units=t;var e=n(He,t);e&&(a.to_meter=e.to_meter)},from_greenwich:function(t){a.from_greenwich=t*We},pm:function(t){var e=n(qe,t);a.from_greenwich=(e||parseFloat(t))*We},nadgrids:function(t){"@null"===t?a.datumCode="none":a.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(a.axis=t)}};for(e in o)i=o[e],e in s?(r=s[e],"function"==typeof r?r(i):a[r]=i):a[e]=i;return"string"==typeof a.datumCode&&"WGS84"!==a.datumCode&&(a.datumCode=a.datumCode.toLowerCase()),a},Je=a,Qe=1,$e=/\s/,ti=/[A-Za-z]/,ei=/[A-Za-z84]/,ii=/[,\]]/,ni=/[\d\.E\-\+]/;r.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;$e.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case Qe:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},r.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(ii.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},r.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=Qe)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=Qe,void((this.currentObject=this.stack.pop())||(this.state=-1))):void 0},r.prototype.number=function(t){if(ni.test(t))return void(this.word+=t);if(ii.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw Error("havn't handled \""+t+'" in number yet, index '+this.place)},r.prototype.quoted=function(t){if('"'===t)return void(this.state=5);this.word+=t},r.prototype.keyword=function(t){if(ei.test(t))return void(this.word+=t);if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=Qe)}if(ii.test(t))return void this.afterItem(t);throw Error("havn't handled \""+t+'" in keyword yet, index '+this.place)},r.prototype.neutral=function(t){if(ti.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(ni.test(t))return this.word=t,void(this.state=3);if(ii.test(t))return void this.afterItem(t);throw Error("havn't handled \""+t+'" in neutral yet, index '+this.place)},r.prototype.output=function(){for(;this.text.length>this.place;)this.readCharicter();if(-1===this.state)return this.root;throw Error('unable to parse string "'+this.text+'". State is '+this.state)};var ri=.017453292519943295,ai=function(t){var e=Je(t),i=e.shift();e.unshift(["name",e.shift()]),e.unshift(["type",i]);var n={};return s(e,n),h(n),n};!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(c);var oi=c,si=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],li=m,ui=function(t,e){t=t||{};var i,n;if(!e)return t;for(n in e)void 0!==(i=e[n])&&(t[n]=i);return t},hi=function(t,e,i){var n=t*e;return i/Math.sqrt(1-n*n)},ci=function(t){return 0>t?-1:1},fi=function(t){return Math.abs(t)>Ye?t-ci(t)*Ve:t},di=function(t,e,i){var n=t*i,r=.5*t;return n=Math.pow((1-n)/(1+n),r),Math.tan(.5*(ke-e))/n},pi=function(t,e){for(var i,n,r=.5*t,a=ke-2*Math.atan(e),o=0;15>=o;o++)if(i=t*Math.sin(a),n=ke-2*Math.atan(e*Math.pow((1-i)/(1+i),r))-a,a+=n,1e-10>=Math.abs(n))return a;return-9999},gi=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],mi={init:_,forward:y,inverse:v,names:gi},_i=["longlat","identity"],yi={init:E,forward:b,inverse:b,names:_i},vi=[mi,yi],Ei={},bi=[],xi={start:S,add:x,get:C},Ci={};Ci.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},Ci.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},Ci.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},Ci.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},Ci.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},Ci.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},Ci.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},Ci.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},Ci.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},Ci.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},Ci.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},Ci.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},Ci.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},Ci.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},Ci.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},Ci.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},Ci.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},Ci.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},Ci.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},Ci.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},Ci.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},Ci.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},Ci.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},Ci.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},Ci.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},Ci.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},Ci.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},Ci.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},Ci.hough={a:6378270,rf:297,ellipseName:"Hough"},Ci.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},Ci.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},Ci.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},Ci.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},Ci.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},Ci.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},Ci.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},Ci.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},Ci.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},Ci.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},Ci.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},Ci.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var Si=Ci.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Ci.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var Ti={};Ti.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Ti.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Ti.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Ti.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Ti.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Ti.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Ti.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Ti.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},Ti.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Ti.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Ti.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Ti.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Ti.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Ti.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Ti.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Ti.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Ti.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var Ri=M;w.projections=xi,w.projections.start();var Mi=w,wi=function(t,e,i){return O(t,e)?i:t.datum_type===Fe||e.datum_type===Fe?i:t.es!==e.es||t.a!==e.a||N(t.datum_type)||N(e.datum_type)?(i=A(i,t.es,t.a),N(t.datum_type)&&(i=P(i,t.datum_type,t.datum_params)),N(e.datum_type)&&(i=L(i,e.datum_type,e.datum_params)),I(i,e.es,e.a,e.b)):i},Oi=function(t,e,i){var n,r,a,o=i.x,s=i.y,l=i.z||0,u={};for(a=0;3>a;a++)if(!e||2!==a||void 0!==i.z)switch(0===a?(n=o,r="x"):1===a?(n=s,r="y"):(n=l,r="z"),t.axis[a]){case"e":u[r]=n;break;case"w":u[r]=-n;break;case"n":u[r]=n;break;case"s":u[r]=-n;break;case"u":void 0!==i[r]&&(u.z=n);break;case"d":void 0!==i[r]&&(u.z=-n);break;default:return null}return u},Ai=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e},Ii=function(t){F(t.x),F(t.y)},Pi=Mi("WGS84"),Li=U,Ni=6,Fi="AJSAJS",Di="AFAFAF",ki=65,Gi=73,ji=79,Ui=86,Bi=90,Wi={forward:B,inverse:W,toPoint:z};nt.fromMGRS=function(t){return new nt(z(t))},nt.prototype.toMGRS=function(t){return B([this.x,this.y],t)};var zi=nt,Xi=i("lQeg"),Vi=.01068115234375,Yi=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*Vi))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*Vi)));var i=t*t;return e[2]=i*(.46875-t*(.013020833333333334+.007120768229166667*t)),i*=t,e[3]=i*(.3645833333333333-.005696614583333333*t),e[4]=i*t*.3076171875,e},qi=function(t,e,i,n){return i*=e,e*=e,n[0]*t-i*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))},Hi=function(t,e,i){for(var n=1/(1-e),r=t,a=20;a;--a){var o=Math.sin(r),s=1-e*o*o;if(s=(qi(r,o,Math.cos(r),i)-t)*(s*Math.sqrt(s))*n,r-=s,Math.abs(s)<Be)return r}return r},Ki=["Transverse_Mercator","Transverse Mercator","tmerc"],Zi={init:rt,forward:at,inverse:ot,names:Ki},Ji=function(t){var e=Math.exp(t);return e=(e-1/e)/2},Qi=function(t,e){t=Math.abs(t),e=Math.abs(e);var i=Math.max(t,e),n=Math.min(t,e)/(i||1);return i*Math.sqrt(1+Math.pow(n,2))},$i=function(t){var e=1+t,i=e-1;return 0===i?t:t*Math.log(e)/i},tn=function(t){var e=Math.abs(t);return e=$i(e*(1+e/(Qi(1,e)+1))),0>t?-e:e},en=function(t,e){for(var i,n=2*Math.cos(2*e),r=t.length-1,a=t[r],o=0;--r>=0;)i=n*a-o+t[r],o=a,a=i;return e+i*Math.sin(2*e)},nn=function(t,e){for(var i,n=2*Math.cos(e),r=t.length-1,a=t[r],o=0;--r>=0;)i=n*a-o+t[r],o=a,a=i;return Math.sin(e)*i},rn=function(t){var e=Math.exp(t);return e=(e+1/e)/2},an=function(t,e,i){for(var n,r,a=Math.sin(e),o=Math.cos(e),s=Ji(i),l=rn(i),u=2*o*l,h=-2*a*s,c=t.length-1,f=t[c],d=0,p=0,g=0;--c>=0;)n=p,r=d,p=f,d=g,f=u*p-n-h*d+t[c],g=h*p-r+u*d;return u=a*l,h=o*s,[u*f-h*g,u*g+h*f]},on=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"],sn={init:st,forward:lt,inverse:ut,names:on},ln=function(t,e){if(void 0===t){if(0>(t=Math.floor(30*(fi(e)+Math.PI)/Math.PI)+1))return 0;if(t>60)return 60}return t},un=["Universal Transverse Mercator System","utm"],hn={init:ht,names:un,dependsOn:"etmerc"},cn=function(t,e){return Math.pow((1-t)/(1+t),e)},fn=20,dn=["gauss"],pn={init:ct,forward:ft,inverse:dt,names:dn},gn=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"],mn={init:pt,forward:gt,inverse:mt,names:gn},_n=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],yn={init:yt,forward:vt,inverse:Et,names:_n,ssfn_:_t},vn=["somerc"],En={init:bt,forward:xt,inverse:Ct,names:vn},bn=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"],xn={init:St,forward:Tt,inverse:Rt,names:bn},Cn=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"],Sn={init:Mt,forward:wt,inverse:Ot,names:Cn},Tn=["Krovak","krovak"],Rn={init:At,forward:It,inverse:Pt,names:Tn},Mn=function(t,e,i,n,r){return t*r-e*Math.sin(2*r)+i*Math.sin(4*r)-n*Math.sin(6*r)},wn=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},On=function(t){return.375*t*(1+.25*t*(1+.46875*t))},An=function(t){return.05859375*t*t*(1+.75*t)},In=function(t){return t*t*t*(35/3072)},Pn=function(t,e,i){var n=e*i;return t/Math.sqrt(1-n*n)},Ln=function(t){return Math.abs(t)<ke?t:t-ci(t)*Math.PI},Nn=function(t,e,i,n,r){var a,o;a=t/e;for(var s=0;15>s;s++)if(o=(t-(e*a-i*Math.sin(2*a)+n*Math.sin(4*a)-r*Math.sin(6*a)))/(e-2*i*Math.cos(2*a)+4*n*Math.cos(4*a)-6*r*Math.cos(6*a)),a+=o,1e-10>=Math.abs(o))return a;return NaN},Fn=["Cassini","Cassini_Soldner","cass"],Dn={init:Lt,forward:Nt,inverse:Ft,names:Fn},kn=function(t,e){var i;return t>1e-7?(i=t*e,(1-t*t)*(e/(1-i*i)-.5/t*Math.log((1-i)/(1+i)))):2*e},Gn=.3333333333333333,jn=.17222222222222222,Un=.10257936507936508,Bn=.06388888888888888,Wn=.0664021164021164,zn=.016415012942191543,Xn=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],Vn={init:Dt,forward:kt,inverse:Gt,names:Xn,S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},Yn=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)},qn=["Albers_Conic_Equal_Area","Albers","aea"],Hn={init:Bt,forward:Wt,inverse:zt,names:qn,phi1z:Xt},Kn=["gnom"],Zn={init:Vt,forward:Yt,inverse:qt,names:Kn},Jn=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(1e-6>Math.abs(Math.abs(e)-i))return 0>e?-1*ke:ke;for(var n,r,a,o,s=Math.asin(.5*e),l=0;30>l;l++)if(r=Math.sin(s),a=Math.cos(s),o=t*r,n=Math.pow(1-o*o,2)/(2*a)*(e/(1-t*t)-r/(1-o*o)+.5/t*Math.log((1-o)/(1+o))),s+=n,1e-10>=Math.abs(n))return s;return NaN},Qn=["cea"],$n={init:Ht,forward:Kt,inverse:Zt,names:Qn},tr=["Equirectangular","Equidistant_Cylindrical","eqc"],er={init:Jt,forward:Qt,inverse:$t,names:tr},ir=20,nr=["Polyconic","poly"],rr={init:te,forward:ee,inverse:ie,names:nr},ar=["New_Zealand_Map_Grid","nzmg"],or={init:ne,forward:re,inverse:ae,names:ar},sr=["Miller_Cylindrical","mill"],lr={init:oe,forward:se,inverse:le,names:sr},ur=20,hr=["Sinusoidal","sinu"],cr={init:ue,forward:he,inverse:ce,names:hr},fr=["Mollweide","moll"],dr={init:fe,forward:de,inverse:pe,names:fr},pr=["Equidistant_Conic","eqdc"],gr={init:ge,forward:me,inverse:_e,names:pr},mr=["Van_der_Grinten_I","VanDerGrinten","vandg"],_r={init:ye,forward:ve,inverse:Ee,names:mr},yr=["Azimuthal_Equidistant","aeqd"],vr={init:be,forward:xe,inverse:Ce,names:yr},Er=["ortho"],br={init:Se,forward:Te,inverse:Re,names:Er},xr={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Cr={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4},Sr=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"],Tr={init:Me,forward:we,inverse:Oe,names:Sr};Li.defaultDatum="WGS84",Li.Proj=Mi,Li.WGS84=new Li.Proj("WGS84"),Li.Point=zi,Li.toPoint=Ai,Li.defs=oi,Li.transform=k,Li.mgrs=Wi,Li.version=Xi.version,function(t){t.Proj.projections.add(Zi),t.Proj.projections.add(sn),t.Proj.projections.add(hn),t.Proj.projections.add(mn),t.Proj.projections.add(yn),t.Proj.projections.add(En),t.Proj.projections.add(xn),t.Proj.projections.add(Sn),t.Proj.projections.add(Rn),t.Proj.projections.add(Dn),t.Proj.projections.add(Vn),t.Proj.projections.add(Hn),t.Proj.projections.add(Zn),t.Proj.projections.add($n),t.Proj.projections.add(er),t.Proj.projections.add(rr),t.Proj.projections.add(or),t.Proj.projections.add(lr),t.Proj.projections.add(cr),t.Proj.projections.add(dr),t.Proj.projections.add(gr),t.Proj.projections.add(_r),t.Proj.projections.add(vr),t.Proj.projections.add(br),t.Proj.projections.add(Tr)}(Li),e.default=Li},"o1z/":function(t,e,i){"use strict";var n=i("OEyb"),r={};r.clamp=function(t,e,i){return Math.min(Math.max(t,e),i)},r.cosh=function(){return"cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2}}(),r.roundUpToPowerOfTwo=function(t){return n.a.assert(t>0,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},r.squaredSegmentDistance=function(t,e,i,n,a,o){var s=a-i,l=o-n;if(0!==s||0!==l){var u=((t-i)*s+(e-n)*l)/(s*s+l*l);u>1?(i=a,n=o):u>0&&(i+=s*u,n+=l*u)}return r.squaredDistance(t,e,i,n)},r.squaredDistance=function(t,e,i,n){var r=i-t,a=n-e;return r*r+a*a},r.solveLinearSystem=function(t){for(var e=t.length,i=0;e>i;i++){for(var n=i,r=Math.abs(t[i][i]),a=i+1;e>a;a++){var o=Math.abs(t[a][i]);o>r&&(r=o,n=a)}if(0===r)return null;var s=t[n];t[n]=t[i],t[i]=s;for(var l=i+1;e>l;l++)for(var u=-t[l][i]/t[i][i],h=i;e+1>h;h++)i==h?t[l][h]=0:t[l][h]+=u*t[i][h]}for(var c=Array(e),f=e-1;f>=0;f--){c[f]=t[f][e]/t[f][f];for(var d=f-1;d>=0;d--)t[d][e]-=t[d][f]*c[f]}return c},r.toDegrees=function(t){return 180*t/Math.PI},r.toRadians=function(t){return t*Math.PI/180},r.modulo=function(t,e){var i=t%e;return 0>i*e?i+e:i},r.lerp=function(t,e,i){return t+i*(e-t)},e.a=r},oc8V:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if((0,u.default)(t))return t;for(var i=t.split(/,(?![^()]*(?:\([^()]*\))?\))/g),n=0,r=i.length;r>n;++n){var a=i[n],o=[a];for(var l in e){var h=(0,s.default)(l);if(a.indexOf(h)>-1&&"order"!==h)for(var c=e[l],f=0,p=c.length;p>f;++f)o.unshift(a.replace(h,d[c[f]]+h))}i[n]=o.join(",")}return i.join(",")}function a(t,e,i,n){if("string"==typeof e&&f.hasOwnProperty(t)){var a=r(e,n),o=a.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(t){return!/-moz-|-ms-/.test(t)}).join(",");if(t.indexOf("Webkit")>-1)return o;var s=a.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(t){return!/-webkit-|-ms-/.test(t)}).join(",");return t.indexOf("Moz")>-1?s:(i["Webkit"+(0,c.default)(t)]=o,i["Moz"+(0,c.default)(t)]=s,a)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var o=i("skUq"),s=n(o),l=i("g86Z"),u=n(l),h=i("Khs5"),c=n(h),f={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},d={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};t.exports=e.default},"oj2/":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("2p9+"),r=i("o1z/"),a=i("7yEG"),o=function(t){this.html_=t.html,this.tileRanges_=t.tileRanges?t.tileRanges:null};o.prototype.getHTML=function(){return this.html_},o.prototype.intersectsAnyTileRange=function(t,e,i){if(!this.tileRanges_)return!0;var o,s,l,u;for(u in t)if(u in this.tileRanges_){l=t[u];var h;for(o=0,s=this.tileRanges_[u].length;s>o;++o){if(h=this.tileRanges_[u][o],h.intersects(l))return!0;var c=e.getTileRangeForExtentAndZ(a.a.extentFromProjection(i),parseInt(u,10)),f=c.getWidth();if(c.minX>l.minX||l.maxX>c.maxX){if(h.intersects(new n.a(r.a.modulo(l.minX,f),r.a.modulo(l.maxX,f),l.minY,l.maxY)))return!0;if(l.getWidth()>f&&h.intersects(c))return!0}}}return!1},e.default=o},"omE/":function(t,e,i){"use strict";var n=i("CXX0"),r=function(t){this.message="Assertion failed. See https://openlayers.org/en/"+(n.a.VERSION?n.a.VERSION.split("-")[0]:"latest")+"/doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"};n.a.inherits(r,Error),e.a=r},oraU:function(t,e,i){"use strict";var n=i("CXX0"),r=i("/LWt"),a=i("o1z/"),o=i("yGLh"),s=function(t,e,i,a,s){this.sourceProj_=t,this.targetProj_=e;var l={},u=o.default.getTransform(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return l[e]||(l[e]=u(t)),l[e]},this.maxSourceExtent_=a,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!a&&!!this.sourceProj_.getExtent()&&r.default.getWidth(a)==r.default.getWidth(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?r.default.getWidth(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?r.default.getWidth(this.targetProj_.getExtent()):null;var h=r.default.getTopLeft(i),c=r.default.getTopRight(i),f=r.default.getBottomRight(i),d=r.default.getBottomLeft(i);if(this.addQuad_(h,c,f,d,this.transformInv_(h),this.transformInv_(c),this.transformInv_(f),this.transformInv_(d),n.a.RASTER_REPROJECTION_MAX_SUBDIVISION),this.wrapsXInSource_){var p=1/0;this.triangles_.forEach(function(t,e,i){p=Math.min(p,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-p>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-p>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-p>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-p>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var i=Math.min(e[0][0],e[1][0],e[2][0]);this.sourceWorldWidth_/2>Math.max(e[0][0],e[1][0],e[2][0])-i&&(t.source=e)}},this)}l={}};s.prototype.addTriangle_=function(t,e,i,n,r,a){this.triangles_.push({source:[n,r,a],target:[t,e,i]})},s.prototype.addQuad_=function(t,e,i,o,s,l,u,h,c){var f=r.default.boundingExtent([s,l,u,h]),d=this.sourceWorldWidth_?r.default.getWidth(f)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,g=this.sourceProj_.canWrapX()&&d>.5&&1>d,m=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var _=r.default.boundingExtent([t,e,i,o]);m|=r.default.getWidth(_)/this.targetWorldWidth_>n.a.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH}!g&&this.sourceProj_.isGlobal()&&d&&(m|=d>n.a.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH)}if(m||!this.maxSourceExtent_||r.default.intersects(f,this.maxSourceExtent_)){if(!(m||isFinite(s[0])&&isFinite(s[1])&&isFinite(l[0])&&isFinite(l[1])&&isFinite(u[0])&&isFinite(u[1])&&isFinite(h[0])&&isFinite(h[1]))){if(0>=c)return;m=!0}if(c>0){if(!m){var y,v=[(t[0]+i[0])/2,(t[1]+i[1])/2],E=this.transformInv_(v);y=g?(a.a.modulo(s[0],p)+a.a.modulo(u[0],p))/2-a.a.modulo(E[0],p):(s[0]+u[0])/2-E[0];var b=(s[1]+u[1])/2-E[1];m=y*y+b*b>this.errorThresholdSquared_}if(m){if(Math.abs(t[0]-i[0])>Math.abs(t[1]-i[1])){var x=[(t[0]+e[0])/2,(t[1]+e[1])/2],C=this.transformInv_(x),S=[(i[0]+o[0])/2,(i[1]+o[1])/2],T=this.transformInv_(S);this.addQuad_(t,x,S,o,s,C,T,h,c-1),this.addQuad_(x,e,i,S,C,l,u,T,c-1)}else{var R=[(e[0]+i[0])/2,(e[1]+i[1])/2],M=this.transformInv_(R),w=[(o[0]+t[0])/2,(o[1]+t[1])/2],O=this.transformInv_(w);this.addQuad_(t,e,R,w,s,l,M,O,c-1),this.addQuad_(w,R,i,o,O,M,u,h,c-1)}return}}if(g){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,i,o,s,u,h),this.addTriangle_(t,e,i,s,l,u)}},s.prototype.calculateSourceExtent=function(){var t=r.default.createEmpty();return this.triangles_.forEach(function(e,i,n){var a=e.source;r.default.extendCoordinate(t,a[0]),r.default.extendCoordinate(t,a[1]),r.default.extendCoordinate(t,a[2])}),t},s.prototype.getTriangles=function(){return this.triangles_},e.a=s},p8Td:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("OEyb"),r=i("6t+W"),a=i("ZVo0"),o=i("CXX0"),s=i("sR3l"),l=i("A6q1"),u=i("tOEd"),h=function(t){if(s.a.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,r.a.listen(this,s.a.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),void 0!==t)if(t instanceof l.a||!t){var e=t;this.setGeometry(e)}else{var i=t;this.setProperties(i)}};o.a.inherits(h,s.a),h.prototype.clone=function(){var t=new h(this.getProperties());t.setGeometryName(this.getGeometryName());var e=this.getGeometry();e&&t.setGeometry(e.clone());var i=this.getStyle();return i&&t.setStyle(i),t},h.prototype.getGeometry=function(){return this.get(this.geometryName_)},h.prototype.getId=function(){return this.id_},h.prototype.getGeometryName=function(){return this.geometryName_},h.prototype.getStyle=function(){return this.style_},h.prototype.getStyleFunction=function(){return this.styleFunction_},h.prototype.handleGeometryChange_=function(){this.changed()},h.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(r.a.unlistenByKey(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=r.a.listen(t,a.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},h.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},h.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?h.createStyleFunction(t):void 0,this.changed()},h.prototype.setId=function(t){this.id_=t,this.changed()},h.prototype.setGeometryName=function(t){r.a.unlisten(this,s.a.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,r.a.listen(this,s.a.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},h.createStyleFunction=function(t){var e;if("function"==typeof t)e=2==t.length?function(e){return t(this,e)}:t;else{var i;Array.isArray(t)?i=t:(n.a.assert(t instanceof u.default,41),i=[t]),e=function(){return i}}return e},e.default=h},pWpL:function(t,e,i){"use strict";var n=i("/LWt"),r=i("ZXW8"),a=i("vkQb"),o={};o.lineString=function(t,e,i,r,o){var s=n.default.extendFlatCoordinates(n.default.createEmpty(),t,e,i,r);return!!n.default.intersects(o,s)&&(!!n.default.containsExtent(o,s)||s[0]>=o[0]&&o[2]>=s[2]||s[1]>=o[1]&&o[3]>=s[3]||a.a.forEach(t,e,i,r,function(t,e){return n.default.intersectsSegment(o,t,e)}))},o.lineStrings=function(t,e,i,n,r){var a,s;for(a=0,s=i.length;s>a;++a){if(o.lineString(t,e,i[a],n,r))return!0;e=i[a]}return!1},o.linearRing=function(t,e,i,n,a){return!!(o.lineString(t,e,i,n,a)||r.a.linearRingContainsXY(t,e,i,n,a[0],a[1])||r.a.linearRingContainsXY(t,e,i,n,a[0],a[3])||r.a.linearRingContainsXY(t,e,i,n,a[2],a[1])||r.a.linearRingContainsXY(t,e,i,n,a[2],a[3]))},o.linearRings=function(t,e,i,n,a){if(!o.linearRing(t,e,i[0],n,a))return!1;if(1===i.length)return!0;var s,l;for(s=1,l=i.length;l>s;++s)if(r.a.linearRingContainsExtent(t,i[s-1],i[s],n,a))return!1;return!0},o.linearRingss=function(t,e,i,n,r){var a,s;for(a=0,s=i.length;s>a;++a){var l=i[a];if(o.linearRings(t,e,l,n,r))return!0;e=l[l.length-1]}return!1},e.a=o},piqq:function(t,e,i){"use strict";var n={};n.coordinates=function(t,e,i,n){for(;i-n>e;){var r;for(r=0;n>r;++r){var a=t[e+r];t[e+r]=t[i-n+r],t[i-n+r]=a}e+=n,i-=n}};var r=n,a={};a.linearRingIsClockwise=function(t,e,i,n){for(var r=0,a=t[i-n],o=t[i-n+1];i>e;e+=n){var s=t[e],l=t[e+1];r+=(s-a)*(l+o),a=s,o=l}return r>0},a.linearRingsAreOriented=function(t,e,i,n,r){var o,s,l=void 0!==r&&r;for(o=0,s=i.length;s>o;++o){var u=i[o],h=a.linearRingIsClockwise(t,e,u,n);if(0===o){if(l&&h||!l&&!h)return!1}else if(l&&!h||!l&&h)return!1;e=u}return!0},a.linearRingssAreOriented=function(t,e,i,n,r){var o,s;for(o=0,s=i.length;s>o;++o)if(!a.linearRingsAreOriented(t,e,i[o],n,r))return!1;return!0},a.orientLinearRings=function(t,e,i,n,o){var s,l,u=void 0!==o&&o;for(s=0,l=i.length;l>s;++s){var h=i[s],c=a.linearRingIsClockwise(t,e,h,n);(0===s?u&&c||!u&&!c:u&&!c||!u&&c)&&r.coordinates(t,e,h,n),e=h}return e},a.orientLinearRingss=function(t,e,i,n,r){var o,s;for(o=0,s=i.length;s>o;++o)e=a.orientLinearRings(t,e,i[o],n,r);return e},e.a=a},qx2u:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("8r3X"),a=i("BV9W"),o=i("6t+W"),s=i("ZVo0"),l=i("/LWt"),u=function(t,e,i,n,o,s){r.a.call(this,t,e,i,a.a.IDLE),this.src_=n,this.image_=new Image,null!==o&&(this.image_.crossOrigin=o),this.imageListenerKeys_=null,this.state=a.a.IDLE,this.imageLoadFunction_=s};n.a.inherits(u,r.a),u.prototype.getImage=function(){return this.image_},u.prototype.handleImageError_=function(){this.state=a.a.ERROR,this.unlistenImage_(),this.changed()},u.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=l.default.getHeight(this.extent)/this.image_.height),this.state=a.a.LOADED,this.unlistenImage_(),this.changed()},u.prototype.load=function(){this.state!=a.a.IDLE&&this.state!=a.a.ERROR||(this.state=a.a.LOADING,this.changed(),this.imageListenerKeys_=[o.a.listenOnce(this.image_,s.a.ERROR,this.handleImageError_,this),o.a.listenOnce(this.image_,s.a.LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},u.prototype.setImage=function(t){this.image_=t},u.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(o.a.unlistenByKey),this.imageListenerKeys_=null};var h=u,c=i("OEyb"),f=i("tFCN"),d=i("yGLh"),p=i("N9JB"),g=i("Zww1"),m=i("dJCB"),_=i("J23v"),y=i("iFba"),v=function(t){var e=t||{};g.default.call(this,{attributions:e.attributions,logo:e.logo,projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null,this.url_=e.url,this.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:g.default.defaultImageLoadFunction,this.params_=e.params||{},this.v13_=!0,this.updateV13_(),this.serverType_=e.serverType,this.hidpi_=void 0===e.hidpi||e.hidpi,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==e.ratio?e.ratio:1.5};n.a.inherits(v,g.default),v.GETFEATUREINFO_IMAGE_SIZE_=[101,101],v.prototype.getGetFeatureInfoUrl=function(t,e,i,r){if(void 0!==this.url_){var a=d.default.get(i),o=this.getProjection();o&&o!==a&&(e=p.a.calculateSourceResolution(o,a,t,e),t=d.default.transform(t,a,o));var s=l.default.getForViewAndSize(t,e,0,v.GETFEATUREINFO_IMAGE_SIZE_),u={SERVICE:"WMS",VERSION:n.a.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};f.a.assign(u,this.params_,r);var h=Math.floor((t[0]-s[0])/e),c=Math.floor((s[3]-t[1])/e);return u[this.v13_?"I":"X"]=h,u[this.v13_?"J":"Y"]=c,this.getRequestUrl_(s,v.GETFEATUREINFO_IMAGE_SIZE_,1,o||a,u)}},v.prototype.getParams=function(){return this.params_},v.prototype.getImageInternal=function(t,e,i,r){if(void 0===this.url_)return null;e=this.findNearestResolution(e),1==i||this.hidpi_&&void 0!==this.serverType_||(i=1);var a=e/i,u=l.default.getCenter(t),c=Math.ceil(l.default.getWidth(t)/a),d=Math.ceil(l.default.getHeight(t)/a),p=l.default.getForViewAndSize(u,a,0,[c,d]),g=Math.ceil(this.ratio_*l.default.getWidth(t)/a),m=Math.ceil(this.ratio_*l.default.getHeight(t)/a),_=l.default.getForViewAndSize(u,a,0,[g,m]),y=this.image_;if(y&&this.renderedRevision_==this.getRevision()&&y.getResolution()==e&&y.getPixelRatio()==i&&l.default.containsExtent(y.getExtent(),p))return y;var v={SERVICE:"WMS",VERSION:n.a.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};f.a.assign(v,this.params_),this.imageSize_[0]=Math.round(l.default.getWidth(_)/a),this.imageSize_[1]=Math.round(l.default.getHeight(_)/a);var E=this.getRequestUrl_(_,this.imageSize_,i,r,v);return this.image_=new h(_,e,i,E,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),o.a.listen(this.image_,s.a.CHANGE,this.handleImageChange,this),this.image_},v.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},v.prototype.getRequestUrl_=function(t,e,i,n,r){if(c.a.assert(void 0!==this.url_,9),r[this.v13_?"CRS":"SRS"]=n.getCode(),"STYLES"in this.params_||(r.STYLES=""),1!=i)switch(this.serverType_){case m.a.GEOSERVER:var a=90*i+.5|0;"FORMAT_OPTIONS"in r?r.FORMAT_OPTIONS+=";dpi:"+a:r.FORMAT_OPTIONS="dpi:"+a;break;case m.a.MAPSERVER:r.MAP_RESOLUTION=90*i;break;case m.a.CARMENTA_SERVER:case m.a.QGIS:r.DPI=90*i;break;default:c.a.assert(!1,8)}r.WIDTH=e[0],r.HEIGHT=e[1];var o,s=n.getAxisOrientation();return o=this.v13_&&"ne"==s.substr(0,2)?[t[1],t[0],t[3],t[2]]:t,r.BBOX=o.join(","),y.a.appendParams(this.url_,r)},v.prototype.getUrl=function(){return this.url_},v.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},v.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},v.prototype.updateParams=function(t){f.a.assign(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},v.prototype.updateV13_=function(){this.v13_=_.a.compareVersions(this.params_.VERSION||n.a.DEFAULT_WMS_VERSION,"1.3")>=0},e.default=v},qxxq:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("/LWt"),a=i("aStr"),o=i("U/IR"),s=i("f5c8"),l=i("hrLW"),u=i("o1z/"),h=function(t,e){s.a.call(this),this.setCoordinates(t,e)};n.a.inherits(h,s.a),h.prototype.clone=function(){var t=new h(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),t},h.prototype.closestPointXY=function(t,e,i,n){var r=this.flatCoordinates,a=u.a.squaredDistance(t,e,r[0],r[1]);if(n>a){var o,s=this.stride;for(o=0;s>o;++o)i[o]=r[o];return i.length=s,a}return n},h.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},h.prototype.computeExtent=function(t){return r.default.createOrUpdateFromCoordinate(this.flatCoordinates,t)},h.prototype.getType=function(){return o.a.POINT},h.prototype.intersectsExtent=function(t){return r.default.containsXY(t,this.flatCoordinates[0],this.flatCoordinates[1])},h.prototype.setCoordinates=function(t,e){t?(this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=l.a.coordinate(this.flatCoordinates,0,t,this.stride),this.changed()):this.setFlatCoordinates(a.a.XY,null)},h.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e),this.changed()},e.default=h},rJur:function(t,e,i){"use strict";t.exports=!1},ruFS:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("tOuV");e.default=function(t){return t&&t.__esModule?t:{default:t}}(n).default},sR3l:function(t,e,i){"use strict";var n=i("CXX0"),r=i("SHxT"),a=i("2fQu"),o=i("J25b"),s=i("tFCN"),l=function(t){a.a.call(this),n.a.getUid(this),this.values_={},void 0!==t&&this.setProperties(t)};n.a.inherits(l,a.a),l.changeEventTypeCache_={},l.getChangeEventType=function(t){return l.changeEventTypeCache_.hasOwnProperty(t)?l.changeEventTypeCache_[t]:l.changeEventTypeCache_[t]="change:"+t},l.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},l.prototype.getKeys=function(){return Object.keys(this.values_)},l.prototype.getProperties=function(){return s.a.assign({},this.values_)},l.prototype.notify=function(t,e){var i;i=l.getChangeEventType(t),this.dispatchEvent(new l.Event(i,t,e)),i=r.a.PROPERTYCHANGE,this.dispatchEvent(new l.Event(i,t,e))},l.prototype.set=function(t,e,i){if(i)this.values_[t]=e;else{var n=this.values_[t];this.values_[t]=e,n!==e&&this.notify(t,n)}},l.prototype.setProperties=function(t,e){var i;for(i in t)this.set(i,t[i],e)},l.prototype.unset=function(t,e){if(t in this.values_){var i=this.values_[t];delete this.values_[t],e||this.notify(t,i)}},l.Event=function(t,e,i){o.a.call(this,t),this.key=e,this.oldValue=i},n.a.inherits(l.Event,o.a),e.a=l},skUq:function(t,e,i){"use strict";function n(t){return(0,a.default)(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r=i("RI5M"),a=function(t){return t&&t.__esModule?t:{default:t}}(r);t.exports=e.default},slXJ:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i("GiK3"),l=n(s),u=i("KSGD"),h=n(u),c=i("KSE5"),f=n(c),d=i("0Efu"),p=n(d),g=function(t){function e(i){r(this,e);var n=a(this,t.call(this,i));return n.save=function(){$(n.modal).modal("hide")},n.state={history:null,totalCount:null,loading:!1},n}return o(e,t),e.prototype.componentWillMount=function(){var t=this,e=this.props,i=e.urls,n=e.layer;this.setState({loading:!0}),fetch(i.historyListCreate+"?layer__typename="+n).then(function(t){return t.json()}).then(function(e){t.setState({history:e.objects,totalCount:e.meta.total_count,loading:!1})}).catch(function(t){console.error(t)})},e.prototype.componentDidMount=function(){$(this.modal).modal("show"),$(this.modal).on("hidden.bs.modal",this.props.close)},e.prototype.render=function(){var t=this,e=this.state,i=e.history,n=e.totalCount,r=e.loading;return l.default.createElement("div",{ref:function(e){return t.modal=e},className:"modal fade",tabIndex:"-1",role:"dialog"},l.default.createElement("div",{className:"modal-dialog",role:"document"},l.default.createElement("div",{className:"modal-content"},l.default.createElement("div",{className:"modal-header"},l.default.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.default.createElement("span",{"aria-hidden":"true"},"")),l.default.createElement("h4",{className:"modal-title"},"Info")),l.default.createElement("div",{className:"modal-body"},!r&&i.length>0&&0!=n&&l.default.createElement("table",{className:"table table-striped"},l.default.createElement("tbody",null,l.default.createElement("tr",null,l.default.createElement("td",null,"Number of Collected Points"),l.default.createElement("td",null,n)),l.default.createElement("tr",null,l.default.createElement("td",null,"Last Point Collected at"),l.default.createElement("td",null,""+new Date(i[0].created_at))))),!r&&i.length>0&&0!=n&&l.default.createElement("div",{className:"container-fluid"},l.default.createElement("h3",{className:"text-center"},"Last Collected data"),l.default.createElement("div",{className:"row"},l.default.createElement("div",{style:{overflowX:"overlay"},className:"col-md-12"},l.default.createElement(f.default,{src:i[0].data,name:"data",enableClipboard:!1,displayDataTypes:!1})))),r&&l.default.createElement(p.default,{name:"line-scale-pulse-out",color:"steelblue"}),!r&&0===i.length&&0===n&&l.default.createElement("h5",null,"No Data Collected")),l.default.createElement("div",{className:"modal-footer"},l.default.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"Close")))))},e}(s.Component);e.default=g,g.propTypes={urls:h.default.object.isRequired,close:h.default.func.isRequired,layer:h.default.string.isRequired}},t6Ve:function(t,e,i){"use strict";var n=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.snapToPixel_=t.snapToPixel};n.prototype.getOpacity=function(){return this.opacity_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getSnapToPixel=function(){return this.snapToPixel_},n.prototype.getAnchor=function(){},n.prototype.getImage=function(t){},n.prototype.getHitDetectionImage=function(t){},n.prototype.getImageState=function(){},n.prototype.getImageSize=function(){},n.prototype.getHitDetectionImageSize=function(){},n.prototype.getOrigin=function(){},n.prototype.getSize=function(){},n.prototype.setOpacity=function(t){this.opacity_=t},n.prototype.setRotateWithView=function(t){this.rotateWithView_=t},n.prototype.setRotation=function(t){this.rotation_=t},n.prototype.setScale=function(t){this.scale_=t},n.prototype.setSnapToPixel=function(t){this.snapToPixel_=t},n.prototype.listenImageChange=function(t,e){},n.prototype.load=function(){},n.prototype.unlistenImageChange=function(t,e){},e.a=n},t6ee:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var i="";for(var n in t){var r=0===n.indexOf("--");if(t.hasOwnProperty(n)&&"label"!==n){var a=t[n];null!=a&&(r?i+=n+":"+a+";":(i+=d(n)+":",i+=(0,s.default)(n,a,e)+";"))}}return i||null}Object.defineProperty(e,"__esModule",{value:!0}),e.processStyleName=void 0,e.createMarkupForStyles=r;var a=i("/lfX"),o=(n(a),i("EqHm")),s=n(o),l=i("mL1Z"),u=n(l),h=i("Jl+d"),c=n(h),f=i("YyeZ"),d=(n(f),e.processStyleName=(0,c.default)(u.default))},tCFE:function(t,e,i){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.noWarn,n=void 0!==i&&i,r=e.createElement,a=void 0===r||r,o=function(e){function i(){var t,e,r,a;g(this,i);for(var o=arguments.length,s=Array(o),l=0;o>l;l++)s[l]=arguments[l];return e=r=b(this,(t=i.__proto__||Object.getPrototypeOf(i)).call.apply(t,[this].concat(s))),r.warned=n,r.state={theme:{}},r.setTheme=function(t){return r.setState({theme:t})},a=e,b(r,a)}return v(i,e),m(i,[{key:"componentWillMount",value:function(){var t=this.props.theme;this.setTheme(this.context[p]?t||this.context[p].getState():t||{})}},{key:"componentWillReceiveProps",value:function(t){this.props.theme!==t.theme&&this.setTheme(t.theme)}},{key:"componentDidMount",value:function(){this.context[p]&&!this.props.theme&&(this.unsubscribe=this.context[p].subscribe(this.setTheme))}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"render",value:function(){return a?c.createElement(t,y({},this.props,this.state)):t(y({},this.props,this.state),this.context)}}]),i}(h.Component);o.propTypes={theme:d.object};var s=_({},p,d.object),l=null;return Object.defineProperty(o,"contextTypes",{enumerable:!0,configurable:!0,set:function(t){l=t},get:function(){return l?y({},s,l):s}}),o}function r(t){var e=[],i=[];return(""+t).split(" ").forEach(function(t){if(0===t.indexOf("css-")){var n=a(t);i.push(n)}else e.push(t)}),{glamorlessClassName:e,glamorStyles:i}}function a(t){return _({},"data-"+t,"")}function o(t){var e=t.styles,i=t.props,n=t.cssOverrides,r=t.cssProp,a=t.theme,o=t.context,l=s([].concat(x(e),[i.className,n,r]),i,a,o),u=l.mappedArgs,h=l.nonGlamorClassNames;return(f.css.apply(void 0,x(u))+" "+h.join(" ").trim()).trim()}function s(t,e,i,n){for(var a=void 0,o=[],l=[],u=0;t.length>u;u++)if("function"==typeof(a=t[u])){var h=a(e,i,n);if("string"==typeof h){var c=r(h),f=c.glamorStyles,d=c.glamorlessClassName;o.push.apply(o,x(f)),l.push.apply(l,x(d))}else o.push(h)}else if("string"==typeof a){var p=r(a),g=p.glamorStyles,m=p.glamorlessClassName;o.push.apply(o,x(g)),l.push.apply(l,x(m))}else if(Array.isArray(a)){var _=s(a,e,i,n);o.push.apply(o,x(_.mappedArgs)),l.push.apply(l,x(_.nonGlamorClassNames))}else o.push(a);return{mappedArgs:o,nonGlamorClassNames:l}}function l(t){return t.replace(/ /g,"-").replace(/[^A-Za-z0-9\-_]/g,"_")}function u(t){var e=t.css;return{toForward:E(t,["css","theme","className","innerRef","glam"]),cssProp:e}}var h=i("NPxy"),c=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(h),f=i("HEWY"),d=void 0;if(parseFloat(c.version.slice(0,4))>=15.5)try{d=i("KSGD")}catch(t){}d=d||c.PropTypes;var p="__glamorous__",g=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},m=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},y=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},v=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},E=function(t,e){var i={};for(var n in t)0>e.indexOf(n)&&Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i},b=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},x=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);t.length>e;e++)i[e]=t[e];return i}return Array.from(t)};t.exports=function(t){function e(r){function a(){function a(t){return e(t,y({forwardProps:m.forwardProps},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))(m.styles)}for(var s=arguments.length,f=Array(s),g=0;s>g;g++)f[g]=arguments[g];var m=n(function(i,n){var r=t(i,m),a=r.toForward,s=r.cssOverrides,u=r.cssProp,h=i.theme,f=o({styles:m.styles,props:i,cssOverrides:s,cssProp:u,theme:h,context:n}),d=e.config.useDisplayNameInClassName?l(m.displayName):"",p=(f+" "+d).trim();return c.createElement(m.comp,y({ref:i.innerRef},a,{className:p}))},{noWarn:!0,createElement:!1});return m.propTypes={className:d.string,cssOverrides:d.object,theme:d.object,innerRef:d.func,glam:d.object},Object.assign(m,i({comp:r,styles:f,rootEl:u,forwardProps:p,displayName:h}),{withComponent:a,isGlamorousComponent:!0}),m}var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=s.rootEl,h=s.displayName,f=s.forwardProps,p=void 0===f?[]:f;return a}function i(t){var e=t.comp,i=t.styles,n=t.rootEl,o=t.forwardProps,s=t.displayName,l=e.comp?e.comp:e;return{styles:r(e.styles,i),comp:l,rootEl:n||l,forwardProps:r(e.forwardProps,o),displayName:s||"glamorous("+a(e)+")"}}function r(t,e){return t?t.concat(e):e}function a(t){return"string"==typeof t?t:t.displayName||t.name||"unknown"}return e.config={useDisplayNameInClassName:!1},e}(u)},tFCN:function(t,e,i){"use strict";var n={};n.assign="function"==typeof Object.assign?Object.assign:function(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1,r=arguments.length;r>n;++n){var a=arguments[n];if(void 0!==a&&null!==a)for(var o in a)a.hasOwnProperty(o)&&(i[o]=a[o])}return i},n.clear=function(t){for(var e in t)delete t[e]},n.getValues=function(t){var e=[];for(var i in t)e.push(t[i]);return e},n.isEmpty=function(t){var e;for(e in t)return!1;return!e},e.a=n},tOEd:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("OEyb"),r=i("U/IR"),a=i("CXX0"),o=i("QBya"),s=i("w2Al"),l=i("4acs"),u=i("BV9W"),h=i("Oeue"),c=i("t6Ve"),f=function(t){this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=void 0!==t.radius?t.radius:t.radius1,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=t.atlasManager,this.render_(this.atlasManager_);var e=void 0===t.snapToPixel||t.snapToPixel;c.a.call(this,{opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:e})};a.a.inherits(f,c.a),f.prototype.clone=function(){var t=new f({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),snapToPixel:this.getSnapToPixel(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},f.prototype.getAnchor=function(){return this.anchor_},f.prototype.getAngle=function(){return this.angle_},f.prototype.getFill=function(){return this.fill_},f.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},f.prototype.getImage=function(t){return this.canvas_},f.prototype.getImageSize=function(){return this.imageSize_},f.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},f.prototype.getImageState=function(){return u.a.LOADED},f.prototype.getOrigin=function(){return this.origin_},f.prototype.getPoints=function(){return this.points_},f.prototype.getRadius=function(){return this.radius_},f.prototype.getRadius2=function(){return this.radius2_},f.prototype.getSize=function(){return this.size_},f.prototype.getStroke=function(){return this.stroke_},f.prototype.listenImageChange=function(t,e){},f.prototype.load=function(){},f.prototype.unlistenImageChange=function(t,e){},f.prototype.render_=function(t){var e,i,n="",r="",a=0,u=null,c=0,f=0;this.stroke_&&(i=this.stroke_.getColor(),null===i&&(i=h.a.defaultStrokeStyle),i=o.a.asColorLike(i),f=this.stroke_.getWidth(),void 0===f&&(f=h.a.defaultLineWidth),u=this.stroke_.getLineDash(),c=this.stroke_.getLineDashOffset(),l.a.CANVAS_LINE_DASH||(u=null,c=0),r=this.stroke_.getLineJoin(),void 0===r&&(r=h.a.defaultLineJoin),n=this.stroke_.getLineCap(),void 0===n&&(n=h.a.defaultLineCap),void 0===(a=this.stroke_.getMiterLimit())&&(a=h.a.defaultMiterLimit));var d=2*(this.radius_+f)+1,p={strokeStyle:i,strokeWidth:f,size:d,lineCap:n,lineDash:u,lineDashOffset:c,lineJoin:r,miterLimit:a};if(void 0===t){var g=s.a.createCanvasContext2D(d,d);this.canvas_=g.canvas,d=this.canvas_.width,e=d,this.draw_(p,g,0,0),this.createHitDetectionCanvas_(p)}else{d=Math.round(d);var m,_=!this.fill_;_&&(m=this.drawHitDetectionCanvas_.bind(this,p));var y=this.getChecksum(),v=t.add(y,d,d,this.draw_.bind(this,p),m);this.canvas_=v.image,this.origin_=[v.offsetX,v.offsetY],e=v.image.width,_?(this.hitDetectionCanvas_=v.hitImage,this.hitDetectionImageSize_=[v.hitImage.width,v.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[d/2,d/2],this.size_=[d,d],this.imageSize_=[e,e]},f.prototype.draw_=function(t,e,i,n){var r,a,s;e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath();var l=this.points_;if(l===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(l*=2),r=0;l>=r;r++)a=2*r*Math.PI/l-Math.PI/2+this.angle_,s=r%2==0?this.radius_:u,e.lineTo(t.size/2+s*Math.cos(a),t.size/2+s*Math.sin(a))}if(this.fill_){var c=this.fill_.getColor();null===c&&(c=h.a.defaultFillStyle),e.fillStyle=o.a.asColorLike(c),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},f.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)return void(this.hitDetectionCanvas_=this.canvas_);var e=s.a.createCanvasContext2D(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)},f.prototype.drawHitDetectionCanvas_=function(t,e,i,n){e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath();var r=this.points_;if(r===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var a=void 0!==this.radius2_?this.radius2_:this.radius_;a!==this.radius_&&(r*=2);var o,s,l;for(o=0;r>=o;o++)l=2*o*Math.PI/r-Math.PI/2+this.angle_,s=o%2==0?this.radius_:a,e.lineTo(t.size/2+s*Math.cos(l),t.size/2+s*Math.sin(l))}e.fillStyle=h.a.defaultFillStyle,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},f.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";return this.checksums_&&t==this.checksums_[1]&&e==this.checksums_[2]&&this.radius_==this.checksums_[3]&&this.radius2_==this.checksums_[4]&&this.angle_==this.checksums_[5]&&this.points_==this.checksums_[6]||(this.checksums_=["r"+t+e+(void 0!==this.radius_?""+this.radius_:"-")+(void 0!==this.radius2_?""+this.radius2_:"-")+(void 0!==this.angle_?""+this.angle_:"-")+(void 0!==this.points_?""+this.points_:"-"),t,e,this.radius_,this.radius2_,this.angle_,this.points_]),this.checksums_[0]};var d=f,p=function(t){var e=t||{};d.call(this,{points:1/0,fill:e.fill,radius:e.radius,snapToPixel:e.snapToPixel,stroke:e.stroke,atlasManager:e.atlasManager})};a.a.inherits(p,d),p.prototype.clone=function(){var t=new p({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),snapToPixel:this.getSnapToPixel(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},p.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)};var g=p,m=i("6HMI"),_=i("lY9i"),y=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=y.defaultGeometryFunction,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};y.prototype.clone=function(){var t=this.getGeometry();return t&&t.clone&&(t=t.clone()),new y({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},y.prototype.getRenderer=function(){return this.renderer_},y.prototype.setRenderer=function(t){this.renderer_=t},y.prototype.getGeometry=function(){return this.geometry_},y.prototype.getGeometryFunction=function(){return this.geometryFunction_},y.prototype.getFill=function(){return this.fill_},y.prototype.setFill=function(t){this.fill_=t},y.prototype.getImage=function(){return this.image_},y.prototype.setImage=function(t){this.image_=t},y.prototype.getStroke=function(){return this.stroke_},y.prototype.setStroke=function(t){this.stroke_=t},y.prototype.getText=function(){return this.text_},y.prototype.setText=function(t){this.text_=t},y.prototype.getZIndex=function(){return this.zIndex_},y.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=y.defaultGeometryFunction,this.geometry_=t},y.prototype.setZIndex=function(t){this.zIndex_=t},y.createFunction=function(t){var e;if("function"==typeof t)e=t;else{var i;Array.isArray(t)?i=t:(n.a.assert(t instanceof y,41),i=[t]),e=function(){return i}}return e},y.default_=null,y.defaultFunction=function(t,e){if(!y.default_){var i=new m.default({color:"rgba(255,255,255,0.4)"}),n=new _.default({color:"#3399CC",width:1.25});y.default_=[new y({image:new g({fill:i,stroke:n,radius:5}),fill:i,stroke:n})]}return y.default_},y.createDefaultEditing=function(){var t={},e=[255,255,255,1],i=[0,153,255,1];return t[r.a.POLYGON]=[new y({fill:new m.default({color:[255,255,255,.5]})})],t[r.a.MULTI_POLYGON]=t[r.a.POLYGON],t[r.a.LINE_STRING]=[new y({stroke:new _.default({color:e,width:5})}),new y({stroke:new _.default({color:i,width:3})})],t[r.a.MULTI_LINE_STRING]=t[r.a.LINE_STRING],t[r.a.CIRCLE]=t[r.a.POLYGON].concat(t[r.a.LINE_STRING]),t[r.a.POINT]=[new y({image:new g({radius:6,fill:new m.default({color:i}),stroke:new _.default({color:e,width:1.5})}),zIndex:1/0})],t[r.a.MULTI_POINT]=t[r.a.POINT],t[r.a.GEOMETRY_COLLECTION]=t[r.a.POLYGON].concat(t[r.a.LINE_STRING],t[r.a.POINT]),t},y.defaultGeometryFunction=function(t){return t.getGeometry()},e.default=y},tOuV:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i("GiK3"),u=n(l),h=i("KSGD"),c=n(h),f=i("g8Ld"),d=n(f),p=i("uWrj"),g=n(p),m=i("6kNu"),_=n(m),y=i("bvC/"),v=n(y),E=function(t){function e(){var t,i,n,o;r(this,e);for(var s=arguments.length,l=Array(s),u=0;s>u;u++)l[u]=arguments[u];return i=n=a(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),n._removeItself=function(){var t=n.props;(0,t.onRemoveAlert)(t.id)},o=i,a(n,o)}return o(e,t),s(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props.time;e>0&&setTimeout(function(){t._removeItself()},e)}},{key:"render",value:function(){var t=this.props,e=t.message,i=t.theme,n=t.icon,r=t.type,a="dark"===i;return u.default.createElement(d.default,{glam:{dark:a}},u.default.createElement(m.IconPlaceholder,null,n||u.default.createElement(_.default,{glam:{type:r}})),u.default.createElement(g.default,null,e),u.default.createElement(v.default,{glam:{dark:a},onClick:this._removeItself}))}}]),e}(l.Component);E.defaultProps={id:"",icon:null,message:"",type:"info",theme:"dark",time:0,onRemoveAlert:function(){}},E.propTypes={id:c.default.string,icon:c.default.element,message:c.default.oneOfType([c.default.element,c.default.string]),type:c.default.oneOf(["info","success","error"]),theme:c.default.oneOf(["dark","light"]),time:c.default.number,onRemoveAlert:c.default.func},e.default=E},tRnt:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=i("6HMI"),o=n(a),s=i("LaVj"),l=n(s),u=i("D9NH"),h=n(u),c=i("lY9i"),f=n(c),d=i("tOEd"),p=n(d),g=i("HWXU"),m=n(g);e.default=new function t(){r(this,t),this.getMarker=function(){return new p.default({image:new l.default({anchor:[.5,31],anchorXUnits:"fraction",anchorYUnits:"pixels",src:h.default}),text:new m.default({text:"+",fill:new o.default({color:"#fff"}),stroke:new f.default({color:"#fff",width:2}),textAlign:"center",offsetY:-20,font:"18px serif"})})}}},tW2u:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},l=i("zcFO"),u=n(l),h=i("GiK3"),c=n(h),f=i("KSGD"),d=(n(f),i("GvBW")),p=(n(d),i("1olO")),g={component:"span",childFactory:function(t){return t}},m=function(t){function e(i,n){r(this,e);var o=a(this,t.call(this,i,n));return o.performAppear=function(t,e){o.currentlyTransitioningKeys[t]=!0,e.componentWillAppear?e.componentWillAppear(o._handleDoneAppearing.bind(o,t,e)):o._handleDoneAppearing(t,e)},o._handleDoneAppearing=function(t,e){e.componentDidAppear&&e.componentDidAppear(),delete o.currentlyTransitioningKeys[t];var i=(0,p.getChildMapping)(o.props.children);i&&i.hasOwnProperty(t)||o.performLeave(t,e)},o.performEnter=function(t,e){o.currentlyTransitioningKeys[t]=!0,e.componentWillEnter?e.componentWillEnter(o._handleDoneEntering.bind(o,t,e)):o._handleDoneEntering(t,e)},o._handleDoneEntering=function(t,e){e.componentDidEnter&&e.componentDidEnter(),delete o.currentlyTransitioningKeys[t];var i=(0,p.getChildMapping)(o.props.children);i&&i.hasOwnProperty(t)||o.performLeave(t,e)},o.performLeave=function(t,e){o.currentlyTransitioningKeys[t]=!0,e.componentWillLeave?e.componentWillLeave(o._handleDoneLeaving.bind(o,t,e)):o._handleDoneLeaving(t,e)},o._handleDoneLeaving=function(t,e){e.componentDidLeave&&e.componentDidLeave(),delete o.currentlyTransitioningKeys[t];var i=(0,p.getChildMapping)(o.props.children);i&&i.hasOwnProperty(t)?o.keysToEnter.push(t):o.setState(function(e){var i=s({},e.children);return delete i[t],{children:i}})},o.childRefs=Object.create(null),o.state={children:(0,p.getChildMapping)(i.children)},o}return o(e,t),e.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},e.prototype.componentDidMount=function(){var t=this.state.children;for(var e in t)t[e]&&this.performAppear(e,this.childRefs[e])},e.prototype.componentWillReceiveProps=function(t){var e=(0,p.getChildMapping)(t.children),i=this.state.children;this.setState({children:(0,p.mergeChildMappings)(i,e)});for(var n in e){var r=i&&i.hasOwnProperty(n);!e[n]||r||this.currentlyTransitioningKeys[n]||this.keysToEnter.push(n)}for(var a in i){var o=e&&e.hasOwnProperty(a);!i[a]||o||this.currentlyTransitioningKeys[a]||this.keysToLeave.push(a)}},e.prototype.componentDidUpdate=function(){var t=this,e=this.keysToEnter;this.keysToEnter=[],e.forEach(function(e){return t.performEnter(e,t.childRefs[e])});var i=this.keysToLeave;this.keysToLeave=[],i.forEach(function(e){return t.performLeave(e,t.childRefs[e])})},e.prototype.render=function(){var t=this,e=[];for(var i in this.state.children)!function(i){var n=t.state.children[i];if(n){var r="string"!=typeof n.ref,a=t.props.childFactory(n),o=function(e){t.childRefs[i]=e};a===n&&r&&(o=(0,u.default)(n.ref,o)),e.push(c.default.cloneElement(a,{key:i,ref:o}))}}(i);var n=s({},this.props);return delete n.transitionLeave,delete n.transitionName,delete n.transitionAppear,delete n.transitionEnter,delete n.childFactory,delete n.transitionLeaveTimeout,delete n.transitionEnterTimeout,delete n.transitionAppearTimeout,delete n.component,c.default.createElement(this.props.component,n,e)},e}(c.default.Component);m.displayName="TransitionGroup",m.propTypes={},m.defaultProps=g,e.default=m,t.exports=e.default},uWrj:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("tCFE");e.default=(0,function(t){return t&&t.__esModule?t:{default:t}}(n).default)("div")({flex:3,textAlign:"center",textTransform:"uppercase",padding:"8px 10px",marginRight:"50px"})},umdX:function(t,e,i){"use strict";var n=i("UP90"),r=n.Component,a=i("+w9S"),o=a.isValidElement,s=i("T/iG");t.exports=i("wqO5")(r,o,s)},vLip:function(t,e,i){"use strict";var n=i("CXX0"),r=i("oj2/"),a=i("sR3l"),o=i("yGLh"),s=i("T4j3"),l=function(t){a.a.call(this),this.projection_=o.default.get(t.projection),this.attributions_=null,this.attributions2_=this.adaptAttributions_(t.attributions),this.logo_=t.logo,this.state_=void 0!==t.state?t.state:s.a.READY,this.wrapX_=void 0!==t.wrapX&&t.wrapX};n.a.inherits(l,a.a),l.prototype.adaptAttributions_=function(t){if(!t)return null;if(t instanceof r.default)return this.attributions_=[t],function(e){return[t.getHTML()]};if(Array.isArray(t)){if(t[0]instanceof r.default){this.attributions_=t;var e=t.map(function(t){return t.getHTML()});return function(t){return e}}return this.attributions_=t.map(function(t){return new r.default({html:t})}),function(e){return t}}return"function"==typeof t?t:(this.attributions_=[new r.default({html:t})],function(e){return[t]})},l.prototype.forEachFeatureAtCoordinate=n.a.nullFunction,l.prototype.getAttributions=function(){return this.attributions_},l.prototype.getAttributions2=function(){return this.attributions2_},l.prototype.getLogo=function(){return this.logo_},l.prototype.getProjection=function(){return this.projection_},l.prototype.getResolutions=function(){},l.prototype.getState=function(){return this.state_},l.prototype.getWrapX=function(){return this.wrapX_},l.prototype.refresh=function(){this.changed()},l.prototype.setAttributions=function(t){this.attributions2_=this.adaptAttributions_(t),this.changed()},l.prototype.setLogo=function(t){this.logo_=t},l.prototype.setState=function(t){this.state_=t,this.changed()},e.a=l},vhPq:function(t,e,i){"use strict";var n=i("zF6X"),r=i("ZXW8"),a={};a.linearRings=function(t,e,i,a,o,s,l){var u,h,c,f,d,p,g,m=o[s+1],_=[],y=i[0];for(f=t[y-a],p=t[y-a+1],u=e;y>u;u+=a)d=t[u],g=t[u+1],(m>p||g>m)&&(p>m||m>g)||(c=(m-p)/(g-p)*(d-f)+f,_.push(c)),f=d,p=g;var v=NaN,E=-1/0;for(_.sort(n.a.numberSafeCompareFunction),f=_[0],u=1,h=_.length;h>u;++u){d=_[u];var b=Math.abs(d-f);b>E&&(c=(f+d)/2,r.a.linearRingsContainsXY(t,e,i,a,c,m)&&(v=c,E=b)),f=d}return isNaN(v)&&(v=o[s]),l?(l.push(v,m,E),l):[v,m,E]},a.linearRingss=function(t,e,i,n,r){var o,s,l=[];for(o=0,s=i.length;s>o;++o){var u=i[o];l=a.linearRings(t,e,u,n,r,2*o,l),e=u[u.length-1]}return l},e.a=a},vkQb:function(t,e,i){"use strict";var n={};n.forEach=function(t,e,i,n,r,a){for(var o,s=[t[e],t[e+1]],l=[];i>e+n;e+=n){if(l[0]=t[e+n],l[1]=t[e+n+1],o=r.call(a,s,l))return o;s[0]=l[0],s[1]=l[1]}return!1},e.a=n},"vy+e":function(t,e,i){"use strict";var n=function(){};t.exports=n},w2Al:function(t,e,i){"use strict";var n={};n.createCanvasContext2D=function(t,e){var i=document.createElement("CANVAS");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")},n.outerWidth=function(t){var e=t.offsetWidth,i=getComputedStyle(t);return e+=parseInt(i.marginLeft,10)+parseInt(i.marginRight,10)},n.outerHeight=function(t){var e=t.offsetHeight,i=getComputedStyle(t);return e+=parseInt(i.marginTop,10)+parseInt(i.marginBottom,10)},n.replaceNode=function(t,e){var i=e.parentNode;i&&i.replaceChild(t,e)},n.removeNode=function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null},n.removeChildren=function(t){for(;t.lastChild;)t.removeChild(t.lastChild)},e.a=n},wGaO:function(t,e,i){"use strict";function n(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}function r(t){var e=/(=0|=2)/g,i={"=0":"=","=2":":"};return(""+t.substring("."===t[0]&&"$"===t[1]?2:1)).replace(e,function(t){return i[t]})}t.exports={escape:n,unescape:r}},whD8:function(t,e,i){"use strict";function n(t,e){for(var i=1540483477,n=e^t.length,s=t.length,l=0;s>=4;){var u=r(t,l);u=o(u,i),u^=u>>>24,u=o(u,i),n=o(n,i),n^=u,l+=4,s-=4}switch(s){case 3:n^=a(t,l),n^=t.charCodeAt(l+2)<<16,n=o(n,i);break;case 2:n^=a(t,l),n=o(n,i);break;case 1:n^=t.charCodeAt(l),n=o(n,i)}return n^=n>>>13,n=o(n,i),(n^=n>>>15)>>>0}function r(t,e){return t.charCodeAt(e++)+(t.charCodeAt(e++)<<8)+(t.charCodeAt(e++)<<16)+(t.charCodeAt(e)<<24)}function a(t,e){return t.charCodeAt(e++)+(t.charCodeAt(e++)<<8)}function o(t,e){return t|=0,e|=0,(65535&t)*e+(((t>>>16)*e&65535)<<16)|0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},wupX:function(t,e,i){"use strict";var n={};n.coordinates=function(t,e,i,n,r){var a,o=void 0!==r?r:[],s=0;for(a=e;i>a;a+=n)o[s++]=t.slice(a,a+n);return o.length=s,o},n.coordinatess=function(t,e,i,r,a){var o,s,l=void 0!==a?a:[],u=0;for(o=0,s=i.length;s>o;++o){var h=i[o];l[u++]=n.coordinates(t,e,h,r,l[u]),e=h}return l.length=u,l},n.coordinatesss=function(t,e,i,r,a){var o,s,l=void 0!==a?a:[],u=0;for(o=0,s=i.length;s>o;++o){var h=i[o];l[u++]=n.coordinatess(t,e,h,r,l[u]),e=h[h.length-1]}return l.length=u,l},e.a=n},x9Ij:function(t,e,i){"use strict";function n(t){for(var e=arguments.length-1,i="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,n=0;e>n;n++)i+="&args[]="+encodeURIComponent(arguments[n+1]);i+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var r=Error(i);throw r.name="Invariant Violation",r.framesToPop=1,r}t.exports=n},xL0k:function(t,e,i){"use strict";var n=i("CXX0"),r=i("zF6X"),a=i("/LWt"),o=i("aStr"),s=i("U/IR"),l=i("Tfug"),u=i("qxxq"),h=i("f5c8"),c=i("+b92"),f=i("bmSR"),d=i("ZXW8"),p=i("hrLW"),g=i("wupX"),m=i("vhPq"),_=i("pWpL"),y=i("piqq"),v=i("LmAy"),E=i("o1z/"),b=function(t,e){h.a.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(t,e)};n.a.inherits(b,h.a),b.prototype.appendLinearRing=function(t){this.flatCoordinates?r.a.extend(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},b.prototype.clone=function(){var t=new b(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),t},b.prototype.closestPointXY=function(t,e,i,n){return n<a.default.closestSquaredDistanceXY(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(f.a.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),f.a.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,i,n))},b.prototype.containsXY=function(t,e){return d.a.linearRingsContainsXY(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},b.prototype.getArea=function(){return c.a.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},b.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),y.a.orientLinearRings(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,g.a.coordinatess(e,0,this.ends_,this.stride)},b.prototype.getEnds=function(){return this.ends_},b.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=a.default.getCenter(this.getExtent());this.flatInteriorPoint_=m.a.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},b.prototype.getInteriorPoint=function(){return new u.default(this.getFlatInteriorPoint(),o.a.XYM)},b.prototype.getLinearRingCount=function(){return this.ends_.length},b.prototype.getLinearRing=function(t){if(0>t||t>=this.ends_.length)return null;var e=new l.a(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t])),e},b.prototype.getLinearRings=function(){var t,e,i=this.layout,n=this.flatCoordinates,r=this.ends_,a=[],o=0;for(t=0,e=r.length;e>t;++t){var s=r[t],u=new l.a(null);u.setFlatCoordinates(i,n.slice(o,s)),a.push(u),o=s}return a},b.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;y.a.linearRingsAreOriented(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=y.a.orientLinearRings(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},b.prototype.getSimplifiedGeometryInternal=function(t){var e=[],i=[];e.length=v.a.quantizes(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,i);var n=new b(null);return n.setFlatCoordinates(o.a.XY,e,i),n},b.prototype.getType=function(){return s.a.POLYGON},b.prototype.intersectsExtent=function(t){return _.a.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},b.prototype.setCoordinates=function(t,e){if(t){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=p.a.coordinatess(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()}else this.setFlatCoordinates(o.a.XY,null,this.ends_)},b.prototype.setFlatCoordinates=function(t,e,i){this.setFlatCoordinatesInternal(t,e),this.ends_=i,this.changed()},b.circular=function(t,e,i,n){var a,s=n||32,l=[];for(a=0;s>a;++a)r.a.extend(l,t.offset(e,i,2*Math.PI*a/s));l.push(l[0],l[1]);var u=new b(null);return u.setFlatCoordinates(o.a.XY,l,[l.length]),u},b.fromExtent=function(t){var e=t[0],i=t[1],n=t[2],r=t[3],a=[e,i,e,r,n,r,n,i,e,i],s=new b(null);return s.setFlatCoordinates(o.a.XY,a,[a.length]),s},b.fromCircle=function(t,e,i){for(var n=e||32,r=t.getStride(),a=t.getLayout(),o=new b(null,a),s=r*(n+1),l=Array(s),u=0;s>u;u++)l[u]=0;return o.setFlatCoordinates(a,l,[l.length]),b.makeRegular(o,t.getCenter(),t.getRadius(),i),o},b.makeRegular=function(t,e,i,n){for(var r,a,o=t.getFlatCoordinates(),s=t.getLayout(),l=t.getStride(),u=t.getEnds(),h=o.length/l-1,c=n||0,f=0;h>=f;++f)a=f*l,r=c+2*E.a.modulo(f,h)*Math.PI/h,o[a]=e[0]+i*Math.cos(r),o[a+1]=e[1]+i*Math.sin(r);t.setFlatCoordinates(s,o,u)},e.a=b},xYKS:function(t,e,i){"use strict";function n(t,e,i){"flexDirection"===t&&"string"==typeof e&&(i.WebkitBoxOrient=e.indexOf("column")>-1?"vertical":"horizontal",i.WebkitBoxDirection=e.indexOf("reverse")>-1?"reverse":"normal"),a.hasOwnProperty(t)&&(i[a[t]]=r[e]||e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},a={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};t.exports=e.default},xek4:function(t,e,i){"use strict";var n=i("o1z/"),r={};r.disable=function(t,e){return void 0!==t?0:void 0},r.none=function(t,e){return void 0!==t?t+e:void 0},r.createSnapToN=function(t){var e=2*Math.PI/t;return function(t,i){return void 0!==t?t=Math.floor((t+i)/e+.5)*e:void 0}},r.createSnapToZero=function(t){var e=t||n.a.toRadians(5);return function(t,i){return void 0!==t?Math.abs(t+i)>e?t+i:0:void 0}},e.a=r},xifc:function(t,e,i){"use strict";var n={};n.buffer=function(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]+2*e,i[1]=t[1]+2*e,i},n.hasArea=function(t){return t[0]>0&&t[1]>0},n.scale=function(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i},n.toSize=function(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)},e.a=n},yGLh:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CXX0"),r=i("o1z/"),a=i("U/IR"),o=function(t){this.radius=t};o.prototype.geodesicArea=function(t){return o.getArea_(t,this.radius)},o.prototype.haversineDistance=function(t,e){return o.getDistance_(t,e,this.radius)},o.prototype.offset=function(t,e,i){var n=r.a.toRadians(t[1]),a=r.a.toRadians(t[0]),o=e/this.radius,s=Math.asin(Math.sin(n)*Math.cos(o)+Math.cos(n)*Math.sin(o)*Math.cos(i)),l=a+Math.atan2(Math.sin(i)*Math.sin(o)*Math.cos(n),Math.cos(o)-Math.sin(n)*Math.sin(s));return[r.a.toDegrees(l),r.a.toDegrees(s)]},o.DEFAULT_RADIUS=6371008.8,o.getLength=function(t,e){var i=e||{},n=i.radius||o.DEFAULT_RADIUS,r=i.projection||"EPSG:3857";t=t.clone().transform(r,"EPSG:4326");var s,l,u,h,c,f,d=t.getType(),p=0;switch(d){case a.a.POINT:case a.a.MULTI_POINT:break;case a.a.LINE_STRING:case a.a.LINEAR_RING:s=t.getCoordinates(),p=o.getLength_(s,n);break;case a.a.MULTI_LINE_STRING:case a.a.POLYGON:for(s=t.getCoordinates(),u=0,h=s.length;h>u;++u)p+=o.getLength_(s[u],n);break;case a.a.MULTI_POLYGON:for(s=t.getCoordinates(),u=0,h=s.length;h>u;++u)for(l=s[u],c=0,f=l.length;f>c;++c)p+=o.getLength_(l[c],n);break;case a.a.GEOMETRY_COLLECTION:var g=t.getGeometries();for(u=0,h=g.length;h>u;++u)p+=o.getLength(g[u],e);break;default:throw Error("Unsupported geometry type: "+d)}return p},o.getLength_=function(t,e){for(var i=0,n=0,r=t.length;r-1>n;++n)i+=o.getDistance_(t[n],t[n+1],e);return i},o.getDistance_=function(t,e,i){var n=r.a.toRadians(t[1]),a=r.a.toRadians(e[1]),o=(a-n)/2,s=r.a.toRadians(e[0]-t[0])/2,l=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(n)*Math.cos(a);return 2*i*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))},o.getArea=function(t,e){var i=e||{},n=i.radius||o.DEFAULT_RADIUS,r=i.projection||"EPSG:3857";t=t.clone().transform(r,"EPSG:4326");var s,l,u,h,c,f,d=t.getType(),p=0;switch(d){case a.a.POINT:case a.a.MULTI_POINT:case a.a.LINE_STRING:case a.a.MULTI_LINE_STRING:case a.a.LINEAR_RING:break;case a.a.POLYGON:for(s=t.getCoordinates(),p=Math.abs(o.getArea_(s[0],n)),u=1,h=s.length;h>u;++u)p-=Math.abs(o.getArea_(s[u],n));break;case a.a.MULTI_POLYGON:for(s=t.getCoordinates(),u=0,h=s.length;h>u;++u)for(l=s[u],p+=Math.abs(o.getArea_(l[0],n)),c=1,f=l.length;f>c;++c)p-=Math.abs(o.getArea_(l[c],n));break;case a.a.GEOMETRY_COLLECTION:var g=t.getGeometries();for(u=0,h=g.length;h>u;++u)p+=o.getArea(g[u],e);break;default:throw Error("Unsupported geometry type: "+d)}return p},o.getArea_=function(t,e){for(var i=0,n=t.length,a=t[n-1][0],o=t[n-1][1],s=0;n>s;s++){var l=t[s][0],u=t[s][1];i+=r.a.toRadians(l-a)*(2+Math.sin(r.a.toRadians(o))+Math.sin(r.a.toRadians(u))),a=l,o=u}return i*e*e/2};var s=o,l=i("/LWt"),u=i("Ae3H"),h={};h.cache_=null,h.set=function(t){h.cache_=t},h.get=function(){return h.cache_||window.proj4};var c=h,f=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit;var e=t.code;if(n.a.ENABLE_PROJ4JS){var i=c.get();if("function"==typeof i){var r=i.defs(e);void 0!==r&&(void 0!==r.axis&&void 0===t.axisOrientation&&(this.axisOrientation_=r.axis),void 0===t.metersPerUnit&&(this.metersPerUnit_=r.to_meter),void 0===t.units&&(this.units_=r.units))}}};f.prototype.canWrapX=function(){return this.canWrapX_},f.prototype.getCode=function(){return this.code_},f.prototype.getExtent=function(){return this.extent_},f.prototype.getUnits=function(){return this.units_},f.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||u.a.METERS_PER_UNIT[this.units_]},f.prototype.getWorldExtent=function(){return this.worldExtent_},f.prototype.getAxisOrientation=function(){return this.axisOrientation_},f.prototype.isGlobal=function(){return this.global_},f.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},f.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},f.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},f.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},f.prototype.setWorldExtent=function(t){this.worldExtent_=t},f.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},f.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};var d=f,p={};p.Projection_=function(t){d.call(this,{code:t,units:u.a.METERS,extent:p.EXTENT,global:!0,worldExtent:p.WORLD_EXTENT,getPointResolution:function(t,e){return t/r.a.cosh(e[1]/p.RADIUS)}})},n.a.inherits(p.Projection_,d),p.RADIUS=6378137,p.HALF_SIZE=Math.PI*p.RADIUS,p.EXTENT=[-p.HALF_SIZE,-p.HALF_SIZE,p.HALF_SIZE,p.HALF_SIZE],p.WORLD_EXTENT=[-180,-85,180,85],p.PROJECTIONS=[new p.Projection_("EPSG:3857"),new p.Projection_("EPSG:102100"),new p.Projection_("EPSG:102113"),new p.Projection_("EPSG:900913"),new p.Projection_("urn:ogc:def:crs:EPSG:6.18:3:3857"),new p.Projection_("urn:ogc:def:crs:EPSG::3857"),new p.Projection_("http://www.opengis.net/gml/srs/epsg.xml#3857")],p.fromEPSG4326=function(t,e,i){var n=t.length,r=i>1?i:2,a=e;void 0===a&&(a=r>2?t.slice():Array(n));for(var o=p.HALF_SIZE,s=0;n>s;s+=r){a[s]=o*t[s]/180;var l=p.RADIUS*Math.log(Math.tan(Math.PI*(t[s+1]+90)/360));l>o?l=o:-o>l&&(l=-o),a[s+1]=l}return a},p.toEPSG4326=function(t,e,i){var n=t.length,r=i>1?i:2,a=e;void 0===a&&(a=r>2?t.slice():Array(n));for(var o=0;n>o;o+=r)a[o]=180*t[o]/p.HALF_SIZE,a[o+1]=360*Math.atan(Math.exp(t[o+1]/p.RADIUS))/Math.PI-90;return a};var g=p,m={};m.Projection_=function(t,e){d.call(this,{code:t,units:u.a.DEGREES,extent:m.EXTENT,axisOrientation:e,global:!0,metersPerUnit:m.METERS_PER_UNIT,worldExtent:m.EXTENT})},n.a.inherits(m.Projection_,d),m.RADIUS=6378137,m.EXTENT=[-180,-90,180,90],m.METERS_PER_UNIT=Math.PI*m.RADIUS/180,m.PROJECTIONS=[new m.Projection_("CRS:84"),new m.Projection_("EPSG:4326","neu"),new m.Projection_("urn:ogc:def:crs:EPSG::4326","neu"),new m.Projection_("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new m.Projection_("urn:ogc:def:crs:OGC:1.3:CRS84"),new m.Projection_("urn:ogc:def:crs:OGC:2:84"),new m.Projection_("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new m.Projection_("urn:x-ogc:def:crs:EPSG:4326","neu")];var _=m,y={};y.cache_={},y.clear=function(){y.cache_={}},y.get=function(t){return y.cache_[t]||null},y.add=function(t,e){y.cache_[t]=e};var v=y,E=i("tFCN"),b={};b.cache_={},b.clear=function(){b.cache_={}},b.add=function(t,e,i){var n=t.getCode(),r=e.getCode(),a=b.cache_;n in a||(a[n]={}),a[n][r]=i},b.remove=function(t,e){var i=t.getCode(),n=e.getCode(),r=b.cache_,a=r[i][n];return delete r[i][n],E.a.isEmpty(r[i])&&delete r[i],a},b.get=function(t,e){var i,n=b.cache_;return t in n&&e in n[t]&&(i=n[t][e]),i};var x=b,C={};C.METERS_PER_UNIT=u.a.METERS_PER_UNIT,C.SPHERE_=new s(s.DEFAULT_RADIUS),n.a.ENABLE_PROJ4JS&&(C.setProj4=function(t){c.set(t)}),C.getPointResolution=function(t,e,i,n){t=C.get(t);var r,a=t.getPointResolutionFunc();if(a)r=a(e,i);else if(t.getUnits()==u.a.DEGREES&&!n||n==u.a.DEGREES)r=e;else{var o=C.getTransformFromProjections(t,C.get("EPSG:4326")),s=[i[0]-e/2,i[1],i[0]+e/2,i[1],i[0],i[1]-e/2,i[0],i[1]+e/2];s=o(s,s,2),r=(C.SPHERE_.haversineDistance(s.slice(0,2),s.slice(2,4))+C.SPHERE_.haversineDistance(s.slice(4,6),s.slice(6,8)))/2;var l=n?u.a.METERS_PER_UNIT[n]:t.getMetersPerUnit();void 0!==l&&(r/=l)}return r},C.addEquivalentProjections=function(t){C.addProjections(t),t.forEach(function(e){t.forEach(function(t){e!==t&&x.add(e,t,C.cloneTransform)})})},C.addEquivalentTransforms=function(t,e,i,n){t.forEach(function(t){e.forEach(function(e){x.add(t,e,i),x.add(e,t,n)})})},C.addProjection=function(t){v.add(t.getCode(),t),x.add(t,t,C.cloneTransform)},C.addProjections=function(t){t.forEach(C.addProjection)},C.clearAllProjections=function(){v.clear(),x.clear()},C.createProjection=function(t,e){return t?"string"==typeof t?C.get(t):t:C.get(e)},C.addCoordinateTransforms=function(t,e,i,n){var r=C.get(t),a=C.get(e);x.add(r,a,C.createTransformFromCoordinateTransform(i)),x.add(a,r,C.createTransformFromCoordinateTransform(n))},C.createTransformFromCoordinateTransform=function(t){return function(e,i,n){var r,a,o,s=e.length,l=void 0!==n?n:2,u=void 0!==i?i:Array(s);for(a=0;s>a;a+=l)for(r=t([e[a],e[a+1]]),u[a]=r[0],u[a+1]=r[1],o=l-1;o>=2;--o)u[a+o]=e[a+o];return u}},C.fromLonLat=function(t,e){return C.transform(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")},C.toLonLat=function(t,e){var i=C.transform(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),n=i[0];return(-180>n||n>180)&&(i[0]=r.a.modulo(n+180,360)-180),i},C.get=function(t){var e=null;if(t instanceof d)e=t;else if("string"==typeof t){var i=t;if(e=v.get(i),n.a.ENABLE_PROJ4JS&&!e){var r=c.get();"function"==typeof r&&void 0!==r.defs(i)&&(e=new d({code:i}),C.addProjection(e))}}return e},C.equivalent=function(t,e){if(t===e)return!0;var i=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?i:C.getTransformFromProjections(t,e)===C.cloneTransform&&i},C.getTransform=function(t,e){var i=C.get(t),n=C.get(e);return C.getTransformFromProjections(i,n)},C.getTransformFromProjections=function(t,e){var i=t.getCode(),r=e.getCode(),a=x.get(i,r);if(n.a.ENABLE_PROJ4JS&&!a){var o=c.get();if("function"==typeof o){var s=o.defs(i),l=o.defs(r);if(void 0!==s&&void 0!==l){if(s===l)C.addEquivalentProjections([e,t]);else{var u=o(r,i);C.addCoordinateTransforms(e,t,u.forward,u.inverse)}a=x.get(i,r)}}}return a||(a=C.identityTransform),a},C.identityTransform=function(t,e,i){if(void 0!==e&&t!==e){for(var n=0,r=t.length;r>n;++n)e[n]=t[n];t=e}return t},C.cloneTransform=function(t,e,i){var n;if(void 0!==e){for(var r=0,a=t.length;a>r;++r)e[r]=t[r];n=e}else n=t.slice();return n},C.transform=function(t,e,i){return C.getTransform(e,i)(t,void 0,t.length)},C.transformExtent=function(t,e,i){var n=C.getTransform(e,i);return l.default.applyTransform(t,n)},C.transformWithProjections=function(t,e,i){return C.getTransformFromProjections(e,i)(t)},(C.addCommon=function(){C.addEquivalentProjections(g.PROJECTIONS),C.addEquivalentProjections(_.PROJECTIONS),C.addEquivalentTransforms(_.PROJECTIONS,g.PROJECTIONS,g.fromEPSG4326,g.toEPSG4326)})(),e.default=C},zF6X:function(t,e,i){"use strict";var n={};n.binarySearch=function(t,e,i){for(var r,a,o=i||n.numberSafeCompareFunction,s=0,l=t.length,u=!1;l>s;)r=s+(l-s>>1),a=+o(t[r],e),0>a?s=r+1:(l=r,u=!a);return u?s:~s},n.numberSafeCompareFunction=function(t,e){return t>e?1:e>t?-1:0},n.includes=function(t,e){return t.indexOf(e)>=0},n.linearFindNearest=function(t,e,i){var n=t.length;if(t[0]>e){if(e>t[n-1]){var r;if(i>0){for(r=1;n>r;++r)if(e>t[r])return r-1}else if(0>i){for(r=1;n>r;++r)if(e>=t[r])return r}else for(r=1;n>r;++r){if(t[r]==e)return r;if(e>t[r])return e-t[r]>t[r-1]-e?r-1:r}return n-1}return n-1}return 0},n.reverseSubArray=function(t,e,i){for(;i>e;){var n=t[e];t[e]=t[i],t[i]=n,++e,--i}},n.extend=function(t,e){var i,n=Array.isArray(e)?e:[e],r=n.length;for(i=0;r>i;i++)t[t.length]=n[i]},n.remove=function(t,e){var i=t.indexOf(e),n=i>-1;return n&&t.splice(i,1),n},n.find=function(t,e){for(var i,n=t.length>>>0,r=0;n>r;r++)if(i=t[r],e(i,r,t))return i;return null},n.equals=function(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;i>n;n++)if(t[n]!==e[n])return!1;return!0},n.stableSort=function(t,e){var i,n=t.length,r=Array(t.length);for(i=0;n>i;i++)r[i]={index:i,value:t[i]};for(r.sort(function(t,i){return e(t.value,i.value)||t.index-i.index}),i=0;t.length>i;i++)t[i]=r[i].value},n.findIndex=function(t,e){var i;return t.every(function(n,r){return i=r,!e(n,r,t)})?-1:i},n.isSorted=function(t,e,i){var r=e||n.numberSafeCompareFunction;return t.every(function(e,n){if(0===n)return!0;var a=r(t[n-1],e);return!(a>0||i&&0===a)})},e.a=n},zcFO:function(t,e){t.exports=function(){for(var t=arguments.length,e=[],i=0;t>i;i++)e[i]=arguments[i];if(e=e.filter(function(t){return null!=t}),0!==e.length)return 1===e.length?e[0]:e.reduce(function(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}})}}},["RUl1"])});